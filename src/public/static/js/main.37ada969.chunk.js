(this["webpackJsonpsidiro-frontend"]=this["webpackJsonpsidiro-frontend"]||[]).push([[0],{220:function(e,t,a){var n=a(727),r=[];e.exports=function(){var e=new Worker(a.p+"f6529ac1287de0cf76f3.worker.js",{name:"[hash].worker.js"});return n(e,r),e}},279:function(e,t,a){},280:function(e,t,a){},742:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(25),o=a.n(i),s=(a(279),a(8)),l=(a(280),a(247)),d=a(822),u=a(51),b=a(7),m=a(101),j=a(19),g=a(4),p=a(782),h=a(830),f=a(42),x=a(816),v=a(805),O=a(815),y=a(810),D=a(795),w=a(222),L=a.n(w),T=a(221),_=a.n(T),k=a(745),C=a(817),N=a(818),I=a(171),A=a.n(I),S=a(34),P=a(819),H=a(820),M=a(166),E=a.n(M),F=a(168),V=a.n(F),R=a(831),Z=a(786),B="SET_DEVICE_DATA_DIALOG_OPEN",W="SET_DEVICE_DATA_DIALOG_DATE_FROM",U=function(e){return{type:B,open:e.open,deviceName:e.deviceName,deviceType:e.deviceType,breakerName:e.breakerName,sectionName:e.sectionName,assetID:e.assetID,switchboardAssetID:e.switchboardAssetID}},z=function(e){return{type:W,dateFrom:e}},G=a(1),X=function(e){var t=e.x,a=e.y,n=e.tableName,r=e.parameter1,i=e.parameter2,o=e.parameter3,s=e.deviceType,l=e.breakerName,d=e.sectionName,u=e.assetID,m=e.switchboardAssetID,j=ve(),g=Object(b.b)();return Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("rect",{x:t,y:a,width:1.1*fe,height:.3*fe,className:j.paramsTableTitleStyle}),Object(G.jsx)("rect",{x:t,y:a+.3*fe,width:1.1*fe,height:.3*fe,className:j.paramsTableRowStyle}),Object(G.jsx)("rect",{x:t,y:a+.6*fe,width:1.1*fe,height:.3*fe,className:j.paramsTableRowStyle}),Object(G.jsx)("rect",{x:t,y:a+.9*fe,width:1.1*fe,height:.3*fe,className:j.paramsTableRowStyle}),Object(G.jsx)("text",{x:t+.55*fe,y:a+.15*fe,className:j.paramsTableTitleTextStyle,children:n}),Object(G.jsxs)("text",{x:t+1.1*fe,y:a+.45*fe,className:j.paramsTableRowTextStyle,children:[r,"\xa0"]}),Object(G.jsxs)("text",{x:t+1.1*fe,y:a+.75*fe,className:j.paramsTableRowTextStyle,children:[i,"\xa0"]}),Object(G.jsxs)("text",{x:t+1.1*fe,y:a+1.05*fe,className:j.paramsTableRowTextStyle,children:[o,"\xa0"]}),Object(G.jsx)("rect",{x:t,y:a,width:1.1*fe,height:1.2*fe,className:j.clickableOverlay,onClick:function(){g(U({open:!0,deviceName:n,deviceType:s,breakerName:l,sectionName:d,assetID:u,switchboardAssetID:m}))}})]})};!function(e){e.circuitBreaker="circuitBreaker",e.transformer="transformer",e.generator="generator",e.infeedBreaker="infeedBreaker",e.drawOutCircuitBreaker="drawOutCircuitBreaker",e.couplingBreaker="couplingBreaker"}(n||(n={}));var J,K,q,Y,$,Q,ee,te=function(e){var t=e.x,a=e.y,r=e.name,i=e.sectionName,o=e.tableName,s=e.assetID,l=e.activePower,d=e.current,u=e.powerFactor,b=e.voltageApplied,m=e.noTable,j=e.overview,g=e.breakerName,p=e.switchboardAssetID,h=ve();return Object(G.jsxs)(c.a.Fragment,{children:[j?null:Object(G.jsxs)("text",{x:t,y:a,className:h.infeedsNameStyle,children:[r,"\xa0"]}),Object(G.jsx)("line",{x1:t,y1:a,x2:t,y2:a+.5*fe,className:b?h.lineStyleVoltageApplied:h.lineStyle}),Object(G.jsx)("circle",{cx:t,cy:a+.5*fe+xe,r:xe,className:b?h.circleStyleVoltageApplied:h.circleStyle}),Object(G.jsx)("circle",{cx:t,cy:a+.5*fe+2*xe,r:xe,className:b?h.circleStyleVoltageApplied:h.circleStyle}),Object(G.jsx)("line",{x1:t,y1:a+.5*fe+3*xe,x2:t,y2:a+1.5*fe+3*xe,className:b?h.lineStyleVoltageApplied:h.lineStyle}),!m&&o?Object(G.jsx)(X,{x:t+.7*fe,y:a+.5*fe,tableName:o,parameter1:"".concat(l," kW"),parameter2:"".concat(d," A"),parameter3:"".concat(u," PF"),deviceType:n.transformer,breakerName:g,sectionName:i,assetID:s,switchboardAssetID:p}):null,j?Object(G.jsxs)("text",{x:t,y:a,className:h.overviewTabSVGTextsCentralLeftAnchor,children:["\xa0\xa0",r]}):null]})},ae="SET_UNIVERSAL_TABS_NAME_INDEX",ne=function(e,t){return{type:ae,name:e,index:t}},re=function(e){var t=e.x,a=e.y,n=e.state,r=e.name,i=e.deviceType,o=e.sectionName,s=e.assetID,l=e.tableName,d=e.activePower,u=e.current,m=e.powerFactor,j=e.noTable,g=e.tableAbove,p=e.nextSwitchboardIndex,h=e.previousSwitchboardIndex,f=e.drawOut,x=e.voltageAbove,v=e.voltageBelow,O=e.switchboardAssetID,y=ve(),D=Object(b.b)();return Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsxs)("text",{x:t,y:a+.07*fe,className:y.circuitBreakersNameStyle,children:[r,"\xa0"]}),Object(G.jsx)("line",{x1:t,y1:a,x2:t,y2:a+fe,className:x?y.lineStyleVoltageApplied:y.lineStyle}),f?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("line",{x1:t,y1:a+.25*fe,x2:t,y2:a+.5*fe,className:x?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(45 ".concat(t," ").concat(a+.25*fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+.25*fe,x2:t,y2:a+.5*fe,className:x?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(315 ".concat(t," ").concat(a+.25*fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+.15*fe,x2:t,y2:a+.4*fe,className:x?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(135 ".concat(t," ").concat(a+.4*fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+.15*fe,x2:t,y2:a+.4*fe,className:x?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(225 ".concat(t," ").concat(a+.4*fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+2.6*fe,x2:t,y2:a+2.85*fe,className:v?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(135 ".concat(t," ").concat(a+2.6*fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+2.6*fe,x2:t,y2:a+2.85*fe,className:v?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(225 ".concat(t," ").concat(a+2.6*fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+2.5*fe,x2:t,y2:a+2.75*fe,className:v?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(45 ".concat(t," ").concat(a+2.75*fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+2.5*fe,x2:t,y2:a+2.75*fe,className:v?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(315 ".concat(t," ").concat(a+2.75*fe,")")})]}):null,Object(G.jsx)("line",{x1:t,y1:a+.75*fe,x2:t,y2:a+1.25*fe,className:x?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(45 ".concat(t," ").concat(a+fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+.75*fe,x2:t,y2:a+1.25*fe,className:x?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(-45 ".concat(t," ").concat(a+fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+fe,x2:t,y2:a+2*fe,transform:n.closed?"rotate(0 ".concat(t," ").concat(a+2*fe,")"):"rotate(-45 ".concat(t," ").concat(a+2*fe,")"),className:v?y.lineStyleVoltageApplied:y.lineStyle}),Object(G.jsx)("line",{x1:t,y1:a+2*fe,x2:t,y2:a+3*fe,className:v?y.lineStyleVoltageApplied:y.lineStyle}),!j&&l?Object(G.jsx)(X,{x:t-1.1*fe/2,y:g?a-1.25*fe:a+3*fe,tableName:l,parameter1:"".concat(d," kW"),parameter2:"".concat(u," A"),parameter3:"".concat(m," PF"),deviceType:i,breakerName:r,sectionName:o,assetID:s,switchboardAssetID:O}):null,!j&&l&&g&&void 0!==h?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("line",{x1:t,x2:t,y1:a-2.2*fe,y2:a-1.3*fe,className:x?y.lineStyleVoltageApplied:y.lineStyle}),Object(G.jsx)("line",{x1:t,y1:a-2.2*fe,x2:t,y2:a-1.95*fe,className:x?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(45 ".concat(t," ").concat(a-2.2*fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+-2.2*fe,x2:t,y2:a-1.95*fe,className:x?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(315 ".concat(t," ").concat(a-2.2*fe,")")}),Object(G.jsx)("rect",{onClick:function(){return D(ne("overview",h))},x:t-.55*fe,y:a-2.3*fe,width:1.1*fe,height:1.05*fe,className:y.clickableOverlay})]}):null,void 0!==p?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("line",{x1:t,x2:t,y1:a+4.25*fe,y2:a+4.75*fe,className:v?y.lineStyleVoltageApplied:y.lineStyle}),Object(G.jsx)("line",{x1:t,y1:a+4.75*fe,x2:t,y2:a+5*fe,className:v?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(135 ".concat(t," ").concat(a+4.75*fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+4.75*fe,x2:t,y2:a+5*fe,className:v?y.lineStyleVoltageApplied:y.lineStyle,transform:"rotate(225 ".concat(t," ").concat(a+4.75*fe,")")}),Object(G.jsx)("rect",{onClick:function(){return D(ne("overview",p))},x:t-.55*fe,y:a+4.2*fe,width:1.1*fe,height:.75*fe,className:y.clickableOverlay})]}):null]})},ce=function(e){var t=e.x,a=e.y,r=e.name,i=e.sectionName,o=e.tableName,s=e.assetID,l=e.activePower,d=e.current,u=e.powerFactor,b=e.voltageApplied,m=e.noTable,j=e.overview,g=e.breakerName,p=e.switchboardAssetID,h=ve();return Object(G.jsxs)(c.a.Fragment,{children:[j?null:Object(G.jsxs)("text",{x:t+2*fe,y:a,className:h.infeedsNameStyle,children:[r,"\xa0"]}),Object(G.jsx)("circle",{cx:t,cy:a+xe,r:xe,className:b?h.circleStyleVoltageApplied:h.circleStyle}),Object(G.jsx)("text",{x:t,y:a+xe,className:h.generatorSymbolTextStyle,children:"G"}),Object(G.jsx)("line",{x1:t,y1:a+2*xe,x2:t,y2:a+2*xe+2*fe,className:b?h.lineStyleVoltageApplied:h.lineStyle}),!m&&o?Object(G.jsx)(X,{x:t+.7*fe,y:a+.5*fe,tableName:o,parameter1:"".concat(l," kW"),parameter2:"".concat(d," A"),parameter3:"".concat(u," PF"),deviceType:n.generator,breakerName:g,sectionName:i,assetID:s,switchboardAssetID:p}):null,j?Object(G.jsxs)("text",{x:t+xe,y:a,className:h.overviewTabSVGTextsCentralLeftAnchor,children:["\xa0\xa0",r]}):null]})};!function(e){e.tealLight="rgb(65, 170, 170)",e.greenLight="rgb(170, 180, 20)",e.redLight="rgb(175, 35, 95)",e.yellowLight="rgb(255, 185, 0)",e.blueLight="rgb(80, 190, 215)",e.tealDark="rgb(0, 100, 110)",e.greenDark="rgb(100, 125, 45)",e.redDark="rgb(100, 25, 70)",e.yellowDark="rgb(235, 120, 10)",e.blueDark="rgb(0, 95, 135)"}(J||(J={})),function(e){e.tealLightAlpha="rgba(65, 170, 170, 0.5)",e.greenLightAlpha="rgba(170, 180, 20, 0.5)",e.redLightAlpha="rgba(175, 35, 95, 0.5)",e.yellowLightAlpha="rgba(255, 185, 0, 0.5)",e.blueLightAlpha="rgba(80, 190, 215, 0.5)",e.tealDarkAlpha="rgba(0, 100, 110, 0.5)",e.greenDarkAlpha="rgba(100, 125, 45, 0.5)",e.redDarkAlpha="rgba(100, 25, 70, 0.5)",e.yellowDarkAlpha="rgba(235, 120, 10, 0.5)",e.blueDarkAlpha="rgba(0, 95, 135, 0.5)"}(K||(K={})),function(e){e.dark1="#003c46",e.dark2="#004b55",e.dark3="#00646e",e.dark4="#00737d",e.dark5="#0f8287",e.dark6="#239196",e.light1="#32a0a0",e.light2="#41aaaa",e.light3="#4bb9b9",e.light4="#78cdcd",e.light5="#a5e1e1",e.light6="#c3f0f0"}(q||(q={})),function(e){e.dark1="#003750",e.dark2="#004669",e.dark3="#00557d",e.dark4="#005f87",e.dark5="#0f789b",e.dark6="#2387aa",e.light1="#3296b9",e.light2="#41aac8",e.light3="#50bed7",e.light4="#7dd2e6",e.light5="#aae6f5",e.light6="#c8f5ff"}(Y||(Y={})),function(e){e.dark1="#7d2d1e",e.dark2="#a03c23",e.dark3="#b44b28",e.dark4="#c85a1e",e.dark5="#dc6914",e.dark6="#eb780a",e.light1="#f58c14",e.light2="#faa50a",e.light3="#ffb900",e.light4="#ffcd50",e.light5="#ffe178",e.light6="#fff09b"}($||($={})),function(e){e.dark1="#411432",e.dark2="#50143c",e.dark3="#641946",e.dark4="#781e4b",e.dark5="#871e50",e.dark6="#9b1e5a",e.light1="#af235f",e.light2="#c34673",e.light3="#d7698c",e.light4="#e687a5",e.light5="#f0aac3",e.light6="#f5c8dc"}(Q||(Q={})),function(e){e.dark1="#37500f",e.dark2="#465f19",e.dark3="#556e28",e.dark4="#647d28",e.dark5="#738732",e.dark6="#879628",e.light1="#96a51e",e.light2="#aab414",e.light3="#bec328",e.light4="#d2d741",e.light5="#e6e65f",e.light6="#f0f08c"}(ee||(ee={}));var ie=function(e){switch(e){case 0:return q.light2;case 1:return $.light2;case 2:return ee.light2;case 3:return Q.light2;case 4:return Y.light2;case 5:return q.light4;case 6:return $.light4;case 7:return ee.light4;case 8:return Q.light4;case 9:return Y.light4;case 10:return q.light6;case 11:return $.light6;case 12:return ee.light6;case 13:return Q.light6;case 14:return Y.light6;case 15:return q.dark2;case 16:return $.dark2;case 17:return ee.dark2;case 18:return Y.dark2;case 20:return q.light3;case 21:return $.light3;case 22:return ee.light3;case 23:return Q.light3;case 24:return Y.light3;case 25:return q.light5;case 26:return $.light5;case 27:return ee.light5;case 28:return Q.light5;case 29:return Y.light5;case 30:return q.dark1;case 31:return $.dark1;case 32:return ee.dark1;case 33:return Q.dark1;case 34:return Y.dark1;case 35:return q.dark3;case 36:return $.dark3;case 37:return ee.dark3;case 38:return Q.dark3;case 39:return Y.dark3;default:return Q.dark1}},oe=function(e){var t=e.x,a=e.y,n=e.length,r=e.voltageApplied,i=e.endCoupling,o=e.nextSectionVoltageApplied,s=ve();return Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("line",{x1:t-.25*fe,y1:a,x2:t+n+.25*fe,y2:a,className:r?s.lineStyleVoltageApplied:s.lineStyle}),i||null,i?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("line",{x1:t+n,y1:a-3*fe,x2:t+n+fe,y2:a-3*fe,className:o?s.lineStyleVoltageApplied:s.lineStyle}),Object(G.jsx)("line",{x1:t+n+fe,y1:a-3*fe,x2:t+n+fe,y2:a,className:o?s.lineStyleVoltageApplied:s.lineStyle})]}):null]})},se=a(9),le=a(783),de=a(826),ue=a(785),be=a(823),me=function(e){var t=e.children,a=e.value,n=e.index,r=e.other;return Object(G.jsx)("div",Object(se.a)(Object(se.a)({role:"tabpanel",hidden:a!==n,id:"scrollable-force-tabpanel-".concat(n),"aria-labelledby":"scrollable-force-tab-".concat(n)},r),{},{children:a===n&&Object(G.jsx)(be.a,{p:1,children:t})}))},je=Object(p.a)((function(e){return{root:{flexGrow:1,"& > * + *":{paddingTop:e.spacing(2)}}}})),ge=function(e){var t=e.name,a=e.tabs,n=je(),r=Object(b.c)((function(e){return e.universalTabs})),c=Object(b.b)();return Object(G.jsxs)("div",{className:n.root,children:[Object(G.jsx)(le.a,{position:"static",color:"default",children:Object(G.jsx)(de.a,{value:r[t]||0,onChange:function(e,a){return c(ne(t,a))},variant:"scrollable",scrollButtons:"auto",indicatorColor:"secondary",textColor:"secondary","aria-label":"scrollable force tabs",children:a.map((function(e,t){return Object(G.jsx)(ue.a,Object(se.a)({label:e.label},{id:"scrollable-force-tab-".concat(a=t),"aria-controls":"scrollable-force-tabpanel-".concat(a)}),"tab-".concat(t));var a}))})}),a.map((function(e,a){return Object(G.jsx)(me,{value:r[t]||0,index:a,children:e.content},"tabpanel-".concat(a))}))]})},pe=function(e){var t=!1,a=!1,n=!1;return Boolean(1&e)&&(t=!0),Boolean(2&e)&&(a=!0),Boolean(4&e)&&(n=!0),{closed:t,tripped:a,drawnOut:n}},he=function(e,t){var a=parseFloat((e/Math.sqrt(Math.pow(e,2)+Math.pow(t,2))).toFixed(3));return isNaN(a)?0:a},fe=6,xe=.5*fe,ve=Object(p.a)((function(e){return Object(h.a)({lineStyle:{stroke:"dark"===e.palette.type?e.palette.text.primary:"#000000",strokeWidth:fe/25,strokeLinecap:"round"},circleStyle:{stroke:"dark"===e.palette.type?e.palette.text.primary:"#000000",strokeWidth:fe/25,strokeLinecap:"round",fill:"none"},lineStyleVoltageApplied:{strokeWidth:fe/25,strokeLinecap:"round",stroke:"#10b115"},circleStyleVoltageApplied:{strokeWidth:fe/25,strokeLinecap:"round",fill:"none",stroke:"#10b115"},generatorSymbolTextStyle:{fontSize:"".concat(xe/10,"em"),fill:"dark"===e.palette.type?e.palette.text.primary:q.dark3,textAnchor:"middle",dominantBaseline:"central"},paramsTableTitleStyle:{stroke:"dark"===e.palette.type?$.light3:Y.dark4,strokeWidth:fe/64,fill:"dark"===e.palette.type?e.palette.background.paper:Y.dark4},paramsTableRowStyle:{stroke:"dark"===e.palette.type?$.light3:Y.dark4,strokeWidth:fe/64,fill:"dark"===e.palette.type?e.palette.background.paper:Y.light6},paramsTableTitleTextStyle:{fontSize:"".concat(xe/39,"em"),fill:"dark"===e.palette.type?e.palette.text.primary:"#ffffff",textAnchor:"middle",dominantBaseline:"central",letterSpacing:"-0.03em"},paramsTableRowTextStyle:{fontSize:"".concat(xe/36,"em"),fill:e.palette.text.primary,textAnchor:"end",dominantBaseline:"central",letterSpacing:"-0.02em"},infeedsNameStyle:{fontSize:"".concat(xe/15,"em"),fill:"dark"===e.palette.type?e.palette.text.primary:q.dark3,textAnchor:"end",dominantBaseline:"hanging",letterSpacing:"-0.05em"},circuitBreakersNameStyle:{fill:"dark"===e.palette.type?e.palette.text.primary:q.dark3,textAnchor:"end",dominantBaseline:"hanging",letterSpacing:"-0.05em",fontSize:"".concat(xe/26,"em")},clickableOverlay:{fill:"rgba(255, 255, 255, 0)","&:hover, &:focus":{stroke:$.light3,strokeWidth:fe/32}},overviewTabSVGTextsCentralAnchor:{fontSize:"".concat(xe/32,"em"),fill:e.palette.text.primary,textAnchor:"middle",dominantBaseline:"central",letterSpacing:"-0.02em"},overviewTabSVGTextsCentralLeftAnchor:{fontSize:"".concat(xe/32,"em"),fill:e.palette.text.primary,textAnchor:"start",dominantBaseline:"hanging",letterSpacing:"-0.02em"},svgContainer:{overflowX:"auto",whiteSpace:"nowrap"},svgElement:{minWidth:"1500px"}})})),Oe=function(){var e=Object(R.a)().t,t=ve(),a=Object(b.c)((function(e){return e.overview})),r=Object(b.c)((function(e){return e.systemTopologyData})),i=150,o=function(a,n,r){return Object(G.jsx)("text",{x:n,y:r,className:t.infeedsNameStyle,children:"".concat(e("overviewPage.switchboard")," ").concat(a)})},s=function(e,t,i,o,s,d,b,m,p){var h,f,x,v,O,y,D,w,L,T,_,k;switch(d){case n.transformer:return Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(te,{x:b,y:m,name:e,tableName:o,assetID:s.assetID,activePower:(null===(h=r[s.assetID])||void 0===h?void 0:h.Active_Power_Import)||0,current:u(null===(f=r[s.assetID])||void 0===f?void 0:f.Current_L1,null===(x=r[s.assetID])||void 0===x?void 0:x.Current_L2,null===(v=r[s.assetID])||void 0===v?void 0:v.Current_L3),powerFactor:he(null===(O=r[s.assetID])||void 0===O?void 0:O.Active_Power_Import,null===(y=r[s.assetID])||void 0===y?void 0:y.Reactive_Power_Import),breakerName:s.name,sectionName:t,voltageApplied:j(i)&&g(s.assetID).closed,switchboardAssetID:p}),l(s.name,t,i,"",s.type,s.assetID,b,m+3*fe,void 0,void 0,void 0,s.state,!0,p)]},"".concat(b,"-").concat(m));case n.generator:return Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(ce,{x:b,y:m,name:e,tableName:o,assetID:s.assetID,activePower:(null===(D=r[s.assetID])||void 0===D?void 0:D.Active_Power_Import)||0,current:u(null===(w=r[s.assetID])||void 0===w?void 0:w.Current_L1,null===(L=r[s.assetID])||void 0===L?void 0:L.Current_L2,null===(T=r[s.assetID])||void 0===T?void 0:T.Current_L3),powerFactor:he(null===(_=r[s.assetID])||void 0===_?void 0:_.Active_Power_Import,null===(k=r[s.assetID])||void 0===k?void 0:k.Reactive_Power_Import),breakerName:s.name,sectionName:t,voltageApplied:j(i)&&g(s.assetID).closed,switchboardAssetID:p}),l(s.name,t,i,"",s.type,s.assetID,b,m+3*fe,void 0,void 0,void 0,s.state,!0,p)]},"".concat(b,"-").concat(m));case"":var C=a.diagrams.findIndex((function(e){return e.name===s.tableName}));return l(s.name,t,i,s.tableName,s.type,s.assetID,b,m+3*fe,void 0,!0,-1!==C?C:void 0,s.state,void 0,p);default:return null}},l=function(e,t,a,c,i,o,s,l){var d,b,g,p,h,f,x,v,O=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0,y=arguments.length>9&&void 0!==arguments[9]?arguments[9]:void 0,D=arguments.length>10&&void 0!==arguments[10]?arguments[10]:void 0,w=arguments.length>11&&void 0!==arguments[11]?arguments[11]:void 0,L=arguments.length>12&&void 0!==arguments[12]?arguments[12]:void 0,T=arguments.length>13?arguments[13]:void 0;switch(i){case n.circuitBreaker:case n.infeedBreaker:case n.drawOutCircuitBreaker:return Object(G.jsx)(re,{x:s,y:l,state:void 0!==w?pe(w):pe(null===(d=r[o])||void 0===d?void 0:d.Breaker_State)||!1,name:e,tableName:c,assetID:o,activePower:(null===(b=r[o])||void 0===b?void 0:b.Active_Power_Import)||0,current:u(null===(g=r[o])||void 0===g?void 0:g.Current_L1,null===(p=r[o])||void 0===p?void 0:p.Current_L2,null===(h=r[o])||void 0===h?void 0:h.Current_L3),powerFactor:he(null===(f=r[o])||void 0===f?void 0:f.Active_Power_Import,null===(x=r[o])||void 0===x?void 0:x.Reactive_Power_Import),noTable:void 0===c,nextSwitchboardIndex:O,previousSwitchboardIndex:D,tableAbove:y,sectionName:t,deviceType:i,drawOut:i===n.drawOutCircuitBreaker,voltageBelow:(L||pe(null===(v=r[o])||void 0===v?void 0:v.Breaker_State).closed)&&j(a),voltageAbove:L?m(o):j(a),switchboardAssetID:T},"".concat(s,"-").concat(l));default:return null}},d=function(e,t,a,c,i,o,s){var l,d,b,m,g,p,h;return Object(G.jsx)(oe,{x:e,y:t,length:a,voltageApplied:j(c),nextSectionVoltageApplied:!!s&&s.nextSectionUnderVoltage,endCoupling:!!s&&Object(G.jsx)(re,{x:e+a,y:t-3*fe,state:void 0!==s.fixedState?pe(s.fixedState):pe(null===(l=r[s.assetID])||void 0===l?void 0:l.Breaker_State),name:s.name,assetID:s.assetID,activePower:(null===(d=r[s.assetID])||void 0===d?void 0:d.Active_Power_Import)||0,current:u(null===(b=r[s.assetID])||void 0===b?void 0:b.Current_L1,null===(m=r[s.assetID])||void 0===m?void 0:m.Current_L2,null===(g=r[s.assetID])||void 0===g?void 0:g.Current_L3),powerFactor:he(null===(p=r[s.assetID])||void 0===p?void 0:p.Active_Power_Import,null===(h=r[s.assetID])||void 0===h?void 0:h.Reactive_Power_Import),drawOut:s.type===n.drawOutCircuitBreaker,deviceType:s.type,noTable:!0,tableName:s.tableName,tableAbove:!0,sectionName:"",voltageBelow:j(c)||i,voltageAbove:!!s&&s.nextSectionUnderVoltage,switchboardAssetID:o})},"".concat(e,"-").concat(t))},u=function(e,t,a){var n=parseFloat(Math.max(e,t,a).toFixed(2));return isNaN(n)?0:n},m=function(e){var t,a,n;return Math.min(null===(t=r[e])||void 0===t?void 0:t.Voltage_L1_N,null===(a=r[e])||void 0===a?void 0:a.Voltage_L2_N,null===(n=r[e])||void 0===n?void 0:n.Voltage_L3_N)>0},j=function(e){return e.breakers.filter((function(e){return m(e.assetID)})).length>0},g=function(e){var t;return pe(null===(t=r[e])||void 0===t?void 0:t.Breaker_State)};return Object(G.jsx)(c.a.Fragment,{children:Object(G.jsx)(Z.a,{container:!0,spacing:2,children:Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(ge,{name:"overview",tabs:function(){var n=[];return a.diagrams.forEach((function(r,u){var b=Object(G.jsx)("div",{className:t.svgContainer,children:Object(G.jsxs)("svg",{viewBox:"".concat(-4," ").concat(-3," ").concat(i," ").concat(74),className:t.svgElement,children:[o(r.name,146,-3),r.sections.map((function(t,n){var o,u,b=null===(o=t.infeeds)||void 0===o?void 0:o.map((function(a,c){return s(a.name,"".concat(e("deviceDataDialog.section")," ").concat(t.name),t,a.tableName,a.breaker,a.type,i/r.sections.length/t.infeeds.length/2+c*(i/r.sections.length)/t.infeeds.length+n*(i/r.sections.length),0,r.assetID?r.assetID:"")})),m=d(n*i/r.sections.length+fe/2,6*fe,i/r.sections.length-fe,t,void 0!==r.sections[n-1]&&j(r.sections[n-1]),r.assetID?r.assetID:"",!!t.coupling&&{assetID:t.coupling.assetID,name:t.coupling.name,type:t.coupling.type,nextSectionUnderVoltage:void 0!==r.sections[n+1]&&j(r.sections[n+1]),fixedState:t.coupling.state,tableName:t.coupling.name}),g=null===(u=t.breakers)||void 0===u?void 0:u.map((function(c,o){var s=a.diagrams.findIndex((function(e){return e.name===c.nextSwitchboardName}));return l(c.name,"".concat(r.name," ").concat(e("deviceDataDialog.section")," ").concat(t.name),t,c.tableName,c.type,c.assetID,n*i/r.sections.length+fe/2+o*fe*1.2,6*fe,-1!==s?s:void 0,void 0,void 0,c.state,void 0,r.assetID?r.assetID:"")}));return Object(G.jsxs)(c.a.Fragment,{children:[b,m,g]},n)}))]})});return n.push({label:r.name,content:b})})),n}()})})})})},ye=a(788),De=a(792),we=a(791),Le=a(787),Te=a(789),_e=a(790),ke=a(147),Ce=function(e){var t=e.rows,a=e.columns,n=e.small,r=void 0!==n&&n,c=e.noElevation,i=void 0!==c&&c;return Object(G.jsx)(Le.a,{component:i?"div":ke.a,children:Object(G.jsxs)(ye.a,{"aria-label":"simple table",size:r?"small":"medium",children:[Object(G.jsx)(Te.a,{children:Object(G.jsx)(_e.a,{children:a.map((function(e,t){return Object(G.jsx)(we.a,{align:t>0?"right":"left",children:e},t)}))})}),Object(G.jsx)(De.a,{children:t.map((function(e,t){return Object(G.jsx)(_e.a,{children:e.map((function(e,t){return Object(G.jsx)(we.a,{align:t>0?"right":"left",children:void 0!==e?e:""},t)}))},t)}))})]})})},Ne=a(72),Ie=function(e,t){var a=Object(f.a)();Object(r.useEffect)((function(){var n,r,c,i,o,s,l,d,u,b;(null===e||void 0===e||null===(n=e.options)||void 0===n||null===(r=n.scales)||void 0===r?void 0:r.y)&&(e.options.scales.y=Object(se.a)(Object(se.a)({},e.options.scales.y),{},{ticks:Object(se.a)(Object(se.a)({},e.options.scales.y.ticks),{},{color:"dark"===a.palette.type?t:"#666"}),title:Object(se.a)(Object(se.a)({},e.options.scales.y.title),{},{color:"dark"===a.palette.type?t:"#666"})})),(null===e||void 0===e||null===(c=e.options)||void 0===c||null===(i=c.scales)||void 0===i?void 0:i.x)&&(e.options.scales.x=Object(se.a)(Object(se.a)({},e.options.scales.x),{},{ticks:Object(se.a)(Object(se.a)({},e.options.scales.x.ticks),{},{color:"dark"===a.palette.type?t:"#666"}),title:Object(se.a)(Object(se.a)({},e.options.scales.x.title),{},{color:"dark"===a.palette.type?t:"#666"})})),(null===e||void 0===e||null===(o=e.options)||void 0===o||null===(s=o.plugins)||void 0===s||null===(l=s.legend)||void 0===l?void 0:l.title)&&(e.options.plugins.legend.title=Object(se.a)(Object(se.a)({},e.options.plugins.legend.title),{},{color:"dark"===a.palette.type?t:"#666"})),(null===e||void 0===e||null===(d=e.options)||void 0===d||null===(u=d.plugins)||void 0===u||null===(b=u.legend)||void 0===b?void 0:b.labels)&&(e.options.plugins.legend.labels=Object(se.a)(Object(se.a)({},e.options.plugins.legend.labels),{},{color:"dark"===a.palette.type?t:"#666"}))}),[a,null===e||void 0===e?void 0:e.options,t])},Ae=(a(206),a(76)),Se=function(e,t,a,n,c){var i=Object(R.a)().i18n;Object(r.useEffect)((function(){var r,o,s,l,d,u,b,m,j,g,p;e&&(e.data&&e.data.datasets&&(t.datasets.forEach((function(t,a){e.data.datasets&&void 0!==e.data.datasets[a]&&(e.data.datasets[a].data=t.data,e.data.datasets[a].label=t.label)})),e.data.labels=t.labels),(null===e||void 0===e||null===(r=e.options)||void 0===r||null===(o=r.scales)||void 0===o||null===(s=o.x)||void 0===s||null===(l=s.adapters)||void 0===l||null===(d=l.date)||void 0===d?void 0:d.locale)&&a&&(e.options.scales.x.adapters.date.locale="pl"===i.language?Ae.pl:Ae.enUS),(null===e||void 0===e||null===(u=e.options)||void 0===u||null===(b=u.scales)||void 0===b||null===(m=b.x)||void 0===m?void 0:m.title)&&c&&(e.options.scales.x.title.text=c),(null===e||void 0===e||null===(j=e.options)||void 0===j||null===(g=j.scales)||void 0===g||null===(p=g.y)||void 0===p?void 0:p.title)&&n&&(e.options.scales.y.title.text=n),e.update())}),[e,t,i.language,a,n,c])},Pe=function(e){var t=e.data,a=e.chartTitle,n=e.xAxisTitle,i=e.yAxisTitle,o=e.timeInterval,l=e.yAxisUnit,d=e.tooltipFormat,u=Object(r.useRef)(),b=Object(r.useState)(null),m=Object(s.a)(b,2),j=m[0],g=m[1],p=Object(f.a)(),h=Object(R.a)().i18n;Ie(j,"#fff"),Se(j,t,h.language,i,n);var x=Object(r.useMemo)((function(){return{type:"line",data:t,options:{responsive:!0,interaction:{intersect:!1,mode:"index"},plugins:{title:{display:!!a,text:a||"",fontColor:p.palette.text.primary,color:Ne.a.defaults.color},legend:{labels:{color:Ne.a.defaults.color,font:{size:14}}},tooltip:{callbacks:{label:function(e){var t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=e.parsed.y),t&&l&&(t+=" ".concat(l)),t}}}},scales:{x:{type:"time",title:{display:!0,text:n||"",font:{size:18,weight:400}},ticks:{color:Ne.a.defaults.color},time:{displayFormats:{millisecond:"HH:mm:ss.SSS",second:"HH:mm:ss",minute:"HH:mm",hour:"HH"},tooltipFormat:d||"PPpp",unit:o||!1},adapters:{date:{locale:"pl"===h.language?Ae.pl:Ae.enUS}}},y:{title:{display:!0,text:i||"",font:{size:18,weight:400}},ticks:{color:Ne.a.defaults.color}}}}}}),[t,a,p.palette.text.primary,h.language,n,i,l,o,d]);return Object(r.useEffect)((function(){null===j&&g(new Ne.a(u.current,x))}),[t,j,a,x]),Object(G.jsx)(c.a.Fragment,{children:Object(G.jsx)("canvas",{ref:u})})},He=a(95),Me=a(827),Ee=a(796),Fe=a(828),Ve=Object(p.a)((function(e){return Object(h.a)({marginTopBottom:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},marginBottom:{marginBottom:e.spacing(2)},marginTop:{marginTop:e.spacing(2)},alignRight:{textAlign:"right"}})})),Re=function(e){var t=e.chartData,a=Object(R.a)().t,n=Ve(),i=Object(b.c)((function(e){return e.powermonitor})),o=Object(r.useState)(),l=Object(s.a)(o,2),d=l[0],u=l[1],m=Object(r.useState)(),j=Object(s.a)(m,2),g=j[0],p=j[1],h=Object(r.useState)(),f=Object(s.a)(h,2),x=f[0],v=f[1];Object(r.useEffect)((function(){if(t){var e=[],n=t.alertPoints.map((function(e){return{x:e.tickId,y:parseFloat(e.value.toFixed(3))}})),r=t.warningPoints.map((function(e){return{x:e.tickId,y:parseFloat(e.value.toFixed(3))}})),c=t.historicalPoints.map((function(e){return{x:e.tickId,y:parseFloat(e.value.toFixed(3))}})),i=t.predictedPoints.map((function(e){return{x:e.tickId,y:parseFloat(e.value.toFixed(3))}})),o=c.filter((function(e,t){return 0!==t})).map((function(e,t){return[Object(Fe.a)(e.x,"HH:mm:ss"),"".concat(parseFloat((60*e.y/(t+1)).toFixed(3))," kW")]}));e.push({label:a("reportsPage.warningThreshold"),backgroundColor:"orange",borderColor:"orange",fill:!1,lineTension:0,data:r,pointRadius:0,borderDash:[5]}),e.push({label:a("reportsPage.alarmThreshold"),backgroundColor:"red",borderColor:"red",fill:!1,lineTension:0,data:n,pointRadius:0,borderDash:[5]}),e.push({label:a("powermonitorPage.energyUsageLabel"),backgroundColor:ie(0),borderColor:ie(0),fill:!0,lineTension:0,data:c,pointRadius:0}),e.push({label:a("powermonitorPage.predictedUsageLabel"),backgroundColor:"rgba(65, 170, 170, 0.5)",borderColor:"rgba(65, 170, 170, 0.5)",fill:!0,lineTension:0,data:c.filter((function(e,t){return t!==c.length-1})).concat(i),pointRadius:0}),v(parseFloat(t.predictedPower.toFixed(3))),u(e),p(o)}}),[t,u,a]);return Object(G.jsx)(c.a.Fragment,{children:i&&i.enabled?Object(G.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:a("powermonitorPage.current15minInterval")})}),g?Object(G.jsxs)(Z.a,{item:!0,xs:12,lg:6,xl:5,children:[Object(G.jsx)(Ce,{columns:[a("powermonitorPage.tableTimeColumn"),a("powermonitorPage.tableValueColumn")],rows:g}),Object(G.jsxs)(Me.a,{severity:function(){if(void 0!==x&&i)return x>i.alertLimit?"error":x>i.warningLimit?"warning":"success"}(),className:n.marginTop,children:[Object(G.jsxs)(Ee.a,{children:[a("powermonitorPage.predictedPower"),": ",x||0," kW"]}),Object(G.jsxs)("p",{children:[a("powermonitorPage.warningThreshold"),": ",Object(G.jsxs)("strong",{children:[i.warningLimit||0," kW"]})]}),Object(G.jsxs)("p",{children:[a("powermonitorPage.alarmThreshold"),": ",Object(G.jsxs)("strong",{children:[i.alertLimit||0," kW"]})]})]})]}):null,d?Object(G.jsx)(Z.a,{item:!0,xs:12,lg:6,xl:7,children:Object(G.jsx)(Pe,{data:{datasets:d},xAxisTitle:a("chart.timeAxisLabel"),yAxisTitle:a("powermonitorPage.energyUsage"),timeInterval:"minute",tooltipFormat:"kk:mm:ss",yAxisUnit:"kWh"})}):null]}):Object(G.jsx)(Z.a,{container:!0,spacing:2,children:Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:a("powermonitorPage.powermonitorInactive")})})})})},Ze=a(29),Be=a.n(Ze),We=a(47),Ue=a(833),ze=a(808),Ge=a(809),Xe=a(829),Je=a(807),Ke=a(216),qe=a.n(Ke),Ye=a(217),$e=a.n(Ye),Qe=a(797),et=a(806),tt=a(800),at=a(799),nt=function(e){if(!document.cookie)return"";var t=document.cookie.split(";").map((function(e){return e.trim()})).filter((function(t){return t.startsWith(e+"=")}));return 0===t.length?"":decodeURIComponent(t[0].split("=")[1])},rt=function(){var e=Object(We.a)(Be.a.mark((function e(){var t,a;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/customApi/config/me");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(We.a)(Be.a.mark((function e(t){var a,n;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/customApi/service/me/".concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(We.a)(Be.a.mark((function e(t,a,n){var r,c;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/customApi/service/me/".concat(t,"/").concat(a),{method:"PUT",headers:{credentials:"include","Content-Type":"application/json","X-XSRF-TOKEN":nt("XSRF-TOKEN")},body:JSON.stringify(n)});case 2:if(200!==(r=e.sent).status){e.next=10;break}return e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",{status:r.status,response:c});case 10:return e.abrupt("return",{status:r.status});case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ot=function(){var e=Object(We.a)(Be.a.mark((function e(t,a,n){var r,c;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/customApi/subscription/me/".concat(t,"/").concat(a),{method:"POST",headers:{credentials:"include","Content-Type":"application/json","X-XSRF-TOKEN":nt("XSRF-TOKEN")},body:JSON.stringify(n)});case 2:if(200!==(r=e.sent).status){e.next=10;break}return e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",{status:r.status,response:c});case 10:return e.abrupt("return",{status:r.status});case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),st=function(){var e=Object(We.a)(Be.a.mark((function e(t,a,n){var r,c;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/customApi/subscription/me/".concat(t,"/").concat(a),{method:"DELETE",headers:{credentials:"include","Content-Type":"application/json","X-XSRF-TOKEN":nt("XSRF-TOKEN")},body:JSON.stringify(n)});case 2:if(200!==(r=e.sent).status){e.next=10;break}return e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",{status:r.status,response:c});case 10:return e.abrupt("return",{status:r.status});case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),lt="SET_POWERMONITOR_CONFIG",dt=function(e){return{type:lt,config:e}},ut="SET_BACKDROP_OPEN",bt=function(e){return{type:ut,open:e}},mt=Object(p.a)((function(e){return Object(h.a)({root:{"& .MuiTextField-root":{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},divider:{marginTop:e.spacing(1),marginBottom:e.spacing(2)}})})),jt=function(){var e=mt(),t=Object(R.a)(),a=t.t,n=t.i18n,i=Object(b.b)(),o=Object(b.c)((function(e){return e.powermonitor})),l=Object(b.c)((function(e){return e.userData})),d=Object(r.useState)("0"),u=Object(s.a)(d,2),m=u[0],g=u[1],p=Object(r.useState)("0"),h=Object(s.a)(p,2),f=h[0],x=h[1],v=Object(r.useState)("0"),O=Object(s.a)(v,2),w=O[0],L=O[1],T=Object(r.useState)(!1),_=Object(s.a)(T,2),k=_[0],C=_[1],N=Object(r.useState)({loadMonitorActive:!1}),I=Object(s.a)(N,2),A=I[0],S=I[1],P=Object(r.useState)(),H=Object(s.a)(P,2),M=H[0],E=H[1],F=Object(r.useState)(!1),V=Object(s.a)(F,2),B=V[0],W=V[1],U=Object(r.useState)(""),z=Object(s.a)(U,2),X=z[0],J=z[1];Object(r.useEffect)((function(){o&&(g("".concat(o.warningLimit)),x("".concat(o.alertLimit)),L("".concat(o.powerLosses)),S((function(e){return Object(se.a)(Object(se.a)({},e),{},{loadMonitorActive:o.enabled})})),E(o.mailingList))}),[g,x,L,S,o]),Object(r.useEffect)((function(){navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){e?(C(!0),console.log("Already subscribed",e.endpoint)):C(!1)}))}),[]);var K,q=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),a=window.atob(t),n=new Uint8Array(a.length),r=0;r<a.length;++r)n[r]=a.charCodeAt(r);return n},Y=Object(r.useCallback)((function(){g("".concat(o.warningLimit)),x("".concat(o.alertLimit)),L("".concat(o.powerLosses)),S((function(e){return Object(se.a)(Object(se.a)({},e),{},{loadMonitorActive:o.enabled})})),E(o.mailingList)}),[g,x,L,S,E,o]);return Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsxs)(Qe.a,{fullWidth:!0,maxWidth:"sm",open:B,onClose:function(){return W(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(G.jsx)(at.a,{id:"alert-dialog-title",children:a("powermonitorPage.addEmailLabel")}),Object(G.jsx)(tt.a,{children:Object(G.jsx)(Ue.a,{autoFocus:!0,margin:"dense",value:X,onChange:function(e){return J(e.target.value)},label:a("powermonitorPage.emailAddress"),type:"email",fullWidth:!0})}),Object(G.jsxs)(et.a,{children:[Object(G.jsx)(Je.a,{onClick:function(){return function(){if(M&&X){var e=M.concat({email:X,language:n.language});E(e),W(!1),J("")}}()},color:"primary",disabled:!X||(K=X,!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(K).toLowerCase())),children:a("powermonitorPage.confirm")}),Object(G.jsx)(Je.a,{onClick:function(){return W(!1)},color:"primary",autoFocus:!0,children:a("powermonitorPage.cancel")})]})]}),Object(G.jsx)(Z.a,{container:!0,spacing:4,alignItems:"flex-start",children:o?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsxs)(Z.a,{container:!0,spacing:1,item:!0,xs:12,lg:4,children:[Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:a("powermonitorPage.settingsTab")})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:[Object(G.jsx)(Ue.a,{fullWidth:!0,label:"".concat(a("powermonitorPage.warningThreshold")," [kWh]"),value:m,onChange:function(e){return g(e.target.value)},type:"number"}),Object(G.jsx)(Ue.a,{fullWidth:!0,label:"".concat(a("powermonitorPage.alarmThreshold")," [kWh]"),value:f,onChange:function(e){return x(e.target.value)},type:"number"}),Object(G.jsx)(Ue.a,{fullWidth:!0,label:"".concat(a("powermonitorPage.transformersLosses")," [kW]"),value:w,onChange:function(e){return L(e.target.value)},type:"number"}),Object(G.jsx)(ze.a,{row:!0,children:Object(G.jsx)(Ge.a,{control:Object(G.jsx)(Xe.a,{checked:A.loadMonitorActive,onChange:function(e){S(Object(se.a)(Object(se.a)({},A),{},Object(j.a)({},e.target.name,e.target.checked)))},name:"loadMonitorActive"}),label:a("powermonitorPage.loadMonitorActive")})})]})})]}),M?Object(G.jsxs)(Z.a,{container:!0,spacing:1,item:!0,xs:12,lg:4,children:[Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:a("powermonitorPage.mailList")})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Ce,{columns:[a("powermonitorPage.emailAddress"),a("powermonitorPage.language"),""],rows:M.map((function(e){return[e.email,e.language,Object(G.jsx)(D.a,{onClick:function(){return function(e){if(M){var t=M.filter((function(t){return t.email!==e}));E(t),W(!1)}}(e.email)},"aria-label":"delete",children:Object(G.jsx)(qe.a,{})})]}))})}),Object(G.jsx)(Z.a,{item:!0,xs:6,children:Object(G.jsx)(Je.a,{fullWidth:!0,variant:"contained",color:"primary",startIcon:Object(G.jsx)($e.a,{}),onClick:function(){return W(!0)},children:a("powermonitorPage.addAddressButton")})})]}):null,Object(G.jsxs)(Z.a,{container:!0,spacing:1,item:!0,xs:12,lg:4,children:[Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:a("powermonitorPage.notifications")})}),Object(G.jsx)(Z.a,{item:!0,xs:6,children:Object(G.jsx)(Je.a,{onClick:function(){return k?void navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){if(e)return e.unsubscribe().then((function(){console.log("Unsubscribed",e.endpoint);var t={language:n.language,userId:l.userId,subscriptionData:e};st(o.plantId,o.id,t).then((function(e){C(!1)}))}))})):void navigator.serviceWorker.ready.then(function(){var e=Object(We.a)(Be.a.mark((function e(t){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:q("BNko5cJqNEYyTIBl3ydohj-XUhk3qg74Rq_ELD4p1vlY4aj5Wl4X45yHR4YUhBnHL7BKdg3cDrMOWzu7eadIIhU")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){console.log("Subscribed",e);var t={language:n.language,userId:l.userId,subscriptionData:e};ot(o.plantId,o.id,t).then((function(e){C(!0)}))}))},fullWidth:!0,variant:"contained",color:k?"secondary":"primary",children:a(k?"powermonitorPage.notificationsDeregister":"powermonitorPage.notificationsRegister")})})]}),Object(G.jsxs)(Z.a,{container:!0,spacing:1,item:!0,xs:12,children:[Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(y.a,{className:e.divider})}),Object(G.jsx)(Z.a,{item:!0,xs:6,md:3,children:Object(G.jsx)(Je.a,{onClick:function(){o.assetIds.length>0&&(i(bt(!0)),it(o.plantId,o.id,Object(se.a)(Object(se.a)({},o),{},{warningLimit:parseFloat(m),alertLimit:parseFloat(f),powerLosses:parseFloat(w),enabled:A.loadMonitorActive,mailingList:M})).then((function(e){i(bt(!1)),e.response.config&&i(dt(e.response.config))})))},fullWidth:!0,variant:"contained",color:"primary",children:a("powermonitorPage.saveButton")})}),Object(G.jsx)(Z.a,{item:!0,xs:6,md:3,children:Object(G.jsx)(Je.a,{onClick:function(){return Y()},fullWidth:!0,variant:"contained",color:"secondary",children:a("powermonitorPage.resetButton")})})]})]}):null})]})},gt=function(){var e=Object(R.a)().t,t=Object(b.b)(),a=Object(b.c)((function(e){return e.userData})),n=Object(r.useState)(),i=Object(s.a)(n,2),o=i[0],l=i[1];return Object(r.useEffect)((function(){var e=null;return""!==a.plantName&&(ct(a.plantName).then((function(e){e.length>0&&(l(e[0].data),t(dt(e[0].config)))})),e=setInterval((function(){ct(a.plantName).then((function(e){e.length>0&&l(e[0].data)}))}),3e4)),function(){return clearInterval(e)}}),[a.plantName,t]),Object(G.jsx)(c.a.Fragment,{children:Object(G.jsx)(ge,{name:"Powermonitor",tabs:[{label:e("powermonitorPage.loadMonitoringTab"),content:Object(G.jsx)(Re,{chartData:o})},{label:e("powermonitorPage.settingsTab"),content:Object(G.jsx)(jt,{})}]})})},pt=a(32),ht=a(824),ft="SET_EVENTS",xt=function(e,t){return{type:ft,switchboardName:e,events:t}},vt=a(840),Ot=a(839),yt=function(e,t,a,n){var r=e.columns.findIndex((function(e){return e===t}));return"number"===n||"Date"===n?e.rows.sort((function(e,t){return"asc"===a?e[r]-t[r]:t[r]-e[r]})):"string"===n&&e.rows.sort((function(e,t){return"asc"===a?e[r].localeCompare(t[r]):t[r].localeCompare(e[r])})),e.rows},Dt=function(e){var t=e.classes,a=e.order,n=e.orderBy,r=e.onRequestSort,c=e.columns;return Object(G.jsx)(Te.a,{children:Object(G.jsx)(_e.a,{children:c.map((function(e,i){return Object(G.jsx)(we.a,{align:"left",padding:"default",sortDirection:n===e&&a,style:{width:"".concat(100/c.length,"%")},children:Object(G.jsxs)(Ot.a,{active:n===e,direction:n===e?a:"asc",onClick:(o=e,s=i,function(e){r(e,o,s)}),children:[e,n===e?Object(G.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},i);var o,s}))})})},wt=Object(p.a)((function(e){return Object(h.a)({root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}})})),Lt=function(e){var t=e.columns,a=e.rows,n=e.dense,i=e.defaultOrderColumnIndex,o=wt(),l=c.a.useState("desc"),d=Object(s.a)(l,2),u=d[0],b=d[1],m=c.a.useState("Date"),j=Object(s.a)(m,2),g=j[0],p=j[1],h=c.a.useState(i?t[i]:t[0]),f=Object(s.a)(h,2),x=f[0],v=f[1],O=c.a.useState(0),y=Object(s.a)(O,2),D=y[0],w=y[1],L=c.a.useState(5),T=Object(s.a)(L,2),_=T[0],k=T[1],C=Object(R.a)().t;Object(r.useEffect)((function(){D*_>a.length&&w(0)}),[a,w,D,_]);var N=function(e){return void 0!==e.toTimeString},I=_-Math.min(_,a.length-D*_);return Object(G.jsx)("div",{className:o.root,children:Object(G.jsxs)(ke.a,{className:o.paper,children:[Object(G.jsx)(Le.a,{children:Object(G.jsxs)(ye.a,{"aria-labelledby":"tableTitle",size:n?"small":"medium","aria-label":"enhanced table",children:[Object(G.jsx)(Dt,{columns:t,classes:o,order:u,orderBy:x,onRequestSort:function(e,t,n){var r=x===t&&"asc"===u,c=a[0][n];b(r?"desc":"asc"),v(t),N(c)?p("Date"):void 0!==c.toExponential?p("number"):!function(e){return void 0!==e.toUpperCase}(c)?p("reactNode"):p("string")}}),Object(G.jsxs)(De.a,{children:[yt({rows:a,columns:t},x,u,g).slice(D*_,D*_+_).map((function(e,t){return Object(G.jsx)(_e.a,{hover:!0,children:e.map((function(e,t){return Object(G.jsx)(we.a,{align:"left",children:N(e)?e.toLocaleString():e},t)}))},t)})),I>0&&Object(G.jsx)(_e.a,{style:{height:(n?33:53)*I},children:Object(G.jsx)(we.a,{colSpan:t.length})})]})]})}),Object(G.jsx)(vt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:a.length,rowsPerPage:_,page:D*_>a.length?0:D,onChangePage:function(e,t){w(t)},onChangeRowsPerPage:function(e){k(parseInt(e.target.value,10)),w(0)},labelRowsPerPage:C("tableWithSort.labelRowsPerPage"),labelDisplayedRows:function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(a," ").concat(C("tableWithSort.labelDisplayedRows")," ").concat(n)}})]})})},Tt=a(138),_t=a.n(Tt),kt=a(105),Ct=a.n(kt),Nt=a(137),It=a.n(Nt),At=a(218),St=a.n(At),Pt=function(){var e=Object(We.a)(Be.a.mark((function e(t,a,n){var r,c,i;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch('/api/eventmanagement/v3/events?size=500&page=0&filter={"timestamp":{"between":"['.concat(a,",").concat(n,')"},"entityId":"').concat(t,'","typeId":"com.siemens.mindsphere.eventmgmt.event.type.MindSphereStandardEvent"}'));case 2:return r=e.sent,e.next=5,r.json();case 5:return c=e.sent,i=Object(se.a)(Object(se.a)({},c),{},{assetID:t}),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ht=Object(p.a)((function(e){return Object(h.a)({warning:{color:"orange"},info:{color:"#2196f3"},error:{color:"red"},select:{width:"100%"},section:{marginTop:e.spacing(2),marginBottom:e.spacing(4)}})})),Mt=function(){var e=c.a.useState(new Date((new Date).setMonth((new Date).getMonth()-1))),t=Object(s.a)(e,2),a=t[0],n=t[1],i=c.a.useState(new Date),o=Object(s.a)(i,2),l=o[0],d=o[1],u=Object(R.a)(),m=u.t,j=u.i18n,g=Ht(),p=Object(b.c)((function(e){return e.overview})),h=Object(b.c)((function(e){return e.events})),f=Object(b.c)((function(e){return e.deviceDataDialogElevationDataSource})),x=Object(b.b)(),v=Object(r.useCallback)((function(){p.diagrams.forEach((function(e){e.assetID&&a&&l&&(x(bt(!0)),Pt(e.assetID,a.toISOString(),l.toISOString()).then((function(t){t._embedded&&t._embedded.events&&e.assetID?(x(xt(e.assetID,t._embedded.events)),x(bt(!1))):e.assetID&&x(xt(e.assetID,[]))})).catch((function(e){x(bt(!1))})))}))}),[a,l,x,p.diagrams]),O=function(e){switch(e){case 20:return Object(G.jsx)(It.a,{className:g.error});case 30:return Object(G.jsx)(_t.a,{className:g.warning});case 40:default:return Object(G.jsx)(Ct.a,{className:g.info})}};Object(r.useEffect)((function(){v()}),[a,l,v]);var y=function(){var e=[],t=[];return p.diagrams.forEach((function(a){if(a.assetID){var n=h[a.assetID]?h[a.assetID].map((function(e){var t,n,r=Date.parse(e.timestamp),c=JSON.parse(e.description),i="pl"===j.language?c.pl:c.en;return[O(e.severity),new Date(r),i,a.name,(t=e.source,n=a.name,f["".concat(n,"-").concat(t)]?f["".concat(n,"-").concat(t)].breakerName:t)]})):[[]];t=[].concat(Object(pt.a)(t),Object(pt.a)(n)),e.push({label:a.name,content:Object(G.jsx)(Z.a,{container:!0,spacing:2,children:Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Lt,{defaultOrderColumnIndex:1,columns:[m("eventsPage.severity"),m("eventsPage.time"),m("eventsPage.event"),m("eventsPage.switchboard"),m("eventsPage.device")],rows:n?Object(pt.a)(n):[[]]})})})})}})),e.push({label:m("eventsPage.allDevices"),content:Object(G.jsx)(Z.a,{container:!0,spacing:2,children:Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Lt,{defaultOrderColumnIndex:1,columns:[m("eventsPage.severity"),m("eventsPage.time"),m("eventsPage.event"),m("eventsPage.switchboard"),m("eventsPage.device")],rows:t.length>0?Object(pt.a)(t):[[]]})})})}),Object(G.jsx)(ge,{name:"Events",tabs:e})}();return Object(G.jsxs)(c.a.Fragment,{children:[y,Object(G.jsx)(Z.a,{container:!0,spacing:2,justify:"flex-end",className:g.section,children:Object(G.jsx)(Z.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:Object(G.jsx)(Je.a,{variant:"contained",color:"primary",startIcon:Object(G.jsx)(St.a,{}),fullWidth:!0,onClick:function(){return v()},children:m("eventsPage.refreshButton")})})}),Object(G.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(G.jsxs)(Z.a,{item:!0,xs:12,sm:6,children:[Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:m("eventsPage.startDate")}),Object(G.jsx)(ht.a,{cancelLabel:m("datePicker.cancelButton"),autoOk:!0,label:m("eventsPage.dateFromLabel"),value:a,onChange:n,fullWidth:!0,maxDate:l,variant:"static"})]}),Object(G.jsxs)(Z.a,{item:!0,xs:12,sm:6,children:[Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:m("eventsPage.endDate")}),Object(G.jsx)(ht.a,{cancelLabel:m("datePicker.cancelButton"),autoOk:!0,label:m("eventsPage.dateToLabel"),value:l,onChange:d,fullWidth:!0,disableFuture:!0,minDate:a,variant:"static"})]})]})]})},Et=function(e){var t=e.x,a=e.y,n=e.name,r=e.empty,i=e.children,o=sa();return Object(G.jsx)(c.a.Fragment,{children:r?null:Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("text",{x:t+.5*zt,y:a+.2*Jt,className:o.siemensLogoPlate,children:"SIEMENS"}),Object(G.jsx)("rect",{x:t+.3*zt,y:a+.05*Jt,width:.4*zt,height:.3*Jt,className:o.siemensLogoOutline}),Object(G.jsx)("line",{x1:t,y1:a+Xt,x2:t+zt,y2:a+Xt,className:o.lineStyle}),Object(G.jsx)("line",{x1:t,y1:a,x2:t+zt,y2:a,className:o.lineStyle}),Object(G.jsx)("line",{x1:t,y1:a,x2:t,y2:a+Gt,className:o.lineStyle}),Object(G.jsx)("line",{x1:t+zt,y1:a,x2:t+zt,y2:a+Gt,className:o.lineStyle}),Object(G.jsx)("line",{x1:t,y1:a+Gt,x2:t+zt,y2:a+Gt,className:o.lineStyle}),Object(G.jsx)("rect",{x:t,y:a+Gt,width:zt,height:Xt,className:o.panelBase}),c.a.Children.map(i,(function(e){if(c.a.isValidElement(e))return e})),Object(G.jsx)("text",{x:t+.5*zt,y:a+Gt+2*Xt,className:o.panelName,children:n})]})})},Ft=function(e){var t=e.x,a=e.y,n=e.span,r=e.columns,i=e.name,o=e.nonInteractive,s=e.children,l=e.state,d=e.deviceName,u=e.deviceType,m=e.sectionName,j=e.breakerName,g=e.assetID,p=e.switchboardAssetID,h=e.connectionState,f=sa(),x=Object(b.b)(),v=Object(R.a)().t,O=zt/r-2*Kt,y=n*Jt-2*Kt;return Object(G.jsxs)(c.a.Fragment,{children:[s,Object(G.jsx)("rect",{x:t+Kt,y:a+Xt+Kt,width:O,height:y,className:l.drawnOut||l.tripped?f.cbTrippedOverlay:l.closed?f.transparent:f.cbOpenOverlay}),Object(G.jsx)("text",{x:t+O,y:a+Xt+3*Kt,className:O<=y?f.compartmentNameVertical:f.compartmentNameHorizontal,transform:O<=y?"rotate(-90, ".concat(t+O,", ").concat(a+Xt+4*Kt,")"):void 0,children:i}),1!==h?Object(G.jsxs)("text",{x:t,y:a+Xt+3*Kt,className:O<=y?f.noConnectionAlarmVertical:f.noConnectionAlarmHorizontal,transform:O<=y?"rotate(90, ".concat(t+Kt,", ").concat(a+Xt+3*Kt,")"):void 0,children:["\xa0","".concat(v("svgCompartment.noConnection"))]}):null,o?null:Object(G.jsx)("rect",{x:t+Kt,y:a+Xt+Kt,width:O,height:y,className:f.clickableOverlay,onClick:function(){x(U({open:!0,deviceName:d,deviceType:u,breakerName:j,sectionName:m,assetID:g,switchboardAssetID:p}))}}),Object(G.jsx)("rect",{x:t,y:a+Xt,width:r?zt/r:zt,height:n*Jt,className:f.lineStyle})]})},Vt=function(e){var t=e.x,a=e.y,n=e.scale;return Object(G.jsx)(c.a.Fragment,{children:Object(G.jsxs)("g",{transform:"scale(".concat(n,")"),style:{transformOrigin:"".concat(t+ea/2,"px ").concat(a+ta/2,"px")},children:[Object(G.jsx)("path",{d:"M1024.18,594.27H961.5v-42.9h62.68Zm-62.12-.56h61.56V551.93H962.06Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+1.06),y:"".concat(a+1.06),width:"147.89",height:"254.97",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M1030.87,662h-150V404.88h150ZM883,659.84h145.77V407H883Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M1005.31,451.38a6.13,6.13,0,1,1,5.37-8.8A6.17,6.17,0,0,1,1005.31,451.38Zm-.15-11.69c-7.26.28-7.37,10.69-.12,11.13C1012.47,450.69,1012.58,440,1005.16,439.69Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M906.7,451.38a6.13,6.13,0,1,1,5.25-9A6.18,6.18,0,0,1,906.7,451.38Zm-.14-11.69c-7.41.31-7.3,11,.13,11.13A5.57,5.57,0,0,0,906.56,439.69Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+1.06),y:"".concat(a+224.06),width:"147.89",height:"0.56",fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+11.75),y:"".concat(a+156.44),width:"64.23",height:"27.61",fill:"#e5f5f9"}),Object(G.jsx)("path",{d:"M980.51,588.08H968.68V576.24h11.83Zm-11.26-.56H980V576.81h-10.7Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M980.51,574H968.68V562.16h11.83Zm-11.26-.57H980v-10.7h-10.7Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M906.7,608.6a6.13,6.13,0,1,1,5.25-9A6.18,6.18,0,0,1,906.7,608.6Zm-.14-11.69c-7.41.31-7.3,11,.13,11.13A5.57,5.57,0,0,0,906.56,596.91Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M994.6,574H982.77V562.16H994.6Zm-11.27-.57H994v-10.7h-10.7Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+118.03),y:"".concat(a+167.36),width:"3.24",height:"3.24",fill:"#e5f5f9"}),Object(G.jsx)("rect",{x:"".concat(t+118.03),y:"".concat(a+162.71),width:"3.24",height:"3.24",fill:"#e5f5f9"}),Object(G.jsx)("rect",{x:"".concat(t+118.03),y:"".concat(a+158.06),width:"3.24",height:"3.24",fill:"#e5f5f9"}),Object(G.jsx)("rect",{x:"".concat(t+92.52),y:"".concat(a+129.62),width:"4.47",height:"4.47",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M978.14,539.25h-5v-5h5Zm-4.47-.57h3.9v-3.9h-3.9Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M1005.31,608.6a6.13,6.13,0,1,1,5.37-8.8A6.18,6.18,0,0,1,1005.31,608.6Zm-.15-11.69c-7.26.28-7.37,10.69-.12,11.13C1012.47,607.9,1012.58,597.2,1005.16,596.91Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M994.6,588.08H982.77V576.24H994.6Zm-11.27-.56H994V576.81h-10.7Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+1.05),y:"".concat(a+32.4),width:"147.91",height:"0.56",fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+1.05),y:"".concat(a+47.89),width:"147.91",height:"0.56",fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+1.05),y:"".concat(a+61.97),width:"147.91",height:"0.56",fill:"#005f87"}),Object(G.jsx)("path",{d:"M971.78,539.11H939.94V470.05h31.84Zm-31.27-.56h30.71V470.61H940.51Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+1.05),y:"".concat(a+136.59),width:"147.91",height:"0.56",fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+1.05),y:"".concat(a+146.49),width:"147.91",height:"0.56",fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+1.33),y:"".concat(a+188.83),width:"147.34",height:"0.56",fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+56.76),y:"".concat(a+90.57),width:"36.48",height:"9.91",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M974.39,505.64h-37V495.17h37Zm-36.48-.56h35.92v-9.35H937.91Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+5.27),y:"".concat(a+48.17),width:"36.63",height:"9.86",fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+56.58),y:"".concat(a+93.22),width:"36.59",height:"4.62",fill:"#d9e7ed"}),Object(G.jsx)("path",{d:"M974.39,505.64h-37V495.17h37Zm-36.48-.56h35.92v-9.35H937.91Z",transform:"translate(".concat(t-880.87," ").concat(a-404.88,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+56.58),y:"".concat(a+92.94),width:"36.59",height:"0.56",fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+56.58),y:"".concat(a+97.56),width:"36.59",height:"0.56",fill:"#005f87"})]})})},Rt=function(e){var t=e.x,a=e.y,n=e.scale;return Object(G.jsx)(c.a.Fragment,{children:Object(G.jsxs)("g",{transform:"scale(".concat(n,")"),style:{transformOrigin:"".concat(t+qt/2,"px ").concat(a+Yt/2,"px")},children:[Object(G.jsx)("rect",{x:"".concat(t+.46),y:"".concat(a+.46),width:"199.07",height:"259.26",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M1051.84,660h-200V399.8h200Zm-199.07-.93h198.15V400.72H852.77Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M1043,637.7H860.7V405.94H1043Zm-181.35-.93h180.43V406.87H861.63Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+9.32),y:"".concat(a+204.75),width:"181.36",height:"0.93",fill:"#005f87"}),Object(G.jsx)("path",{d:"M1014.81,605.47H919.17V549.84h95.64Zm-94.71-.92h93.79V550.76H920.1Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+162.04),y:"".concat(a+6.6),width:"0.93",height:"198.61",fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+67.33),y:"".concat(a+6.6),width:"0.93",height:"198.61",fill:"#005f87"}),Object(G.jsx)("path",{d:"M940.44,443a12.49,12.49,0,1,1,12.49-12.49A12.51,12.51,0,0,1,940.44,443Zm0-24.74a12.25,12.25,0,1,0,12.25,12.25A12.26,12.26,0,0,0,940.44,418.24Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M977,440.12a8.24,8.24,0,1,1,8.24-8.23A8.24,8.24,0,0,1,977,440.12Zm0-16.22a8,8,0,1,0,8,8A8,8,0,0,0,977,423.9Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M1038.43,469.62h-23.88V410.28h23.88Zm-23.63-.25h23.39V410.53H1014.8Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+131.03),y:"".concat(a+14.26),width:"13.34",height:"4.93",fill:"#d9e7ed"}),Object(G.jsx)("rect",{x:"".concat(t+145.12),y:"".concat(a+14.26),width:"13.34",height:"4.93",fill:"#d9e7ed"}),Object(G.jsx)("path",{d:"M901.57,628.59a9.34,9.34,0,1,1,9.34-9.34A9.35,9.35,0,0,1,901.57,628.59Zm0-18.43a9.1,9.1,0,1,0,9.09,9.09A9.11,9.11,0,0,0,901.57,610.16Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+67.79),y:"".concat(a+205.21),width:"118.68",height:"26",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M1038.77,631.48H919.17V604.55h119.6Zm-118.67-.93h117.75V605.47H920.1Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M984.71,546H925.38V467h59.33Zm-59.08-.24h58.84V467.28H925.63Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M1006.86,457.13v0a8.62,8.62,0,0,0-17.24,0,7.72,7.72,0,0,0,.1,1.18V600H1007V457.13Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M1007.42,600.45H989.25V458.28a8,8,0,0,1-.09-1.18,9.09,9.09,0,0,1,18.15-.43h0l.1.46Zm-17.24-.92h16.31V457.6l-.1-.47a8.15,8.15,0,0,0-16.3,0,7.85,7.85,0,0,0,.09,1.11Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M1006.86,465.19v0c0-4.4-3.86-8-8.62-8s-8.62,3.57-8.62,8a7,7,0,0,0,.1,1.12V600H1007V465.19Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M1007.42,600.45H989.25V466.27a7.24,7.24,0,0,1-.09-1.12c0-4.65,4.07-8.43,9.08-8.43,4.85,0,8.83,3.55,9.07,8h0l.1.47Zm-17.24-.92h16.31V465.65l-.1-.46c0-4.18-3.65-7.55-8.15-7.55s-8.15,3.37-8.15,7.51a7,7,0,0,0,.09,1.05Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("line",{x1:"".concat(t+155.11),y1:"".concat(a+163.09),x2:"".concat(t+137.87),y2:"".concat(a+163.09),fill:"#a6c7d5"}),Object(G.jsx)("rect",{x:"".concat(t+137.87),y:"".concat(a+162.62),width:"17.24",height:"0.93",fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+9.32),y:"".concat(a+10.48),width:"153.51",height:"0.25",fill:"#005f87"}),Object(G.jsx)("path",{d:"M933.8,586.31h-8.42V569.4h8.42Zm-8.17-.24h7.93V569.65h-7.93Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+77.63),y:"".concat(a+136.27),width:"21.38",height:"6.11",fill:"#005f87"}),Object(G.jsx)("path",{d:"M972.11,517.77a8.31,8.31,0,1,1,8.3-8.3A8.31,8.31,0,0,1,972.11,517.77Zm0-16.36a8.06,8.06,0,1,0,8.06,8.06A8.07,8.07,0,0,0,972.11,501.41Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M937.57,517.77a8.31,8.31,0,1,1,8.3-8.3A8.31,8.31,0,0,1,937.57,517.77Zm0-16.36a8.06,8.06,0,1,0,8,8.06A8.06,8.06,0,0,0,937.57,501.41Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+78.23),y:"".concat(a+74.59),width:"15.22",height:"7.61",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M945.42,482.12H930v-7.85h15.47Zm-15.22-.24h15v-7.37h-15Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+167.97),y:"".concat(a+175.46),width:"16.65",height:"7.71",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M1036.59,583.08h-16.9v-8h16.9Zm-16.65-.24h16.41v-7.46h-16.41Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+9.32),y:"".concat(a+36.96),width:"58.47",height:"162.54",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M920.1,599.77H860.7V436.3h59.4Zm-58.47-.93h57.54V437.23H861.63Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+47.95),y:"".concat(a+153.4),width:"5.22",height:"4.24",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M905.14,557.56h-5.47v-4.48h5.47Zm-5.22-.24h5v-4h-5Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+28.02),y:"".concat(a+45.54),width:"2.45",height:"2.42",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M882.44,447.88h-2.7v-2.67h2.7Zm-2.46-.25h2.21v-2.17H880Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+20.01),y:"".concat(a+100.71),width:"2.46",height:"2.42",fill:"#e5f5f9"}),Object(G.jsx)("rect",{x:"".concat(t+24.09),y:"".concat(a+100.71),width:"2.45",height:"2.42",fill:"#e5f5f9"}),Object(G.jsx)("rect",{x:"".concat(t+28.17),y:"".concat(a+100.71),width:"2.46",height:"2.42",fill:"#e5f5f9"}),Object(G.jsx)("rect",{x:"".concat(t+32.26),y:"".concat(a+100.71),width:"2.45",height:"2.42",fill:"#e5f5f9"}),Object(G.jsx)("rect",{x:"".concat(t+43),y:"".concat(a+108.4),width:"2.46",height:"2.42",fill:"#e5f5f9"}),Object(G.jsx)("rect",{x:"".concat(t+43),y:"".concat(a+118.76),width:"2.46",height:"2.42",fill:"#e5f5f9"}),Object(G.jsx)("rect",{x:"".concat(t+43),y:"".concat(a+132.73),width:"2.46",height:"2.42",fill:"#e5f5f9"}),Object(G.jsx)("rect",{x:"".concat(t+43),y:"".concat(a+145.92),width:"2.46",height:"2.42",fill:"#e5f5f9"}),Object(G.jsx)("path",{d:"M916.06,596.08H864.74V440h51.32ZM865,595.83h50.82V440.24H865Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M875,582.11a2.71,2.71,0,1,1-2.71-2.71A2.71,2.71,0,0,1,875,582.11Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#a6c7d5",fillRule:"evenodd"}),Object(G.jsx)("path",{d:"M872.26,584.94a2.83,2.83,0,1,1,2.84-2.83A2.83,2.83,0,0,1,872.26,584.94Zm0-5.42a2.59,2.59,0,1,0,2.59,2.59A2.59,2.59,0,0,0,872.26,579.52Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M890.68,582.11A2.71,2.71,0,1,1,888,579.4,2.71,2.71,0,0,1,890.68,582.11Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#a6c7d5",fillRule:"evenodd"}),Object(G.jsx)("path",{d:"M888,584.94a2.83,2.83,0,1,1,2.83-2.83A2.84,2.84,0,0,1,888,584.94Zm0-5.42a2.59,2.59,0,1,0,2.59,2.59A2.59,2.59,0,0,0,888,579.52Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M911.8,582.11a2.71,2.71,0,1,1-2.71-2.71A2.71,2.71,0,0,1,911.8,582.11Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#a6c7d5",fillRule:"evenodd"}),Object(G.jsx)("path",{d:"M909.09,584.94a2.83,2.83,0,1,1,2.84-2.83A2.83,2.83,0,0,1,909.09,584.94Zm0-5.42a2.59,2.59,0,1,0,2.59,2.59A2.59,2.59,0,0,0,909.09,579.52Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M911.32,538.15a2.71,2.71,0,1,1-2.71-2.71A2.71,2.71,0,0,1,911.32,538.15Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#a6c7d5",fillRule:"evenodd"}),Object(G.jsx)("path",{d:"M908.61,541a2.84,2.84,0,1,1,2.83-2.83A2.83,2.83,0,0,1,908.61,541Zm0-5.42a2.59,2.59,0,1,0,2.59,2.59A2.59,2.59,0,0,0,908.61,535.56Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M880.24,538.15a2.71,2.71,0,1,1-2.71-2.71A2.71,2.71,0,0,1,880.24,538.15Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#a6c7d5",fillRule:"evenodd"}),Object(G.jsx)("path",{d:"M877.53,541a2.84,2.84,0,1,1,2.83-2.83A2.83,2.83,0,0,1,877.53,541Zm0-5.42a2.59,2.59,0,1,0,2.58,2.59A2.59,2.59,0,0,0,877.53,535.56Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M880.24,524.33a2.71,2.71,0,1,1-2.71-2.71A2.71,2.71,0,0,1,880.24,524.33Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#a6c7d5",fillRule:"evenodd"}),Object(G.jsx)("path",{d:"M877.53,527.17a2.84,2.84,0,1,1,2.83-2.84A2.84,2.84,0,0,1,877.53,527.17Zm0-5.43a2.59,2.59,0,1,0,2.58,2.59A2.59,2.59,0,0,0,877.53,521.74Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+15.42),y:"".concat(a+43.39),width:"12.66",height:"6.56",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M880,449.88h-12.9v-6.81H880Zm-12.66-.25H879.8v-6.32H867.38Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M909.22,451.2a4.48,4.48,0,1,1,4.48-4.48A4.49,4.49,0,0,1,909.22,451.2Zm0-8.72a4.24,4.24,0,1,0,4.24,4.24A4.24,4.24,0,0,0,909.22,442.48Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M909.88,448.61h-1.32v-3.79h1.32Zm-1.07-.24h.82v-3.31h-.82Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M904.85,598.73h-5.68V595H883v3.77h-5.69V595h-7.07v-8.08h41.63V595h-7Zm-5.44-.25h5.2v-3.76h7v-7.59H870.44v7.59h7.07v3.76h5.2v-3.76h16.7Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M916.06,489.72H864.74V453.11h51.32ZM865,489.48h50.82V453.36H865Z",transform:"translate(".concat(t-851.84," ").concat(a-399.8,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+16.08),y:"".concat(a+61.5),width:"44.95",height:"19.77",fill:"#e5f5f9"}),Object(G.jsx)("rect",{x:"".concat(t+23.94),y:"".concat(a+83.9),width:"3.03",height:"3.03",fill:"#e5f5f9"}),Object(G.jsx)("rect",{x:"".concat(t+50.15),y:"".concat(a+83.9),width:"3.03",height:"3.03",fill:"#e5f5f9"})]})})},Zt=function(e){var t=e.x,a=e.y,n=e.scale;return Object(G.jsx)(c.a.Fragment,{children:Object(G.jsxs)("g",{transform:"scale(".concat(n,")"),style:{transformOrigin:"".concat(t+$t/2,"px ").concat(a+Qt/2,"px")},children:[Object(G.jsx)("rect",{x:"".concat(t+.16),y:"".concat(a+.16),width:"99.68",height:"99.68",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M671.36,357.86h-100v-100h100Zm-99.68-.32H671V258.18H571.68Z",transform:"translate(".concat(t-571.36," ").concat(a-257.86,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M611.35,350.15l-.89-.08V291.6h21.79v58.47l-.82.08Zm.31-57.35V349h19.39V292.8Z",transform:"translate(".concat(t-571.36," ").concat(a-257.86,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M632.25,350.15H610.46V335l-.83-.35a29.18,29.18,0,0,1,2.72-54.37,29.46,29.46,0,0,1,18,0c1,.34,1.92.69,2.8,1.08a29.13,29.13,0,0,1-.08,53.29h0c-.28.13-.55.24-.83.35ZM611.66,349h19.39V334.16l.38-.15,1.17-.49a27.92,27.92,0,0,0,.07-51.09,24.73,24.73,0,0,0-2.69-1,28.26,28.26,0,0,0-17.26,0,23.4,23.4,0,0,0-2.79,1.09,27.91,27.91,0,0,0,.19,51l1.16.49.38.15Z",transform:"translate(".concat(t-571.36," ").concat(a-257.86,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+39.1),y:"".concat(a+23.49),width:"1.2",height:"10.84",fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+59.68),y:"".concat(a+23.49),width:"1.2",height:"10.84",fill:"#005f87"})]})})},Bt=function(e){var t=e.x,a=e.y,n=e.scale;return Object(G.jsx)(c.a.Fragment,{children:Object(G.jsxs)("g",{transform:"scale(".concat(n,")"),style:{transformOrigin:"".concat(t+aa/2,"px ").concat(a+na/2,"px")},children:[Object(G.jsx)("path",{d:"M994.86,548.56H863.07v-86H994.86Zm-131.41-.39h131V462.94h-131Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+.72),y:"".concat(a+.72),width:"148.56",height:"151.2",fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M1004,563.26H854V410.63h150Zm-148.56-1.44h147.11V412.07H855.41Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M860.34,562.54H997.59V594H860.34V562.54",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#a6c7d5",fillRule:"evenodd"}),Object(G.jsx)("path",{d:"M998.31,594.69H859.62V561.82H998.31Zm-137.25-1.44H996.87v-30H861.06Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M994.86,443H863.07V422.6H994.86Zm-131.41-.38h131V423h-131Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M949.16,480.05H908.77V462.56h40.39Zm-40-.39h39.63V462.94H909.15Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M875.34,594.69H859.62V561.82h15.72Zm-14.28-1.44H873.9v-30H861.06Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M998.31,594.69H982.59V561.82h15.72ZM984,593.25h12.84v-30H984Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M906.33,480.05H863.07V462.56h43.26Zm-42.88-.39h42.49V462.94H863.45Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M994.86,480.05H951.6V462.56h43.26ZM952,479.66h42.5V462.94H952Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M906.33,520H863.07V488.19h43.26Zm-42.88-.39h42.49v-31H863.45Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M949.16,520H908.77V488.19h40.39Zm-40-.39h39.63v-31H909.15Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M994.86,520H951.6V488.19h43.26ZM952,519.57h42.5v-31H952Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M906.33,548.56H863.07V528.1h43.26Zm-42.88-.39h42.49V528.49H863.45Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M949.16,548.56H908.77V528.1h40.39Zm-40-.39h39.63V528.49H909.15Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M994.86,548.56H951.6V528.1h43.26ZM952,548.17h42.5V528.49H952Z",transform:"translate(".concat(t-853.97," ").concat(a-410.63,")"),fill:"#005f87"}),Object(G.jsx)("rect",{x:"".concat(t+100.93),y:"".concat(a+36.43),width:"32.7",height:"11.54",fill:"#d9e7ed"})]})})},Wt=function(e){var t=e.x,a=e.y,n=e.scale;return Object(G.jsx)(c.a.Fragment,{children:Object(G.jsxs)("g",{transform:"scale(".concat(n,")"),style:{transformOrigin:"".concat(t+ra/2,"px ").concat(a+ca/2,"px")},children:[Object(G.jsx)("path",{d:"M956.21,597.57H657.73V546.11H956.21Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M957,598.33H657v-53H957Zm-298.48-1.52h297V546.87h-297Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M938.62,597.57H937.1V546.11h1.52Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M946.71,576.44a5.26,5.26,0,1,1,5.25-5.26A5.27,5.27,0,0,1,946.71,576.44Zm0-10.13a4.87,4.87,0,1,0,4.87,4.87A4.88,4.88,0,0,0,946.71,566.31Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M937.86,572.86H726.25v-.43H937.86Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M667,597.07h-1.52V546.61H667Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M723.59,592.86H679.28v-42h44.31Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M724.1,593.38H678.77V550.3H724.1Zm-44.3-1h43.27v-41H679.8Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M723.59,546.4v50.88",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M724.35,597.28h-1.52V546.4h1.52Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M692.28,563.23a8.61,8.61,0,1,1,0,17.22Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M692.28,580.85h-.4v-18h.4a9,9,0,0,1,0,18Zm.41-17.21V580a8.21,8.21,0,0,0,0-16.39Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M705.75,571.83a11.14,11.14,0,0,0-1.24-5.09,12.12,12.12,0,0,0-6.36-5.93,3.83,3.83,0,0,1,0-5.39h8.21l2.27-2.27s6.27,6.46,6,18.7-6.14,18.68-6.14,18.68l-2.26-2.29-8.2,0a3.82,3.82,0,0,1,0-5.39,12.09,12.09,0,0,0,6.39-5.9,11.23,11.23,0,0,0,1.27-5.08",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M708.54,591.15l-2.45-2.48-8.2,0-.13-.13a4.16,4.16,0,0,1-1.22-3,4.21,4.21,0,0,1,1.25-3l.17-.1a11.71,11.71,0,0,0,6.13-5.65,11,11,0,0,0,1.23-4.92,10.64,10.64,0,0,0-1.2-4.9,11.65,11.65,0,0,0-6.1-5.71l-.17-.11a4.24,4.24,0,0,1,0-6L698,555h8.2l2.45-2.45.31.31c.26.27,6.39,6.73,6.16,19s-6,18.69-6.26,19Zm-10.29-3.38,8.2,0,2,2.08c1.18-1.49,5.55-7.68,5.74-18s-4.42-16.62-5.63-18.07l-2.07,2.07h-8.2a3.37,3.37,0,0,0,0,4.58,12.53,12.53,0,0,1,6.52,6.14,11.47,11.47,0,0,1,0,10.53,12.46,12.46,0,0,1-6.54,6.08,3.41,3.41,0,0,0-.08,4.59Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M688.65,563.23h3.63v17.15h-3.63Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M692.69,580.79h-4.44v-18h4.44Zm-3.63-.81h2.82V563.63h-2.82Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M899.58,570.07H879V549.52h20.55Zm-20.14-.41h19.74V549.92H879.44Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M933.21,570.09H899.38a.22.22,0,0,1-.22-.22V549.72a.22.22,0,0,1,.22-.22h33.83a.22.22,0,0,1,.22.22v20.15A.22.22,0,0,1,933.21,570.09Zm-33.61-.45H933v-19.7H899.6Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M879.5,593h-7.36V572.44h7.36Zm-7-.4h6.55V572.85h-6.55Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M813.23,593h-7.36V572.44h7.36Zm-7-.4h6.55V572.85h-6.55Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M933.21,593H724.28a.22.22,0,0,1-.23-.22V572.64a.22.22,0,0,1,.23-.22H933.21a.22.22,0,0,1,.23.22v20.15A.22.22,0,0,1,933.21,593Zm-208.71-.45H933V572.87H724.5Z",transform:"translate(".concat(t-656.97," ").concat(a-545.35,")"),fill:"#005f87"})]})})},Ut=function(e){var t=e.x,a=e.y,n=e.scale;return Object(G.jsx)(c.a.Fragment,{children:Object(G.jsxs)("g",{transform:"scale(".concat(n,")"),style:{transformOrigin:"".concat(t+ia/2,"px ").concat(a+oa/2,"px")},children:[Object(G.jsx)("path",{d:"M582.89,97.75V84.38h50V399h-50V97.75",transform:"translate(".concat(t-582.39," ").concat(a-83.88,")"),fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M627.47,168.54H588.3V101.17h39.17ZM589.89,167h36V102.76h-36Z",transform:"translate(".concat(t-582.39," ").concat(a-83.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M627.47,356.49H588.3V289.12h39.17Zm-37.58-1.59h36V290.71h-36Z",transform:"translate(".concat(t-582.39," ").concat(a-83.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M626.68,248.21H589.1V203h37.58Z",transform:"translate(".concat(t-582.39," ").concat(a-83.88,")"),fill:"#d9e7ed"}),Object(G.jsx)("path",{d:"M621.1,248.21H594.68V215.32H621.1Z",transform:"translate(".concat(t-582.39," ").concat(a-83.88,")"),fill:"#a6c7d5"}),Object(G.jsx)("path",{d:"M621.9,249h-28V214.52h28Zm-26.43-1.6H620.3v-31.3H595.47Z",transform:"translate(".concat(t-582.39," ").concat(a-83.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M632.89,399h-50V84.38h50Z",transform:"translate(".concat(t-582.39," ").concat(a-83.88,")"),fill:"none",stroke:"#005f87",strokeMiterlimit:"10"}),Object(G.jsx)("path",{d:"M632.89,272.29h-50v-1.61h50Z",transform:"translate(".concat(t-582.39," ").concat(a-83.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M632.89,191.84h-50v-1.61h50Z",transform:"translate(".concat(t-582.39," ").concat(a-83.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M632.89,184.41h-50V182.8h50Z",transform:"translate(".concat(t-582.39," ").concat(a-83.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M632.89,370h-50V368.4h50Z",transform:"translate(".concat(t-582.39," ").concat(a-83.88,")"),fill:"#005f87"}),Object(G.jsx)("path",{d:"M632.89,381.76h-50v-1.61h50Z",transform:"translate(".concat(t-582.39," ").concat(a-83.88,")"),fill:"#005f87"})]})})},zt=600,Gt=2100,Xt=100,Jt=(Gt-Xt)/12,Kt=Jt/32,qt=200,Yt=260,$t=100,Qt=100,ea=150,ta=255,aa=150,na=184,ra=300,ca=53,ia=50,oa=314,sa=Object(p.a)((function(e){return Object(h.a)({lineStyle:{stroke:"dark"===e.palette.type?e.palette.text.primary:Y.light1,strokeWidth:Kt,strokeLinecap:"round",fill:"none"},siemensLogoPlate:{fill:"dark"===e.palette.type?e.palette.text.primary:q.dark3,textAnchor:"middle",dominantBaseline:"central",letterSpacing:"-0.02em",font:"bold ".concat(zt/200,"em sans-serif ")},siemensLogoOutline:{stroke:"dark"===e.palette.type?e.palette.text.primary:q.dark3,strokeWidth:zt/400,fill:"none"},clickableOverlay:{fill:"rgba(255, 255, 255, 0)","&:hover, &:focus":{stroke:$.light3,strokeWidth:3*Kt}},panelBase:{stroke:"dark"===e.palette.type?e.palette.text.primary:Y.light1,strokeWidth:Kt,fill:"dark"===e.palette.type?e.palette.text.primary:Y.light1},panelName:{fill:"dark"===e.palette.type?e.palette.text.primary:Y.dark5,textAnchor:"middle",dominantBaseline:"central",letterSpacing:"-0.02em",font:"bold ".concat(zt/150,"em sans-serif")},compartmentNameHorizontal:{fill:"dark"===e.palette.type?e.palette.text.primary:Y.dark1,textAnchor:"end",dominantBaseline:"hanging",font:"bold ".concat(zt/200,"em sans-serif")},compartmentNameVertical:{fill:"dark"===e.palette.type?e.palette.text.primary:Y.dark1,textAnchor:"end",font:"bold ".concat(zt/200,"em sans-serif")},svgContainer:{overflowX:"auto",whiteSpace:"nowrap"},svgElement:{height:"calc(100vh - 150px)"},switchboardName:{fontSize:"6em",fill:"dark"===e.palette.type?e.palette.text.primary:q.dark3,textAnchor:"end",dominantBaseline:"hanging",letterSpacing:"-0.05em"},cbTrippedOverlay:{fill:"rgba(255, 0, 0, 0.4)"},cbOpenOverlay:{fill:"rgba(255, 206, 53, 0.4)"},transparent:{fill:"none"},noConnectionAlarmHorizontal:{fill:"red",textAnchor:"start",font:"bold ".concat(zt/240,"em sans-serif"),dominantBaseline:"hanging"},noConnectionAlarmVertical:{fill:"red",textAnchor:"start",font:"bold ".concat(zt/240,"em sans-serif"),dominantBaseline:"ideographic"}})})),la=function(){var e=Object(b.c)((function(e){return e.elevation})),t=sa(),a=Object(b.c)((function(e){return e.systemTopologyData})),r=Object(b.c)((function(e){return e.deviceDataDialogElevationDataSource})),i=Object(R.a)().t,o=function(e,t,a,n){switch(e){case"infeed3VA":return Object(G.jsx)(Vt,{scale:d(n),x:t-ea/2,y:a-Jt/2});case"infeed3WL":return Object(G.jsx)(Rt,{scale:1.5,x:t-qt/2,y:a-Jt/2});case"outgoingFeeder3VAHorizontal":return Object(G.jsx)(Zt,{scale:1,x:t-$t/2,y:a});case"outgoingFeeder3VAVertical":return Object(G.jsx)(Vt,{scale:d(n),x:t-ea/2,y:a-Jt/2});case"outgoingFeeder3NP1Vertical":return Object(G.jsx)(Bt,{scale:d(n),x:t-aa/2,y:a-na/4});case"outgoingFeeder3NJ6":return Object(G.jsx)(Wt,{scale:1.9,x:t-ra/2,y:a+ca/2});case"outgoingFeeder3NJ4":return Object(G.jsx)(Ut,{scale:1.8,x:t-ia/2,y:a-oa/3});default:return null}},s=function(e){return e?e.infeedType&&""!==e.infeedType?{deviceName:e.infeedTableName||"",deviceType:e.infeedType||"",breakerName:e.breakerName,sectionName:"".concat(i("deviceDataDialog.section")," ").concat(e.sectionName)}:e.breakerType===n.circuitBreaker?{deviceName:e.breakerTableName||"",deviceType:e.breakerType,breakerName:e.breakerName,sectionName:"".concat(e.switchboardName," ").concat(i("deviceDataDialog.section")," ").concat(e.sectionName)}:(e.breakerType,n.infeedBreaker,{deviceName:e.breakerTableName||"",deviceType:e.breakerType,breakerName:e.breakerName,sectionName:"".concat(i("deviceDataDialog.section")," ").concat(e.sectionName)}):{deviceName:"",deviceType:"",breakerName:"",sectionName:""}},l=function(e,a,n){return Object(G.jsx)("text",{x:a,y:n,className:t.switchboardName,transform:"rotate(-90 ".concat(a," ").concat(n,")"),children:"".concat(i("overviewPage.switchboard")," ").concat(e)})},d=function(e){return e>=7?.3:e>=4?.5:e>=2?.8:1},u=function(e){var t;return pe(null===(t=a[e])||void 0===t?void 0:t.Breaker_State)},m=function(e,t){return e&&a[e]&&a[e].Connection_State&&!t?a[e].Connection_State:t?1:0};return Object(G.jsx)(c.a.Fragment,{children:Object(G.jsx)(Z.a,{container:!0,spacing:1,children:Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(ge,{name:"overview",tabs:function(){var a=[];return e.switchboards.map((function(e){var n=Object(G.jsx)("div",{className:t.svgContainer,children:Object(G.jsxs)("svg",{viewBox:"-80 -5 ".concat(620*e.panels.length," 2350"),className:t.svgElement,children:[l(e.name,-80,0),e.panels.map((function(t,a){var n=0;return Object(G.jsx)(Et,{x:a*zt,y:0,name:t.name,empty:"empty"===t.name,children:t.compartments.map((function(c,i){n+=t.compartments[i-1]?t.compartments[i-1].rowSpan:0;var l=c.columns.length;return c.columns.map((function(t,d){return Object(G.jsx)(Ft,{x:a*zt+d*zt/l,y:n*Jt,span:c.rowSpan,columns:l,name:t.name,nonInteractive:t.nonInteractive,state:t.assetID?u(t.assetID):{closed:!0,tripped:!1,drawnOut:!1},assetID:t.assetID?t.assetID:"",breakerName:t.assetID?s(r["".concat(e.name,"-").concat(t.assetID)]).breakerName:"",deviceName:t.assetID?s(r["".concat(e.name,"-").concat(t.assetID)]).deviceName:"",deviceType:t.assetID?s(r["".concat(e.name,"-").concat(t.assetID)]).deviceType:"",sectionName:t.assetID?s(r["".concat(e.name,"-").concat(t.assetID)]).sectionName:"",switchboardAssetID:e.assetID?e.assetID:"",connectionState:m(t.assetID,t.nonInteractive),children:o(t.type,a*zt+d*zt/l+zt/l/2,n*Jt+(c.rowSpan*Jt+Xt)/2,l)},"".concat(i,"-").concat(d))}))}))},a)}))]})});return a.push({label:e.name,content:n})})),a}()})})})})},da=a(160),ua=a.n(da),ba=a(219),ma=function(){ua()(document.body,{scrollX:0,scrollY:0}).then((function(e){var t=e.toDataURL("image/jpeg",50),a=new ba.a({orientation:e.width>e.height?"landscape":"portrait",unit:"px",format:[e.width,e.height]});a.addImage(t,"JPEG",0,0,e.width,e.height),a.save("sidiro-export.pdf")}))},ja=function(e){var t=e.data,a=e.chartTitle,n=e.onDataClick,i=Object(r.useRef)(),o=Object(r.useState)(null),l=Object(s.a)(o,2),d=l[0],u=l[1],b=Object(f.a)();Ie(d,"#fff"),Se(d,t);var m=Object(r.useMemo)((function(){return{type:"pie",data:t,options:{plugins:{legend:{labels:{font:{size:14}}}},legend:{labels:{fontColor:b.palette.text.primary}},onClick:function(e,t){var a;t&&t[0]&&(a=t[0].index,n(a))},title:{display:!!a,text:a||"",fontColor:"dark"===b.palette.type?$.light6:"#666",fontFamily:"Roboto, Helvetica, Arial, sans-serif"},aspectRatio:1}}}),[t,a,b.palette.type,b.palette.text.primary,n]);return Object(r.useEffect)((function(){null===d&&u(new Ne.a(i.current,m))}),[t,d,a,m]),Object(G.jsx)(c.a.Fragment,{children:Object(G.jsx)("canvas",{ref:i})})},ga=function(){var e=Object(We.a)(Be.a.mark((function e(t,a,n,r,c,i){var o,s,l;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/iottsaggregates/v3/aggregates/".concat(t,"/").concat(a,"?from=").concat(c,"&to=").concat(i,"&intervalUnit=").concat(n,"&intervalValue=").concat(r));case 2:return o=e.sent,e.next=5,o.json();case 5:return s=e.sent,l="month"===n?Object(se.a)(Object(se.a)({},s[0]),{},{assetID:t}):{data:s,assetID:t},e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c,i){return e.apply(this,arguments)}}(),pa="SET_ASSETS_REPORTS_DATA",ha="SET_REPORTS_DATE",fa=function(e,t){return{type:ha,dateFrom:e,dateTo:t}},xa=a(794),va=a(814),Oa=a(163),ya=function(e){return{startOfMonth:Object(xa.a)(e).toISOString(),endOfMonth:Object(xa.a)(Object(va.a)(e,{months:1})).toISOString(),startOfDay:Object(Oa.a)(e).toISOString(),endOfDay:Object(Oa.a)(Object(va.a)(e,{days:1})).toISOString()}},Da=function(){var e=Object(r.useState)(),t=Object(s.a)(e,2),a=t[0],n=t[1],i=Object(b.c)((function(e){return e.reports})),o=Object(r.useState)(),l=Object(s.a)(o,2),d=l[0],u=l[1],m=Object(r.useState)(),g=Object(s.a)(m,2),p=g[0],h=g[1],f=Object(r.useState)(),x=Object(s.a)(f,2),v=x[0],O=x[1],D=Object(r.useState)(),w=Object(s.a)(D,2),L=w[0],T=w[1],_=Object(r.useState)(),k=Object(s.a)(_,2),C=k[0],N=k[1],I=Object(b.c)((function(e){return e.commonReports.assets})),A=Object(b.c)((function(e){return e.commonReports.dateFrom})),S=Object(b.c)((function(e){return e.commonReports.dateTo})),P=Ha(),H=Object(R.a)(),M=H.t,E=H.i18n,F=Object(b.b)(),V=Object(r.useRef)(),B=Object(r.useRef)(),W=Object(r.useRef)(),U=Object(r.useRef)();V.current=C,B.current=p,W.current=a,U.current=I,Object(r.useEffect)((function(){if(I&&Object.keys(I).length>0){var e=Object.keys(I).map((function(e){return ga(e,"DATA_1_MIN","month",1,A,S)}));h(void 0),O(void 0),F(bt(!0)),Promise.all(e).then((function(e){var t={};e.forEach((function(e){t=Object(se.a)(Object(se.a)({},t),{},Object(j.a)({},e.assetID,e))})),n(t),F(bt(!1))})).catch((function(e){return F(bt(!1))}))}}),[I,n,F,A,S]),Object(r.useEffect)((function(){return function(){u(void 0),h(void 0),O(void 0)}}),[]);var z=Object(r.useCallback)((function(e,t){return"pl"===E.language?t:e}),[E.language]),X=Object(r.useCallback)((function(e){return W.current&&W.current[e.assetID]&&W.current[e.assetID].Active_Energy_Import?(W.current[e.assetID].Active_Energy_Import.lastvalue-W.current[e.assetID].Active_Energy_Import.firstvalue)/1e3:0}),[]),J=Object(r.useCallback)((function(e){if(W.current){var t=e.filter((function(e){return W.current[e]&&W.current[e].Active_Energy_Import})).map((function(e){return W.current[e].Active_Energy_Import.lastvalue-W.current[e].Active_Energy_Import.firstvalue}));return 0!==t.length?t.reduce((function(e,t){return e+t}))/1e3:0}return 0}),[]),K=Object(r.useCallback)((function(e,t){var a=t||[];return Array.isArray(e)?e.forEach((function(e){return K(e,a)})):e.subgroups?e.subgroups.forEach((function(e){return K(e,a)})):e.assets&&e.assets.forEach((function(e){return a.push(e.assetID)})),a}),[]),q=Object(r.useCallback)((function(e,t,a){if(null===e||void 0===e?void 0:e.subgroups){var n=z(e.enName,e.plName),r=e.subgroups.map((function(e){return J(K(e))})),c=e.subgroups.map((function(e){return z(e.enName,e.plName)}));switch(a){case 2:h({title:n,labels:c,values:r,groupIndex:t}),O(void 0);break;case 3:O({title:n,labels:c,values:r});break;default:return null}}}),[J,z,K]),Y=Object(r.useCallback)((function(e,t,a){if(null===e||void 0===e?void 0:e.assets){var n,r,c=z(e.enName,e.plName),i=null===(n=e.assets)||void 0===n?void 0:n.map((function(e){return X(e)})),o=null===(r=e.assets)||void 0===r?void 0:r.map((function(e){return e.feederName}));switch(a){case 2:h({title:c,labels:o,values:i,groupIndex:void 0}),O(void 0);break;case 3:O({title:c,labels:o,values:i});break;default:return null}}}),[X,z]),$=Object(r.useCallback)((function(e,t){var a;1===t?(N(i.groups[e]),i.groups[e].assets?Y(i.groups[e],e,t+1):i.groups[e].subgroups&&q(i.groups[e],e,t+1)):void 0!==B.current.groupIndex&&((null===(a=V.current)||void 0===a?void 0:a.assets)?Y(V.current,e,t+1):Y(V.current.subgroups[e],e,t+1))}),[Y,q,i.groups]);Object(r.useEffect)((function(){if(W.current&&U.current){var e=i.groups.map((function(e){return J(K(e))})),t=i.groups.map((function(e){return z(e.enName,e.plName)}));u({title:M("reportsPage.totalActiveEnergyImport"),labels:t,values:e})}}),[a,J,K,i.groups,M,z]),Object(r.useEffect)((function(){L&&L.scrollIntoView({behavior:"smooth"})}),[L]);var Q=function(e,t,a,n){var r=t.concat(M("reportsPage.totalValue")),i=a.concat(a.reduce((function(e,t){return parseFloat((e+t).toFixed(3))})));return Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:P.sectionMargin,ref:T,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:e})}),Object(G.jsx)(Z.a,{item:!0,xs:12,md:5,children:Object(G.jsx)(ja,{onDataClick:function(e){return $(e,n)},chartTitle:"",data:{labels:t,datasets:[{label:"",backgroundColor:r.map((function(e,t){return ie(t)})),data:a}]}})}),Object(G.jsx)(Z.a,{item:!0,xs:12,md:7,children:Object(G.jsx)(Ce,{columns:[M("reportsPage.groupName"),M("reportsPage.activeEnergyUsage")],rows:r.map((function(e,t){return[e,"".concat(i[t]," kWh")]}))})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(y.a,{})})]},e)};return Object(G.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(G.jsx)(Z.a,{item:!0,xs:12,md:9,lg:9,children:Object(G.jsx)(ht.a,{cancelLabel:M("datePicker.cancelButton"),autoOk:!0,label:M("reportsPage.chooseMonth"),value:A,onChange:function(e){return e?function(e){F(fa(ya(e).startOfMonth,ya(e).endOfMonth)),h(void 0),O(void 0)}(e):null},fullWidth:!0,views:["month"],format:"MM/yyyy"})}),Object(G.jsx)(Z.a,{item:!0,xs:12,md:3,lg:3,children:Object(G.jsx)(Je.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return ma()},children:M("reportsPage.exportToPDF")})}),d&&d.title&&d.labels&&d.values?Q(d.title,d.labels,d.values,1):null,p&&p.title&&p.labels&&p.values?Q(p.title,p.labels,p.values,2):null,v&&v.title&&v.labels&&v.values?Q(v.title,v.labels,v.values,3):null]})},wa=function(e){var t=e.data,a=e.chartTitle,n=e.yAxisUnit,i=e.yAxisTitle,o=e.xAxisTitle,l=e.onDataClick,d=Object(r.useRef)(),u=Object(r.useState)(null),b=Object(s.a)(u,2),m=b[0],j=b[1],g=Object(f.a)();Ie(m,"#fff"),function(e,t,a){Object(r.useEffect)((function(){e&&e.data&&e.data.datasets&&e.data.labels&&(a&&e.options.scales.y.title.text&&(e.options.scales.y.title.text=a),e.data.labels=t.labels,t.datasets.forEach((function(t,a){e.data.datasets[a]?(e.data.datasets[a].data=t.data,e.data.datasets[a].label=t.label,e.data.datasets[a].backgroundColor=t.backgroundColor):e.data.datasets.push({data:t.data,label:t.label,backgroundColor:t.backgroundColor})})),e.data.datasets.length>t.datasets.length&&function(e,t){for(;t>0;)e.pop(),t--}(e.data.datasets,e.data.datasets.length-t.datasets.length),t.labels&&t.labels.forEach((function(t,a){e.data.labels[a]=t})),e.update())}),[e,t,a])}(m,t,i);var p=Object(r.useMemo)((function(){return{type:"bar",data:t,options:{aspectRatio:2.5,interaction:{intersect:!1,mode:"point"},plugins:{legend:{labels:{font:{size:14}}},tooltip:{callbacks:{label:function(e){var t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=e.parsed.y),t&&n&&(t+=" ".concat(n)),t}}},title:{display:!!a,text:a||""}},onClick:function(e,t){var a;t&&t[0]&&(a=t[0].datasetIndex,l&&l(a))},legend:{labels:{fontColor:g.palette.text.primary}},responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:o||"",font:{size:18,weight:400}}},y:{stacked:!0,title:{text:i||"",display:!!i,color:g.palette.text.primary,font:{size:18,weight:400}}}}}}}),[t,a,g.palette.text.primary,i,l,n,o]);return Object(r.useEffect)((function(){null===m&&j(new Ne.a(d.current,p))}),[t,m,a,p]),Object(G.jsx)(c.a.Fragment,{children:Object(G.jsx)("canvas",{ref:d})})},La=a(837),Ta=a(803),_a=a(825),ka=a(811),Ca=a(793),Na=function(){var e=Object(R.a)(),t=e.t,a=e.i18n,n=Object(b.b)(),i=Ha(),o=Object(b.c)((function(e){return e.commonReports.dateFrom})),l=Object(b.c)((function(e){return e.commonReports.dateTo})),d=Object(r.useState)(),u=Object(s.a)(d,2),m=u[0],g=u[1],p=Object(r.useState)(),h=Object(s.a)(p,2),f=h[0],x=h[1],v=Object(r.useState)(),O=Object(s.a)(v,2),D=O[0],w=O[1],L=Object(r.useState)(),T=Object(s.a)(L,2),_=T[0],k=T[1],C=Object(r.useState)(),N=Object(s.a)(C,2),I=N[0],A=N[1],S=Object(r.useState)("activeEnergyImport"),P=Object(s.a)(S,2),H=P[0],M=P[1],E=Object(r.useState)(),F=Object(s.a)(E,2),V=F[0],B=F[1],W=Object(b.c)((function(e){return e.commonReports.assets})),U=Object(b.c)((function(e){return e.reports})),z=Object(r.useRef)(),X=Object(r.useRef)(),J=Object(r.useRef)(),K=Object(r.useRef)();z.current=I,X.current=W,J.current=V,K.current=f;var q=Object(r.useCallback)((function(e,t){if(z.current){var a=t.map((function(t){return Object.values(z.current[t]).map((function(t){if(void 0===t.Active_Energy_Import)return 0;switch(e){case"activeEnergyImport":return t.Active_Energy_Import.lastvalue-t.Active_Energy_Import.firstvalue;case"reactiveEnergyImport":return t.Reactive_Energy_Import.lastvalue-t.Reactive_Energy_Import.firstvalue;case"reactiveEnergyExport":return t.Reactive_Energy_Export.lastvalue-t.Reactive_Energy_Export.firstvalue}return 0}))}));return(a.length>0?a.reduce((function(e,t){return e.map((function(e,a){return e+t[a]}))})):[]).map((function(e){return parseFloat((e/1e3).toFixed(3))}))}return[]}),[]),Y=Object(r.useCallback)((function(e,t){return"pl"===a.language?t:e}),[a.language]),$=Object(r.useCallback)((function(e,t){var a=t||[];return Array.isArray(e)?e.forEach((function(e){return $(e,a)})):e.subgroups?e.subgroups.forEach((function(e){return $(e,a)})):e.assets&&e.assets.forEach((function(e){return a.push(e.assetID)})),a}),[]);Object(r.useEffect)((function(){if(W&&Object.keys(W).length>0){var e=Object.keys(W).map((function(e){return ga(e,"DATA_1_MIN","day",1,o,l)}));n(bt(!0)),Promise.all(e).then((function(e){var t={};e.forEach((function(e){t=Object(se.a)(Object(se.a)({},t),{},Object(j.a)({},e.assetID,e.data))})),A(t),n(bt(!1))})).catch((function(e){return n(bt(!1))}))}}),[W,A,n,o,l]);var Q=function(){switch(H){case"activeEnergyImport":return{title:t("reportsPage.totalActiveEnergyImport"),yAxisUnit:"kWh"};case"reactiveEnergyImport":return{title:t("reportsPage.totalReactiveEnergyImport"),yAxisUnit:"kvar"};case"reactiveEnergyExport":return{title:t("reportsPage.totalReactiveEnergyExport"),yAxisUnit:"kvar"};default:return{title:"",yAxisUnit:""}}},ee=Object(r.useCallback)((function(e,t){return z.current&&z.current[t.assetID]?Object.values(z.current[t.assetID]).map((function(t){if(void 0===t.Active_Energy_Import)return 0;switch(e){case"activeEnergyImport":return(t.Active_Energy_Import.lastvalue-t.Active_Energy_Import.firstvalue)/1e3;case"reactiveEnergyImport":return(t.Reactive_Energy_Import.lastvalue-t.Reactive_Energy_Import.firstvalue)/1e3;case"reactiveEnergyExport":return(t.Reactive_Energy_Export.lastvalue-t.Reactive_Energy_Export.firstvalue)/1e3}return 0})):[]}),[]);Object(r.useEffect)((function(){if(z.current&&X.current){var e=U.groups.map((function(e){return q(H,$(e))})),t=Object.values(z.current).map((function(e){return Object.values(e).map((function(e){return e.starttime}))}))[0].filter((function(e){return void 0!==e})).map((function(e){return"".concat(Object(Fe.a)(Object(Ca.a)(e),"dd/MM/yyyy"))})),a=U.groups.map((function(e){return Y(e.enName,e.plName)})).map((function(t,a){return{label:t,data:e[a],backgroundColor:ie(a)}}));g({xAxisLabels:t,datasets:a})}}),[I,Y,$,U.groups,H,q]),Object(r.useEffect)((function(){_&&_.scrollIntoView({behavior:"smooth"})}),[_]);var te=Object(r.useCallback)((function(e,t,a){if(null===e||void 0===e?void 0:e.subgroups){var n=Y(e.enName,e.plName),r=e.subgroups.map((function(e){return q(H,$(e))})),c=Object.values(z.current).map((function(e){return Object.values(e).map((function(e){return e.starttime}))}))[0].filter((function(e){return void 0!==e})).map((function(e){return"".concat(Object(Fe.a)(Object(Ca.a)(e),"dd/MM/yyyy"))})),i=e.subgroups.map((function(e){return Y(e.enName,e.plName)})).map((function(e,t){return{label:e,data:r[t],backgroundColor:ie(t)}}));switch(a){case 2:x({title:n,xAxisLabels:c,datasets:i,groupIndex:t}),w(void 0);break;case 3:w({title:n,xAxisLabels:c,datasets:i});break;default:return null}}}),[q,Y,$,H]),ae=Object(r.useCallback)((function(e,t){if(null===e||void 0===e?void 0:e.assets){var a=Y(e.enName,e.plName),n=e.assets.map((function(e){return ee(H,e)})),r=Object.values(z.current).map((function(e){return Object.values(e).map((function(e){return e.starttime}))}))[0].filter((function(e){return void 0!==e})).map((function(e){return"".concat(Object(Fe.a)(Object(Ca.a)(e),"dd/MM/yyyy"))})),c=e.assets.map((function(e,t){return{label:e.feederDescription,data:n[t],backgroundColor:ie(t)}}));switch(t){case 2:x({title:a,xAxisLabels:r,datasets:c,groupIndex:void 0}),w(void 0);break;case 3:w({title:a,xAxisLabels:r,datasets:c});break;default:return null}}}),[ee,Y,H]),ne=Object(r.useCallback)((function(e,t){var a;1===t?(B(U.groups[e]),U.groups[e].assets?ae(U.groups[e],t+1):U.groups[e].subgroups&&te(U.groups[e],e,t+1)):void 0!==K.current.groupIndex&&((null===(a=J.current)||void 0===a?void 0:a.assets)?ae(J.current,t+1):ae(J.current.subgroups[e],t+1))}),[ae,te,U.groups]),re=function(e,t,a,n){return Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:i.sectionMargin,ref:k,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:e})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(wa,{onDataClick:function(e){return ne(e,n)},yAxisTitle:Q().title,yAxisUnit:Q().yAxisUnit,chartTitle:"",data:{labels:t,datasets:a}})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(y.a,{})})]},e)};return Object(G.jsx)(c.a.Fragment,{children:Object(G.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(G.jsx)(Z.a,{item:!0,xs:12,md:5,lg:5,children:Object(G.jsx)(ht.a,{cancelLabel:t("datePicker.cancelButton"),autoOk:!0,label:t("reportsPage.chooseMonth"),value:o,onChange:function(e){return e?function(e){n(fa(ya(e).startOfMonth,ya(e).endOfMonth)),x(void 0),w(void 0)}(e):null},fullWidth:!0,views:["month"],format:"MM/yyyy"})}),Object(G.jsx)(Z.a,{item:!0,xs:12,md:4,lg:4,children:Object(G.jsxs)(Ta.a,{className:i.select,children:[Object(G.jsx)(La.a,{id:"energy-select-label",children:t("reportsPage.energyChoice")}),Object(G.jsxs)(_a.a,{fullWidth:!0,labelId:"energy-select-label",id:"energy-select",value:H,onChange:function(e){M(e.target.value),x(void 0),w(void 0)},children:[Object(G.jsx)(ka.a,{value:"activeEnergyImport",children:t("reportsPage.activeEnergyImport")}),Object(G.jsx)(ka.a,{value:"reactiveEnergyImport",children:t("reportsPage.reactiveEnergyImport")}),Object(G.jsx)(ka.a,{value:"reactiveEnergyExport",children:t("reportsPage.reactiveEnergyExport")})]})]})}),Object(G.jsx)(Z.a,{item:!0,xs:12,md:3,lg:3,children:Object(G.jsx)(Je.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return ma()},children:t("reportsPage.exportToPDF")})}),m&&m.xAxisLabels&&m.datasets?re(Q().title,m.xAxisLabels,m.datasets,1):null,f&&f.title&&f.xAxisLabels&&f.datasets?re(f.title,f.xAxisLabels,f.datasets,2):null,D&&D.title&&D.xAxisLabels&&D.datasets?re(D.title,D.xAxisLabels,D.datasets,3):null]})})},Ia=function(){var e=Object(We.a)(Be.a.mark((function e(t,a,n,r,c){var i,o;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/iottimeseries/v3/timeseries/".concat(t,"/DATA_").concat(a,"_MIN?from=").concat(n,"&to=").concat(r,"&select=").concat(c));case 2:return i=e.sent,e.next=5,i.json();case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),Aa=function(){var e=Object(r.useState)(new Date(ya(new Date).startOfDay)),t=Object(s.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(),o=Object(s.a)(i,2),l=o[0],d=o[1],u=Object(r.useState)(),m=Object(s.a)(u,2),j=m[0],g=m[1],p=Object(r.useState)(),h=Object(s.a)(p,2),f=h[0],x=h[1],v=Object(r.useState)(),O=Object(s.a)(v,2),y=O[0],D=O[1],w=Object(r.useState)(),L=Object(s.a)(w,2),T=L[0],_=L[1],k=Object(b.c)((function(e){return e.powerDemandTab})),C=Object(b.c)((function(e){return e.commonReports.dateFrom})),N=Object(b.c)((function(e){return e.commonReports.dateTo})),I=Object(R.a)().t,A=Object(b.b)(),S=Ha(),P=Object(b.c)((function(e){return e.commonReports.assets}));Object(r.useEffect)((function(){if(k.infeeds&&k.warningThreshold&&k.alarmThreshold){var e=[],t=(new Date(N).valueOf()-new Date(C).valueOf())/9e5;k.infeeds.forEach((function(a){t>2e3&&(e.push(Ia(a,15,C,new Date(new Date(N).valueOf()-1296e6).toISOString(),"Active_Power_Import")),e.push(Ia(a,15,new Date(new Date(N).valueOf()-1295999999).toISOString(),N,"Active_Power_Import")))})),A(bt(!0)),Promise.all(e).then((function(e){if(A(bt(!1)),e.length>0){var t=[];e.reduce((function(e,t){return e.concat(t)})).forEach((function(e){var a=t.findIndex((function(t){return t.x===new Date(e._time).valueOf()}));-1!==a?t[a].y=t[a].y+e.Active_Power_Import/1e3:t.push({x:new Date(e._time).valueOf(),y:e.Active_Power_Import/1e3})}));var a=t.map((function(e){return{x:new Date(e.x).valueOf(),y:k.warningThreshold?k.warningThreshold:0}})),n=t.map((function(e){return{x:new Date(e.x).valueOf(),y:k.alarmThreshold?k.alarmThreshold:0}}));D(n),x(a),d(t)}}))}}),[C,N,k,d,A]),Object(r.useEffect)((function(){if(l&&k.warningThreshold&&k.alarmThreshold){var e=[];l.forEach((function(t){if(k.warningThreshold&&k.alarmThreshold){var a=new Date(t.x);t.y>k.alarmThreshold?e.push([a,t.y,parseFloat((t.y-k.alarmThreshold).toFixed(3)),I("reportsPage.alarm")]):t.y>k.warningThreshold&&e.push([a,t.y,parseFloat((t.y-k.warningThreshold).toFixed(3)),I("reportsPage.warning")])}})),g(e)}}),[g,I,l,k.alarmThreshold,k.warningThreshold]),Object(r.useEffect)((function(){if(Object.keys(P).length>0&&k.outfeeds&&k.outfeeds.length>0&&l&&k.infeeds){var e=k.outfeeds.map((function(e){return ga(e,"DATA_15_MIN","minute",15,ya(a).startOfDay,ya(a).endOfDay)})),t=k.infeeds.map((function(e){return ga(e,"DATA_15_MIN","minute",15,ya(a).startOfDay,ya(a).endOfDay)})),n=e.concat(t);A(bt(!0)),Promise.all(n).then((function(e){if(A(bt(!1)),e.length>0){var a=e.slice(-t.length);e.length=e.length-a.length;var n=[],r=[],c=e.map((function(e,t){var a=e.data.map((function(e){var t="".concat(Object(Fe.a)(Object(Ca.a)(e.starttime),"HH:mm"));return-1===n.indexOf(t)&&n.push(t),e.Active_Power_Import?e.Active_Power_Import.lastvalue/1e3:0}));return r.push(a),{label:k.outfeeds?P[k.outfeeds[t]].feederName:"",data:a,backgroundColor:ie(t)}})),i=a.map((function(e){var t=e.data.map((function(e){return e.Active_Power_Import?e.Active_Power_Import.lastvalue/1e3:0})),a=r.reduce((function(e,t){return t.map((function(t,a){return(e[a]||0)+t}))}),[]),n=t.map((function(e,t){return parseFloat((e-a[t]).toFixed(3))}));return{label:I("reportsPage.othersDataTitle"),data:n,backgroundColor:ie(c.length+1)}})),o=c.concat(i);_({xAxisLabels:n,datasets:o})}}))}}),[P,a,k.outfeeds,l,k.infeeds,I,A]);return Object(G.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(G.jsx)(Z.a,{item:!0,xs:12,md:8,lg:9,children:Object(G.jsx)(ht.a,{cancelLabel:I("datePicker.cancelButton"),autoOk:!0,label:I("reportsPage.chooseMonth"),value:C,onChange:function(e){return e?function(e){A(fa(ya(e).startOfMonth,ya(e).endOfMonth))}(e):null},fullWidth:!0,views:["month"],format:"MM/yyyy"})}),Object(G.jsx)(Z.a,{item:!0,xs:12,md:4,lg:3,children:Object(G.jsx)(Je.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return ma()},children:I("reportsPage.exportToPDF")})}),l&&f&&y?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:S.sectionMargin,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:I("reportsPage.averageActivePower15Min")})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:[{label:I("reportsPage.averageActivePower15Min"),backgroundColor:ie(0),borderColor:ie(0),fill:!1,lineTension:0,data:l,pointRadius:0},{label:I("reportsPage.warningThreshold"),backgroundColor:"orange",borderColor:"orange",fill:!1,lineTension:0,data:f,pointRadius:0,borderDash:[5]},{label:I("reportsPage.alarmThreshold"),backgroundColor:"red",borderColor:"red",fill:!1,lineTension:0,data:y,pointRadius:0,borderDash:[5]}]},xAxisTitle:I("chart.timeAxisLabel"),yAxisTitle:I("chart.valueAxisLabel"),timeInterval:"day",yAxisUnit:"kW"})}),j?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:S.sectionMargin,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:I("reportsPage.powerExceedings")})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Lt,{rows:j,columns:[I("reportsPage.tableColumnTime"),I("reportsPage.tableColumnPower"),I("reportsPage.tableColumnExceeding"),I("reportsPage.tableColumnAlarmWarning")],defaultOrderColumnIndex:0})})]}):null]}):null,T&&T.xAxisLabels&&T.datasets?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:S.sectionMargin,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:I("reportsPage.outfeedAverageActivePower")})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(wa,{yAxisTitle:I("chart.valueAxisLabel"),xAxisTitle:I("chart.timeAxisLabel"),yAxisUnit:"kW",chartTitle:"",data:{labels:T.xAxisLabels,datasets:T.datasets}})}),Object(G.jsx)(Z.a,{item:!0,xs:12,md:6,children:Object(G.jsx)(ht.a,{cancelLabel:I("datePicker.cancelButton"),autoOk:!0,label:I("reportsPage.chooseMonth"),value:a,onChange:function(e){return e?n(e):null},fullWidth:!0,format:"MM/yyyy",variant:"static",disableFuture:!0})})]}):null]})},Sa=function(){var e,t=Object(r.useState)(),a=Object(s.a)(t,2),n=a[0],i=a[1],o=Object(r.useState)(""),l=Object(s.a)(o,2),d=l[0],u=l[1],m=Object(b.c)((function(e){return e.commonReports.dateFrom})),j=Object(b.c)((function(e){return e.commonReports.dateTo})),g=Object(b.c)((function(e){return e.overview})),p=Object(r.useState)(),h=Object(s.a)(p,2),f=h[0],x=h[1],v=Object(r.useState)(),O=Object(s.a)(v,2),y=O[0],D=O[1],w=Object(r.useState)(),L=Object(s.a)(w,2),T=L[0],_=L[1],k=Object(r.useState)(),C=Object(s.a)(k,2),N=C[0],I=C[1],A=Object(r.useState)(),S=Object(s.a)(A,2),P=S[0],H=S[1],M=Object(r.useState)(),E=Object(s.a)(M,2),F=E[0],V=E[1],B=Object(r.useState)(),W=Object(s.a)(B,2),X=W[0],J=W[1],K=Object(r.useState)(),q=Object(s.a)(K,2),Y=q[0],$=q[1],Q=Object(r.useState)(),ee=Object(s.a)(Q,2),te=ee[0],ae=ee[1],re=Object(r.useState)(),ce=Object(s.a)(re,2),oe=ce[0],le=ce[1],de=Object(r.useState)(),ue=Object(s.a)(de,2),be=ue[0],me=ue[1],je=Object(r.useState)(),ge=Object(s.a)(je,2),pe=ge[0],fe=ge[1],xe=Object(r.useState)(),ve=Object(s.a)(xe,2),Oe=ve[0],ye=ve[1],De=Object(R.a)().t,we=Object(b.b)(),Le=Ha(),Te=Object(r.useCallback)((function(e,t){te&&(we(z(new Date(e))),we(ne("TransformerDeviceDetails",t)),we(U({open:!0,deviceName:te.deviceName,deviceType:te.deviceType,breakerName:te.breakerName,sectionName:te.sectionName,assetID:te.assetID,switchboardAssetID:te.switchboardAssetID})))}),[we,te]),_e=Object(r.useCallback)((function(e,t,a){return Object(G.jsx)(Je.a,{onClick:function(){return Te(t,a)},className:Le.smallerFont,children:e})}),[Le.smallerFont,Te]);Object(r.useEffect)((function(){var e=[];g.diagrams.forEach((function(t){t.sections.forEach((function(t){t.infeeds&&t.infeeds.forEach((function(t){"transformer"===t.type&&e.push(t)}))}))})),i(e),e.length>0&&u(e[0].breaker.assetID)}),[g.diagrams,i]),Object(r.useEffect)((function(){""!==d&&(we(bt(!0)),ga(d,"DATA_1_MIN","month",1,m,j).then((function(e){we(bt(!1)),x(e)})).catch((function(e){return we(bt(!1))})))}),[d,m,j,x,we]),Object(r.useEffect)((function(){if(f&&te&&f.Voltage_L1_N){var e=[De("reportsPage.genericParameterTitle"),De("reportsPage.averageValue"),De("reportsPage.maxValue"),De("reportsPage.minValue")],t=[[De("deviceDataDialog.voltageL1N"),Ne(ke(f.Voltage_L1_N.average),"V"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Voltage_L1_N.maxvalue),"V")}),_e(Object(Fe.a)(Object(Ca.a)(f.Voltage_L1_N.maxtime),"dd/MM/yyyy, HH:mm"),f.Voltage_L1_N.maxtime,1)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Voltage_L1_N.minvalue),"V")}),_e(Object(Fe.a)(Object(Ca.a)(f.Voltage_L1_N.mintime),"dd/MM/yyyy, HH:mm"),f.Voltage_L1_N.mintime,1)]})],[De("deviceDataDialog.voltageL2N"),Ne(ke(f.Voltage_L2_N.average),"V"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Voltage_L2_N.maxvalue),"V")}),_e(Object(Fe.a)(Object(Ca.a)(f.Voltage_L2_N.maxtime),"dd/MM/yyyy, HH:mm"),f.Voltage_L2_N.maxtime,1)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Voltage_L2_N.minvalue),"V")}),_e(Object(Fe.a)(Object(Ca.a)(f.Voltage_L2_N.mintime),"dd/MM/yyyy, HH:mm"),f.Voltage_L2_N.mintime,1)]})],[De("deviceDataDialog.voltageL3N"),Ne(ke(f.Voltage_L3_N.average),"V"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Voltage_L3_N.maxvalue),"V")}),_e(Object(Fe.a)(Object(Ca.a)(f.Voltage_L3_N.maxtime),"dd/MM/yyyy, HH:mm"),f.Voltage_L3_N.maxtime,1)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Voltage_L3_N.minvalue),"V")}),_e(Object(Fe.a)(Object(Ca.a)(f.Voltage_L3_N.mintime),"dd/MM/yyyy, HH:mm"),f.Voltage_L3_N.mintime,1)]})],[De("deviceDataDialog.voltageL1L2"),Ne(ke(f.Voltage_L1_L2.average),"V"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Voltage_L1_L2.maxvalue),"V")}),_e(Object(Fe.a)(Object(Ca.a)(f.Voltage_L1_L2.maxtime),"dd/MM/yyyy, HH:mm"),f.Voltage_L1_L2.maxtime,2)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Voltage_L1_L2.minvalue),"V")}),_e(Object(Fe.a)(Object(Ca.a)(f.Voltage_L1_L2.mintime),"dd/MM/yyyy, HH:mm"),f.Voltage_L1_L2.mintime,2)]})],[De("deviceDataDialog.voltageL1L2"),Ne(ke(f.Voltage_L2_L3.average),"V"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Voltage_L2_L3.maxvalue),"V")}),_e(Object(Fe.a)(Object(Ca.a)(f.Voltage_L2_L3.maxtime),"dd/MM/yyyy, HH:mm"),f.Voltage_L2_L3.maxtime,2)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Voltage_L2_L3.minvalue),"V")}),_e(Object(Fe.a)(Object(Ca.a)(f.Voltage_L2_L3.mintime),"dd/MM/yyyy, HH:mm"),f.Voltage_L2_L3.mintime,2)]})],[De("deviceDataDialog.voltageL3L1"),Ne(ke(f.Voltage_L3_L1.average),"V"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Voltage_L3_L1.maxvalue),"V")}),_e(Object(Fe.a)(Object(Ca.a)(f.Voltage_L3_L1.maxtime),"dd/MM/yyyy, HH:mm"),f.Voltage_L3_L1.maxtime,2)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Voltage_L3_L1.minvalue),"V")}),_e(Object(Fe.a)(Object(Ca.a)(f.Voltage_L3_L1.mintime),"dd/MM/yyyy, HH:mm"),f.Voltage_L3_L1.mintime,2)]})],["THDU L1",Ne(ke(f.THD_U_L1.average),"%"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.THD_U_L1.maxvalue),"%")}),_e(Object(Fe.a)(Object(Ca.a)(f.THD_U_L1.maxtime),"dd/MM/yyyy, HH:mm"),f.THD_U_L1.maxtime,5)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.THD_U_L1.minvalue),"%")}),_e(Object(Fe.a)(Object(Ca.a)(f.THD_U_L1.mintime),"dd/MM/yyyy, HH:mm"),f.THD_U_L1.mintime,5)]})],["THDU L2",Ne(ke(f.THD_U_L2.average),"%"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.THD_U_L2.maxvalue),"%")}),_e(Object(Fe.a)(Object(Ca.a)(f.THD_U_L2.maxtime),"dd/MM/yyyy, HH:mm"),f.THD_U_L2.maxtime,5)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.THD_U_L2.minvalue),"%")}),_e(Object(Fe.a)(Object(Ca.a)(f.THD_U_L2.mintime),"dd/MM/yyyy, HH:mm"),f.THD_U_L2.mintime,5)]})],["THDU L3",Ne(ke(f.THD_U_L3.average),"%"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.THD_U_L3.maxvalue),"%")}),_e(Object(Fe.a)(Object(Ca.a)(f.THD_U_L3.maxtime),"dd/MM/yyyy, HH:mm"),f.THD_U_L3.maxtime,5)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.THD_U_L3.minvalue),"%")}),_e(Object(Fe.a)(Object(Ca.a)(f.THD_U_L3.mintime),"dd/MM/yyyy, HH:mm"),f.THD_U_L3.mintime,5)]})]],a=e,n=[["".concat(De("deviceDataDialog.current")," L1"),Ne(ke(f.Current_L1.average),"A"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Current_L1.maxvalue),"A")}),_e(Object(Fe.a)(Object(Ca.a)(f.Current_L1.maxtime),"dd/MM/yyyy, HH:mm"),f.Current_L1.maxtime,3)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Current_L1.minvalue),"A")}),_e(Object(Fe.a)(Object(Ca.a)(f.Current_L1.mintime),"dd/MM/yyyy, HH:mm"),f.Current_L1.mintime,3)]})],["".concat(De("deviceDataDialog.current")," L2"),Ne(ke(f.Current_L2.average),"A"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Current_L2.maxvalue),"A")}),_e(Object(Fe.a)(Object(Ca.a)(f.Current_L2.maxtime),"dd/MM/yyyy, HH:mm"),f.Current_L2.maxtime,3)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Current_L2.minvalue),"A")}),_e(Object(Fe.a)(Object(Ca.a)(f.Current_L2.mintime),"dd/MM/yyyy, HH:mm"),f.Current_L2.mintime,3)]})],["".concat(De("deviceDataDialog.current")," L3"),Ne(ke(f.Current_L3.average),"A"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Current_L3.maxvalue),"A")}),_e(Object(Fe.a)(Object(Ca.a)(f.Current_L3.maxtime),"dd/MM/yyyy, HH:mm"),f.Current_L3.maxtime,3)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.Current_L3.minvalue),"A")}),_e(Object(Fe.a)(Object(Ca.a)(f.Current_L3.mintime),"dd/MM/yyyy, HH:mm"),f.Current_L3.mintime,3)]})],["THDI L1",Ne(ke(f.THD_I_L1.average),"%"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.THD_I_L1.maxvalue),"%")}),_e(Object(Fe.a)(Object(Ca.a)(f.THD_I_L1.maxtime),"dd/MM/yyyy, HH:mm"),f.THD_I_L1.maxtime,6)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.THD_I_L1.minvalue),"%")}),_e(Object(Fe.a)(Object(Ca.a)(f.THD_I_L1.mintime),"dd/MM/yyyy, HH:mm"),f.THD_I_L1.mintime,6)]})],["THDI L2",Ne(ke(f.THD_I_L2.average),"%"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.THD_I_L2.maxvalue),"%")}),_e(Object(Fe.a)(Object(Ca.a)(f.THD_I_L2.maxtime),"dd/MM/yyyy, HH:mm"),f.THD_I_L2.maxtime,6)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.THD_I_L2.minvalue),"%")}),_e(Object(Fe.a)(Object(Ca.a)(f.THD_I_L2.mintime),"dd/MM/yyyy, HH:mm"),f.THD_I_L2.mintime,6)]})],["THDI L3",Ne(ke(f.THD_I_L3.average),"%"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.THD_I_L3.maxvalue),"%")}),_e(Object(Fe.a)(Object(Ca.a)(f.THD_I_L3.maxtime),"dd/MM/yyyy, HH:mm"),f.THD_I_L3.maxtime,6)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:Ne(ke(f.THD_I_L3.minvalue),"%")}),_e(Object(Fe.a)(Object(Ca.a)(f.THD_I_L3.mintime),"dd/MM/yyyy, HH:mm"),f.THD_I_L3.mintime,6)]})]];_({rows:n,columns:a}),D({rows:t,columns:e})}else _(void 0),D(void 0)}),[f,De,Le.smallerFont,D,te,_e]),Object(r.useEffect)((function(){""!==d&&(we(bt(!0)),ga(d,"DATA_15_MIN","day",1,m,j).then((function(e){we(bt(!1)),e.data&&e.data.length>0&&I(e.data)})).catch((function(e){return we(bt(!1))})))}),[m,j,d,we]),Object(r.useEffect)((function(){if(N){var e=N.map((function(e){return e.Active_Power_Import&&e.Reactive_Power_Import?{x:new Date(e.starttime).valueOf(),y:he(e.Active_Power_Import.average,e.Reactive_Power_Import.average)}:{x:new Date(e.starttime).valueOf(),y:0}})),t=N.map((function(e){return e.Active_Power_Export&&e.Reactive_Power_Export?{x:new Date(e.starttime).valueOf(),y:he(e.Active_Power_Export.average,e.Reactive_Power_Export.average)}:{x:new Date(e.starttime).valueOf(),y:0}}));V({importPFData:e,exportPFData:t})}}),[N]),Object(r.useEffect)((function(){""!==d&&(we(bt(!0)),ga(d,"DATA_1_MIN","day",1,m,j).then((function(e){we(bt(!1)),e.data&&e.data.length>0&&H(e.data)})).catch((function(e){return we(bt(!1))})))}),[m,j,d,we]),Object(r.useEffect)((function(){if(P&&P.length>0){var e=P.map((function(e){return{maxCurrentL1Data:{x:new Date(e.starttime).valueOf(),y:e.Current_L1?parseFloat(e.Current_L1.maxvalue.toFixed(3)):0},maxCurrentL2Data:{x:new Date(e.starttime).valueOf(),y:e.Current_L2?parseFloat(e.Current_L2.maxvalue.toFixed(3)):0},maxCurrentL3Data:{x:new Date(e.starttime).valueOf(),y:e.Current_L3?parseFloat(e.Current_L3.maxvalue.toFixed(3)):0},avgCurrentL1Data:{x:new Date(e.starttime).valueOf(),y:e.Current_L1?parseFloat(e.Current_L1.average.toFixed(3)):0},avgCurrentL2Data:{x:new Date(e.starttime).valueOf(),y:e.Current_L2?parseFloat(e.Current_L2.average.toFixed(3)):0},avgCurrentL3Data:{x:new Date(e.starttime).valueOf(),y:e.Current_L3?parseFloat(e.Current_L3.average.toFixed(3)):0},thdiL1:{x:new Date(e.starttime).valueOf(),y:e.THD_I_L1?parseFloat(e.THD_I_L1.average.toFixed(3)):0},thdiL2:{x:new Date(e.starttime).valueOf(),y:e.THD_I_L2?parseFloat(e.THD_I_L2.average.toFixed(3)):0},thdiL3:{x:new Date(e.starttime).valueOf(),y:e.THD_I_L3?parseFloat(e.THD_I_L3.average.toFixed(3)):0},thduL1:{x:new Date(e.starttime).valueOf(),y:e.THD_U_L1?parseFloat(e.THD_U_L1.average.toFixed(3)):0},thduL2:{x:new Date(e.starttime).valueOf(),y:e.THD_U_L2?parseFloat(e.THD_U_L2.average.toFixed(3)):0},thduL3:{x:new Date(e.starttime).valueOf(),y:e.THD_U_L3?parseFloat(e.THD_U_L3.average.toFixed(3)):0}}}));J({maxCurrentL1:e.map((function(e){return e.maxCurrentL1Data})),maxCurrentL2:e.map((function(e){return e.maxCurrentL2Data})),maxCurrentL3:e.map((function(e){return e.maxCurrentL3Data})),avgCurrentL1:e.map((function(e){return e.avgCurrentL1Data})),avgCurrentL2:e.map((function(e){return e.avgCurrentL2Data})),avgCurrentL3:e.map((function(e){return e.avgCurrentL3Data})),thdiL1:e.map((function(e){return e.thdiL1})),thdiL2:e.map((function(e){return e.thdiL2})),thdiL3:e.map((function(e){return e.thdiL3})),thduL1:e.map((function(e){return e.thduL1})),thduL2:e.map((function(e){return e.thduL2})),thduL3:e.map((function(e){return e.thduL3}))})}}),[P,J]),Object(r.useEffect)((function(){if(""!==d){var e=null,t=null,a=null;if(g.diagrams.forEach((function(n,r){n.sections.forEach((function(n,c){n.infeeds&&n.infeeds.forEach((function(n,i){n.breaker.assetID===d&&(e=r,t=c,a=i)}))}))})),null!==e&&null!==t&&null!==a){var n=[];g.diagrams[e].sections.forEach((function(e){e.breakers&&e.breakers.forEach((function(e){n.push({assetID:e.assetID,assetName:e.tableName})}))})),$(n)}}}),[d,g.diagrams,$]),Object(r.useEffect)((function(){if(""!==d){var e,t,a,n,r,c,i,o,s,l,u=null,b=null,m=null;if(g.diagrams.forEach((function(e,t){e.sections.forEach((function(e,a){e.infeeds&&e.infeeds.forEach((function(e,n){e.breaker.assetID===d&&(u=t,b=a,m=n)}))}))})),null!==u&&null!==b&&null!==m)ae({deviceName:(null===(e=g.diagrams[u].sections[b])||void 0===e||null===(t=e.infeeds)||void 0===t?void 0:t[m].tableName)||"",deviceType:(null===(a=g.diagrams[u].sections[b])||void 0===a||null===(n=a.infeeds)||void 0===n?void 0:n[m].type)||"",breakerName:(null===(r=g.diagrams[u].sections[b])||void 0===r||null===(c=r.infeeds)||void 0===c?void 0:c[m].breaker.name)||"",breakerType:(null===(i=g.diagrams[u].sections[b])||void 0===i||null===(o=i.infeeds)||void 0===o?void 0:o[m].breaker.type)||"",sectionName:"".concat(De("deviceDataDialog.section")," ").concat(g.diagrams[u].sections[b].name),assetID:(null===(s=g.diagrams[u].sections[b])||void 0===s||null===(l=s.infeeds)||void 0===l?void 0:l[m].breaker.assetID)||"",switchboardAssetID:g.diagrams[u].assetID||""})}}),[d,g.diagrams,ae,De]),Object(r.useEffect)((function(){if(Y&&Y.length>0){var e=Y.map((function(e){return ga(e.assetID,"DATA_1_MIN","day",1,m,j)}));Promise.all(e).then((function(e){var t=e.map((function(e,t){return Object(se.a)(Object(se.a)({},e),{},{assetName:Y[t].assetName})}));le(t)})).catch((function(e){return we(bt(!1))}))}}),[Y,m,j,le,we]),Object(r.useEffect)((function(){if(oe&&oe.length>0){var e=[],t=[],a=[];oe.forEach((function(n){e.push({outfeedName:n.assetName,data:n.data.map((function(e){return{x:new Date(e.starttime).valueOf(),y:e.THD_I_L1?parseFloat(e.THD_I_L1.average.toFixed(3)):0}}))}),t.push({outfeedName:n.assetName,data:n.data.map((function(e){return{x:new Date(e.starttime).valueOf(),y:e.THD_I_L2?parseFloat(e.THD_I_L2.average.toFixed(3)):0}}))}),a.push({outfeedName:n.assetName,data:n.data.map((function(e){return{x:new Date(e.starttime).valueOf(),y:e.THD_I_L3?parseFloat(e.THD_I_L3.average.toFixed(3)):0}}))})})),me(e),fe(t),ye(a)}}),[oe,me,fe,ye]);var ke=function(e){return parseFloat(e.toFixed(3))},Ne=function(e,t){return"".concat(e," ").concat(t)};return Object(G.jsx)(c.a.Fragment,{children:Object(G.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(G.jsx)(Z.a,{item:!0,xs:12,md:5,lg:5,children:Object(G.jsx)(ht.a,{cancelLabel:De("datePicker.cancelButton"),autoOk:!0,label:De("reportsPage.chooseMonth"),value:m,onChange:function(e){return e?we(fa(ya(e).startOfMonth,ya(e).endOfMonth)):null},fullWidth:!0,views:["month"],format:"MM/yyyy"})}),Object(G.jsx)(Z.a,{item:!0,xs:12,md:4,lg:4,children:n&&n.length>0?Object(G.jsxs)(Ta.a,{className:Le.select,children:[Object(G.jsx)(La.a,{id:"transformer-select-label",children:De("reportsPage.transformerChoice")}),Object(G.jsx)(_a.a,{fullWidth:!0,labelId:"transformer-select-label",id:"transformer-select",value:d,onChange:function(e){u(e.target.value)},children:n.map((function(e){return Object(G.jsx)(ka.a,{value:e.breaker.assetID,children:e.tableName},e.breaker.assetID)}))})]}):null}),Object(G.jsx)(Z.a,{item:!0,xs:12,md:3,lg:3,children:Object(G.jsx)(Je.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return ma()},children:De("reportsPage.exportToPDF")})}),n&&y&&T?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:Le.sectionMargin,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:"".concat(De("reportsPage.powerSupplyFrom")," ").concat(null===(e=n.find((function(e){return e.breaker.assetID===d})))||void 0===e?void 0:e.tableName)||""})}),Object(G.jsxs)(Z.a,{item:!0,xs:12,lg:6,children:[Object(G.jsx)(He.a,{gutterBottom:!0,variant:"body1",children:De("reportsPage.voltageParametersTitle")}),Object(G.jsx)(Ce,{columns:y.columns,rows:y.rows})]}),Object(G.jsxs)(Z.a,{item:!0,xs:12,lg:6,children:[Object(G.jsx)(He.a,{gutterBottom:!0,variant:"body1",children:De("reportsPage.currentParametersTitle")}),Object(G.jsx)(Ce,{columns:T.columns,rows:T.rows})]})]}):null,F?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:Le.sectionMargin,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:De("reportsPage.powerFactorChartTitle")})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:[{label:De("reportsPage.reactiveImportPowerFactor"),backgroundColor:ie(0),borderColor:ie(0),fill:!1,lineTension:0,data:F.importPFData,pointRadius:0},{label:De("reportsPage.reactiveExportPowerFactor"),backgroundColor:ie(1),borderColor:ie(1),fill:!1,lineTension:0,data:F.exportPFData,pointRadius:0}]},xAxisTitle:De("chart.timeAxisLabel"),yAxisTitle:De("chart.valueAxisLabel"),timeInterval:"day",tooltipFormat:"PP",yAxisUnit:""})})]}):null,X?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:Le.sectionMargin,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:De("reportsPage.currentFlows")})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:[{label:"".concat(De("reportsPage.maxCurrent")," L1"),backgroundColor:ie(0),borderColor:ie(0),fill:!1,lineTension:0,data:X.maxCurrentL1,pointRadius:0},{label:"".concat(De("reportsPage.maxCurrent")," L2"),backgroundColor:ie(1),borderColor:ie(1),fill:!1,lineTension:0,data:X.maxCurrentL2,pointRadius:0},{label:"".concat(De("reportsPage.maxCurrent")," L3"),backgroundColor:ie(2),borderColor:ie(2),fill:!1,lineTension:0,data:X.maxCurrentL3,pointRadius:0},{label:"".concat(De("reportsPage.avgCurrent")," L1"),backgroundColor:ie(3),borderColor:ie(3),fill:!1,lineTension:0,data:X.avgCurrentL1,pointRadius:0},{label:"".concat(De("reportsPage.avgCurrent")," L2"),backgroundColor:ie(4),borderColor:ie(4),fill:!1,lineTension:0,data:X.avgCurrentL2,pointRadius:0},{label:"".concat(De("reportsPage.avgCurrent")," L3"),backgroundColor:ie(5),borderColor:ie(5),fill:!1,lineTension:0,data:X.avgCurrentL3,pointRadius:0}]},xAxisTitle:De("chart.timeAxisLabel"),yAxisTitle:De("chart.valueAxisLabel"),timeInterval:"day",tooltipFormat:"PP",yAxisUnit:"A"})}),Object(G.jsx)(Z.a,{item:!0,xs:12,className:Le.sectionMargin,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:De("reportsPage.totalTHD")})}),Object(G.jsx)(Pe,{data:{datasets:[{label:"THDI L1",backgroundColor:ie(0),borderColor:ie(0),fill:!1,lineTension:0,data:X.thdiL1,pointRadius:0},{label:"THDI L2",backgroundColor:ie(1),borderColor:ie(1),fill:!1,lineTension:0,data:X.thdiL2,pointRadius:0},{label:"THDI L3",backgroundColor:ie(2),borderColor:ie(2),fill:!1,lineTension:0,data:X.thdiL3,pointRadius:0},{label:"THDU L1",backgroundColor:ie(3),borderColor:ie(3),fill:!1,lineTension:0,data:X.thduL1,pointRadius:0},{label:"THDU L2",backgroundColor:ie(4),borderColor:ie(4),fill:!1,lineTension:0,data:X.thduL2,pointRadius:0},{label:"THDU L3",backgroundColor:ie(5),borderColor:ie(5),fill:!1,lineTension:0,data:X.thduL3,pointRadius:0}]},xAxisTitle:De("chart.timeAxisLabel"),yAxisTitle:De("chart.valueAxisLabel"),timeInterval:"day",tooltipFormat:"PP",yAxisUnit:"%"})]}):null,be?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:Le.sectionMargin,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:"".concat(De("reportsPage.currentTHDInPhase")," L1")})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:be.map((function(e,t){return{label:e.outfeedName,backgroundColor:ie(t),borderColor:ie(t),fill:!1,lineTension:0,data:e.data,pointRadius:0}}))},xAxisTitle:De("chart.timeAxisLabel"),yAxisTitle:De("chart.valueAxisLabel"),timeInterval:"day",tooltipFormat:"PP",yAxisUnit:"%"})})]}):null,pe?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:Le.sectionMargin,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:"".concat(De("reportsPage.currentTHDInPhase")," L2")})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:pe.map((function(e,t){return{label:e.outfeedName,backgroundColor:ie(t),borderColor:ie(t),fill:!1,lineTension:0,data:e.data,pointRadius:0}}))},xAxisTitle:De("chart.timeAxisLabel"),yAxisTitle:De("chart.valueAxisLabel"),timeInterval:"day",tooltipFormat:"PP",yAxisUnit:"%"})})]}):null,Oe?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:Le.sectionMargin,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:"".concat(De("reportsPage.currentTHDInPhase")," L3")})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:Oe.map((function(e,t){return{label:e.outfeedName,backgroundColor:ie(t),borderColor:ie(t),fill:!1,lineTension:0,data:e.data,pointRadius:0}}))},xAxisTitle:De("chart.timeAxisLabel"),yAxisTitle:De("chart.valueAxisLabel"),timeInterval:"day",tooltipFormat:"PP",yAxisUnit:"%"})})]}):null]})})},Pa=function(){var e=Object(R.a)().t,t=Object(b.b)(),a=Ha(),n=Object(b.c)((function(e){return e.commonReports.dateFrom})),i=Object(b.c)((function(e){return e.commonReports.dateTo})),o=Object(b.c)((function(e){return e.overview})),l=Object(r.useState)(),d=Object(s.a)(l,2),u=d[0],m=d[1],j=Object(r.useState)(""),g=Object(s.a)(j,2),p=g[0],h=g[1],f=Object(r.useState)(),x=Object(s.a)(f,2),v=x[0],O=x[1],y=Object(r.useState)(),D=Object(s.a)(y,2),w=D[0],L=D[1],T=Object(r.useState)(),_=Object(s.a)(T,2),k=_[0],C=_[1],N=Object(r.useState)(),I=Object(s.a)(N,2),A=I[0],S=I[1],P=Object(r.useState)(),H=Object(s.a)(P,2),M=H[0],E=H[1],F=Object(r.useState)(),V=Object(s.a)(F,2),B=V[0],W=V[1],X=Object(r.useState)(),J=Object(s.a)(X,2),K=J[0],q=J[1],Y=Object(r.useState)(),$=Object(s.a)(Y,2),Q=$[0],ee=$[1],te=Object(r.useState)(),ae=Object(s.a)(te,2),re=ae[0],ce=ae[1],oe=Object(r.useCallback)((function(e,a){w&&(t(z(new Date(e))),t(ne("BreakerDeviceDetails",a)),t(U({open:!0,deviceName:w.deviceName,deviceType:w.deviceType,breakerName:w.breakerName,sectionName:w.sectionName,assetID:w.assetID,switchboardAssetID:w.switchboardAssetID})))}),[t,w]),se=Object(r.useCallback)((function(e,t,n){return Object(G.jsx)(Je.a,{onClick:function(){return oe(t,n)},className:a.smallerFont,children:e})}),[a.smallerFont,oe]);Object(r.useEffect)((function(){var e=o.diagrams.map((function(e){return e.name}));e.length>0&&(m(e),h(e[0]))}),[o.diagrams,m,h]),Object(r.useEffect)((function(){if(""!==p){var e=o.diagrams.find((function(e){return e.name===p})),t=[];e&&e.sections.forEach((function(e){e.breakers&&(t=t.concat(e.breakers.map((function(e){return{name:"".concat(e.name," - ").concat(e.tableName),assetID:e.assetID}}))))})),O(t),C(t[0].assetID),S(t[0].name)}}),[p,o.diagrams,O,S,C]),Object(r.useEffect)((function(){k&&A&&(t(bt(!0)),ga(k,"DATA_1_MIN","month",1,n,i).then((function(e){t(bt(!1)),E(e)})).catch((function(e){return t(bt(!1))})))}),[k,A,n,i,t]),Object(r.useEffect)((function(){if(M&&M.Current_L1){var t=[e("reportsPage.genericParameterTitle"),e("reportsPage.averageValue"),e("reportsPage.maxValue"),e("reportsPage.minValue")],a=[["".concat(e("deviceDataDialog.current")," L1"),de(le(M.Current_L1.average),"A"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:de(le(M.Current_L1.maxvalue),"A")}),se(Object(Fe.a)(Object(Ca.a)(M.Current_L1.maxtime),"dd/MM/yyyy, HH:mm"),M.Current_L1.maxtime,1)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:de(le(M.Current_L1.minvalue),"A")}),se(Object(Fe.a)(Object(Ca.a)(M.Current_L1.mintime),"dd/MM/yyyy, HH:mm"),M.Current_L1.mintime,1)]})],["".concat(e("deviceDataDialog.current")," L2"),de(le(M.Current_L2.average),"A"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:de(le(M.Current_L2.maxvalue),"A")}),se(Object(Fe.a)(Object(Ca.a)(M.Current_L2.maxtime),"dd/MM/yyyy, HH:mm"),M.Current_L2.maxtime,1)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:de(le(M.Current_L2.minvalue),"A")}),se(Object(Fe.a)(Object(Ca.a)(M.Current_L2.mintime),"dd/MM/yyyy, HH:mm"),M.Current_L2.mintime,1)]})],["".concat(e("deviceDataDialog.current")," L3"),de(le(M.Current_L3.average),"A"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:de(le(M.Current_L3.maxvalue),"A")}),se(Object(Fe.a)(Object(Ca.a)(M.Current_L3.maxtime),"dd/MM/yyyy, HH:mm"),M.Current_L3.maxtime,1)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:de(le(M.Current_L3.minvalue),"A")}),se(Object(Fe.a)(Object(Ca.a)(M.Current_L3.mintime),"dd/MM/yyyy, HH:mm"),M.Current_L3.mintime,1)]})]],n=t,r=[["THDI L1",de(le(M.THD_I_L1.average),"%"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:de(le(M.THD_I_L1.maxvalue),"%")}),se(Object(Fe.a)(Object(Ca.a)(M.THD_I_L1.maxtime),"dd/MM/yyyy, HH:mm"),M.THD_I_L1.maxtime,3)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:de(le(M.THD_I_L1.minvalue),"%")}),se(Object(Fe.a)(Object(Ca.a)(M.THD_I_L1.mintime),"dd/MM/yyyy, HH:mm"),M.THD_I_L1.mintime,3)]})],["THDI L2",de(le(M.THD_I_L2.average),"%"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:de(le(M.THD_I_L2.maxvalue),"%")}),se(Object(Fe.a)(Object(Ca.a)(M.THD_I_L2.maxtime),"dd/MM/yyyy, HH:mm"),M.THD_I_L2.maxtime,3)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:de(le(M.THD_I_L2.minvalue),"%")}),se(Object(Fe.a)(Object(Ca.a)(M.THD_I_L2.mintime),"dd/MM/yyyy, HH:mm"),M.THD_I_L2.mintime,3)]})],["THDI L3",de(le(M.THD_I_L3.average),"%"),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:de(le(M.THD_I_L3.maxvalue),"%")}),se(Object(Fe.a)(Object(Ca.a)(M.THD_I_L3.maxtime),"dd/MM/yyyy, HH:mm"),M.THD_I_L3.maxtime,3)]}),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("p",{children:de(le(M.THD_I_L3.minvalue),"%")}),se(Object(Fe.a)(Object(Ca.a)(M.THD_I_L3.mintime),"dd/MM/yyyy, HH:mm"),M.THD_I_L3.mintime,3)]})]];W({rows:a,columns:t}),q({rows:r,columns:n})}else W(void 0),q(void 0)}),[M,a.smallerFont,e,se]),Object(r.useEffect)((function(){A&&k&&(t(bt(!0)),ga(k,"DATA_1_MIN","day",1,n,i).then((function(e){t(bt(!1)),e.data&&e.data.length>0&&ee(e.data)})).catch((function(e){return t(bt(!1))})))}),[n,i,A,k,t]),Object(r.useEffect)((function(){if(Q&&Q.length>0){var e=Q.map((function(e){return{maxCurrentL1Data:{x:new Date(e.starttime).valueOf(),y:e.Current_L1?parseFloat(e.Current_L1.maxvalue.toFixed(3)):0},maxCurrentL2Data:{x:new Date(e.starttime).valueOf(),y:e.Current_L2?parseFloat(e.Current_L2.maxvalue.toFixed(3)):0},maxCurrentL3Data:{x:new Date(e.starttime).valueOf(),y:e.Current_L3?parseFloat(e.Current_L3.maxvalue.toFixed(3)):0},avgCurrentL1Data:{x:new Date(e.starttime).valueOf(),y:e.Current_L1?parseFloat(e.Current_L1.average.toFixed(3)):0},avgCurrentL2Data:{x:new Date(e.starttime).valueOf(),y:e.Current_L2?parseFloat(e.Current_L2.average.toFixed(3)):0},avgCurrentL3Data:{x:new Date(e.starttime).valueOf(),y:e.Current_L3?parseFloat(e.Current_L3.average.toFixed(3)):0},maxThdiL1:{x:new Date(e.starttime).valueOf(),y:e.THD_I_L1?parseFloat(e.THD_I_L1.maxvalue.toFixed(3)):0},maxThdiL2:{x:new Date(e.starttime).valueOf(),y:e.THD_I_L2?parseFloat(e.THD_I_L2.maxvalue.toFixed(3)):0},maxThdiL3:{x:new Date(e.starttime).valueOf(),y:e.THD_I_L3?parseFloat(e.THD_I_L3.maxvalue.toFixed(3)):0},avgThdiL1:{x:new Date(e.starttime).valueOf(),y:e.THD_U_L1?parseFloat(e.THD_I_L1.average.toFixed(3)):0},avgThdiL2:{x:new Date(e.starttime).valueOf(),y:e.THD_U_L2?parseFloat(e.THD_I_L2.average.toFixed(3)):0},avgThdiL3:{x:new Date(e.starttime).valueOf(),y:e.THD_U_L3?parseFloat(e.THD_I_L3.average.toFixed(3)):0}}}));ce({maxCurrentL1:e.map((function(e){return e.maxCurrentL1Data})),maxCurrentL2:e.map((function(e){return e.maxCurrentL2Data})),maxCurrentL3:e.map((function(e){return e.maxCurrentL3Data})),avgCurrentL1:e.map((function(e){return e.avgCurrentL1Data})),avgCurrentL2:e.map((function(e){return e.avgCurrentL2Data})),avgCurrentL3:e.map((function(e){return e.avgCurrentL3Data})),maxThdiL1:e.map((function(e){return e.maxThdiL1})),maxThdiL2:e.map((function(e){return e.maxThdiL2})),maxThdiL3:e.map((function(e){return e.maxThdiL3})),avgThdiL1:e.map((function(e){return e.avgThdiL1})),avgThdiL2:e.map((function(e){return e.avgThdiL2})),avgThdiL3:e.map((function(e){return e.avgThdiL3}))})}}),[Q,ce]),Object(r.useEffect)((function(){if(k&&A&&p){var t,a,n,r,c,i,s,l,d,u,b=o.diagrams.find((function(e){return e.name===p})),m=null,j=null;if(b&&b.sections.forEach((function(e,t){e.breakers&&e.breakers.forEach((function(e,a){e.assetID===k&&(m=t,j=a)}))})),null!==m&&null!==j&&b)L({deviceName:(null===(t=b.sections[m])||void 0===t||null===(a=t.breakers)||void 0===a?void 0:a[j].tableName)||"",deviceType:(null===(n=b.sections[m])||void 0===n||null===(r=n.breakers)||void 0===r?void 0:r[j].type)||"",breakerName:(null===(c=b.sections[m])||void 0===c||null===(i=c.breakers)||void 0===i?void 0:i[j].name)||"",breakerType:(null===(s=b.sections[m])||void 0===s||null===(l=s.breakers)||void 0===l?void 0:l[j].type)||"",sectionName:"".concat(b.name," ").concat(e("deviceDataDialog.section")," ").concat(b.sections[m].name),assetID:(null===(d=b.sections[m])||void 0===d||null===(u=d.breakers)||void 0===u?void 0:u[j].assetID)||"",switchboardAssetID:b.assetID||""})}}),[k,p,A,o.diagrams,e]);var le=function(e){return parseFloat(e.toFixed(3))},de=function(e,t){return"".concat(e," ").concat(t)};return Object(G.jsx)(c.a.Fragment,{children:Object(G.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(G.jsx)(Z.a,{item:!0,xs:12,md:3,lg:3,children:Object(G.jsx)(ht.a,{cancelLabel:e("datePicker.cancelButton"),autoOk:!0,label:e("reportsPage.chooseMonth"),value:n,onChange:function(e){return e?t(fa(ya(e).startOfMonth,ya(e).endOfMonth)):null},fullWidth:!0,views:["month"],format:"MM/yyyy"})}),u&&u.length>0?Object(G.jsx)(Z.a,{item:!0,xs:12,md:3,lg:3,children:Object(G.jsxs)(Ta.a,{className:a.select,children:[Object(G.jsx)(La.a,{id:"switchboard-select-label",children:e("reportsPage.switchboardChoice")}),Object(G.jsx)(_a.a,{fullWidth:!0,labelId:"switchboard-select-label",id:"switchboard-select",value:p,onChange:function(e){h(e.target.value)},children:u.map((function(e){return Object(G.jsx)(ka.a,{value:e,children:e},e)}))})]})}):null,v&&A&&k&&v.length>0?Object(G.jsx)(Z.a,{item:!0,xs:12,md:3,lg:3,children:Object(G.jsxs)(Ta.a,{className:a.select,children:[Object(G.jsx)(La.a,{id:"outfeed-select-label",children:e("reportsPage.outfeedChoice")}),Object(G.jsx)(_a.a,{fullWidth:!0,labelId:"outfeed-select-label",id:"outfeed-select",value:k,onChange:function(e){C(e.target.value),v&&S(v[v.findIndex((function(t){return t.assetID===e.target.value}))].name)},children:v.map((function(e){return Object(G.jsx)(ka.a,{value:e.assetID,children:e.name},e.assetID)}))})]})}):null,Object(G.jsx)(Z.a,{item:!0,xs:12,md:3,lg:3,children:Object(G.jsx)(Je.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return ma()},children:e("reportsPage.exportToPDF")})}),B&&K&&A?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:a.sectionMargin,children:Object(G.jsxs)(He.a,{gutterBottom:!0,variant:"h5",children:[e("reportsPage.singleOutfeedParameters")," ",A]})}),Object(G.jsxs)(Z.a,{item:!0,xs:12,lg:6,children:[Object(G.jsx)(He.a,{gutterBottom:!0,variant:"body1",children:e("reportsPage.voltageParametersTitle")}),Object(G.jsx)(Ce,{columns:B.columns,rows:B.rows})]}),Object(G.jsxs)(Z.a,{item:!0,xs:12,lg:6,children:[Object(G.jsx)(He.a,{gutterBottom:!0,variant:"body1",children:e("reportsPage.voltageParametersTitle")}),Object(G.jsx)(Ce,{columns:K.columns,rows:K.rows})]})]}):null,re?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,className:a.sectionMargin,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:e("reportsPage.currentFlows")})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:[{label:"".concat(e("reportsPage.maxCurrent")," L1"),backgroundColor:ie(0),borderColor:ie(0),fill:!1,lineTension:0,data:re.maxCurrentL1,pointRadius:0},{label:"".concat(e("reportsPage.maxCurrent")," L2"),backgroundColor:ie(1),borderColor:ie(1),fill:!1,lineTension:0,data:re.maxCurrentL2,pointRadius:0},{label:"".concat(e("reportsPage.maxCurrent")," L3"),backgroundColor:ie(2),borderColor:ie(2),fill:!1,lineTension:0,data:re.maxCurrentL3,pointRadius:0},{label:"".concat(e("reportsPage.avgCurrent")," L1"),backgroundColor:ie(3),borderColor:ie(3),fill:!1,lineTension:0,data:re.avgCurrentL1,pointRadius:0},{label:"".concat(e("reportsPage.avgCurrent")," L2"),backgroundColor:ie(4),borderColor:ie(4),fill:!1,lineTension:0,data:re.avgCurrentL2,pointRadius:0},{label:"".concat(e("reportsPage.avgCurrent")," L3"),backgroundColor:ie(5),borderColor:ie(5),fill:!1,lineTension:0,data:re.avgCurrentL3,pointRadius:0}]},xAxisTitle:e("chart.timeAxisLabel"),yAxisTitle:e("chart.valueAxisLabel"),timeInterval:"day",tooltipFormat:"PP",yAxisUnit:"A"})}),Object(G.jsx)(Z.a,{item:!0,xs:12,className:a.sectionMargin,children:Object(G.jsx)(He.a,{gutterBottom:!0,variant:"h5",children:e("reportsPage.totalTHD")})}),Object(G.jsx)(Pe,{data:{datasets:[{label:"".concat(e("reportsPage.maximum")," THDI L1"),backgroundColor:ie(0),borderColor:ie(0),fill:!1,lineTension:0,data:re.maxThdiL1,pointRadius:0},{label:"".concat(e("reportsPage.maximum")," THDI L2"),backgroundColor:ie(1),borderColor:ie(1),fill:!1,lineTension:0,data:re.maxThdiL2,pointRadius:0},{label:"".concat(e("reportsPage.maximum")," THDI L3"),backgroundColor:ie(2),borderColor:ie(2),fill:!1,lineTension:0,data:re.maxThdiL3,pointRadius:0},{label:"".concat(e("reportsPage.average")," THDI L1"),backgroundColor:ie(3),borderColor:ie(3),fill:!1,lineTension:0,data:re.avgThdiL1,pointRadius:0},{label:"".concat(e("reportsPage.average")," THDI L2"),backgroundColor:ie(4),borderColor:ie(4),fill:!1,lineTension:0,data:re.avgThdiL2,pointRadius:0},{label:"".concat(e("reportsPage.average")," THDI L3"),backgroundColor:ie(5),borderColor:ie(5),fill:!1,lineTension:0,data:re.avgThdiL3,pointRadius:0}]},xAxisTitle:e("chart.timeAxisLabel"),yAxisTitle:e("chart.valueAxisLabel"),timeInterval:"day",tooltipFormat:"PP",yAxisUnit:"%"})]}):null]})})},Ha=Object(p.a)((function(e){return Object(h.a)({select:{width:"100%"},sectionMargin:{marginTop:e.spacing(3)},smallerFont:{fontSize:"11px"}})})),Ma=function(){var e=Object(R.a)().t,t=Object(b.b)(),a=Object(b.c)((function(e){return e.reports}));return Object(r.useEffect)((function(){var e=function e(t,a){var n=a||{};return t.subgroups&&t.subgroups.forEach((function(t){return e(t,n)})),t.assets&&t.assets.forEach((function(e){Object.defineProperty(n,e.assetID,{value:e,writable:!0,enumerable:!0})})),n},n={};a.groups.forEach((function(t){var a=e(t);n=Object(se.a)(Object(se.a)({},n),a)})),t({type:pa,assetData:n})}),[t,a.groups]),Object(G.jsx)(c.a.Fragment,{children:Object(G.jsx)(ge,{name:"Reports",tabs:[{label:e("reportsPage.monthlyEnergyUsage"),content:Object(G.jsx)(Da,{})},{label:e("reportsPage.energyUsageProfile"),content:Object(G.jsx)(Na,{})},{label:e("reportsPage.powers15min"),content:Object(G.jsx)(Aa,{})},{label:e("reportsPage.infeedParameters"),content:Object(G.jsx)(Sa,{})},{label:e("reportsPage.outgoingFeederParameters"),content:Object(G.jsx)(Pa,{})}]})})};function Ea(){return Object(G.jsxs)(S.c,{children:[Object(G.jsx)(S.a,{path:"/reports",children:Object(G.jsx)(Ma,{})}),Object(G.jsx)(S.a,{path:"/events",children:Object(G.jsx)(Mt,{})}),Object(G.jsx)(S.a,{path:"/powermonitor",children:Object(G.jsx)(gt,{})}),Object(G.jsx)(S.a,{path:"/elevation",children:Object(G.jsx)(la,{})}),Object(G.jsx)(S.a,{path:"/",children:Object(G.jsx)(Oe,{})})]})}var Fa=a(167),Va=a.n(Fa),Ra=a(169),Za=a.n(Ra),Ba=a(170),Wa=a.n(Ba),Ua="SET_LANGUAGE_DIALOG_OPEN",za=function(e){return{type:Ua,open:e}},Ga=a.p+"static/media/sie-logo-petrol-rgb.6feef1b1.svg",Xa=a.p+"static/media/sie-logo-white-rgb.f8f4614b.svg",Ja=a(224),Ka=a.n(Ja),qa=a(223),Ya=a.n(qa),$a=a(220),Qa=a.n($a),en="SET_ASSET_DATA",tn="SET_DEVICE_DATA_DIALOG",an=function(e,t){return{type:tn,assetID:e,parameters:t}},nn="SET_CIRCUIT_DIAGRAM",rn="SET_ELEVATION",cn="SET_REPORTS_STRUCTURE",on="SET_REPORTS_POWER_DEMAND_STRUCTURE",sn="SET_USER_DATA",ln=Object(p.a)((function(e){var t,a;return Object(h.a)({root:{display:"flex",flexGrow:1},drawer:(t={width:240,flexShrink:0,whiteSpace:"nowrap"},Object(j.a)(t,"".concat(e.breakpoints.down("sm")," and (orientation: portrait)"),{display:"none"}),Object(j.a)(t,"".concat(e.breakpoints.down("sm")," and (orientation: landscape)"),{display:"flex"}),t),drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},content:Object(j.a)({flexGrow:1,width:"calc(100% - ".concat(240,"px)"),padding:e.spacing(3)},"".concat(e.breakpoints.down("sm")," and (orientation: portrait)"),{paddingBottom:e.spacing(10),paddingTop:e.spacing(1),paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}),bottomNavi:(a={position:"fixed",marginTop:"50px",bottom:0,width:"100%",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},Object(j.a)(a,"".concat(e.breakpoints.down("sm")," and (orientation: portrait)"),{display:"flex"}),Object(j.a)(a,"".concat(e.breakpoints.down("sm")," and (orientation: landscape)"),{display:"none"}),Object(j.a)(a,"".concat(e.breakpoints.up("md")),{display:"none"}),Object(j.a)(a,"textAlign","center"),a),bottomNaviElement:{minWidth:"0px"},siemensLogo:{height:"17px",verticalAlign:"middle",marginLeft:e.spacing(2)},expandDrawerArrow:{minWidth:"56px"}})})),dn=Qa()(),un=function(e){var t,a,n=e.onThemeChange,i=ln(),o=Object(r.useState)(!0),l=Object(s.a)(o,2),d=l[0],m=l[1],p=Object(r.useState)(null),h=Object(s.a)(p,2),w=h[0],T=h[1],I=Object(S.f)(),M=Object(R.a)().t,F=Object(b.b)(),Z=Object(f.a)(),B=Object(b.c)((function(e){return e.overview}));Object(r.useEffect)((function(){T(I.pathname)}),[I]),Object(r.useEffect)((function(){rt().then((function(e){var t,a,n,r,c,i,o;F((t=Object.values(e.plantsData)[0].config.overview,{type:nn,diagrams:t})),F((a=Object.values(e.plantsData)[0].config.elevation,{type:rn,elevation:a})),F((n=Object.values(e.plantsData)[0].config.reports,{type:cn,reportsStructure:n})),F((r=Object.values(e.plantsData)[0].config.reportsPowerDemand,{type:on,powerDemandStructure:r})),F((c=e.userData.appId,i=e.userData.userId,o=Object.keys(e.plantsData)[0],{type:sn,appId:c,userId:i,plantName:o}))}))}),[F]),Object(r.useEffect)((function(){var e=function(e){e.data.length>0&&e.data.forEach((function(e){var t;F((t=e.assetID,{type:en,assetID:t,parameters:e}))}))};return dn.addEventListener("message",e),function(){dn.removeEventListener("message",e),dn.terminate()}}),[F]),Object(r.useEffect)((function(){var e=[];B.diagrams.forEach((function(t){t.sections.forEach((function(t){var a,n;null===(a=t.infeeds)||void 0===a||a.forEach((function(a){""!==a.breaker.assetID&&e.push({assetID:a.breaker.assetID,breakerName:a.breaker.name,deviceName:a.tableName,deviceType:a.breaker.type,sectionName:t.name})})),null===(n=t.breakers)||void 0===n||n.forEach((function(a){e.push({assetID:a.assetID,breakerName:a.name,deviceName:a.tableName,deviceType:a.type,sectionName:t.name})})),t.coupling&&e.push({assetID:t.coupling.assetID,breakerName:t.coupling.name,deviceName:"",deviceType:t.coupling.type,sectionName:t.name})}))})),dn.postMessage({deviceData:e})}),[B.diagrams,F]),Object(r.useEffect)((function(){B.diagrams.forEach((function(e){e.sections.forEach((function(t){var a,n;null===(a=t.infeeds)||void 0===a||a.forEach((function(a){F(an("".concat(e.name,"-").concat(a.breaker.assetID),{infeedName:a.name,infeedTableName:a.tableName,infeedType:a.type,breakerName:a.breaker.name,breakerType:a.breaker.type,breakerAssetID:a.breaker.assetID,sectionName:t.name,switchboardName:e.name}))})),null===(n=t.breakers)||void 0===n||n.forEach((function(a){F(an("".concat(e.name,"-").concat(a.assetID),{breakerName:a.name,breakerType:a.type,breakerAssetID:a.assetID,breakerTableName:a.tableName,sectionName:t.name,switchboardName:e.name}))})),t.coupling&&F(an("".concat(e.name,"-").concat(t.coupling.assetID),{breakerName:t.coupling.name,breakerType:t.coupling.type,breakerAssetID:t.coupling.assetID,sectionName:t.name,switchboardName:e.name}))}))}))}),[F,B.diagrams]);return Object(G.jsx)("div",{className:i.root,children:Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(O.a,{}),Object(G.jsxs)(x.a,{variant:"permanent",className:Object(g.a)(i.drawer,(t={},Object(j.a)(t,i.drawerOpen,d),Object(j.a)(t,i.drawerClose,!d),t)),classes:{paper:Object(g.a)((a={},Object(j.a)(a,i.drawerOpen,d),Object(j.a)(a,i.drawerClose,!d),a))},children:[Object(G.jsxs)("div",{children:[Object(G.jsx)(D.a,{onClick:d?function(){m(!1)}:function(){m(!0)},className:i.expandDrawerArrow,children:d?Object(G.jsx)(L.a,{}):Object(G.jsx)(_.a,{})}),Object(G.jsx)("img",{src:"dark"===Z.palette.type?Xa:Ga,alt:"siemens logo",className:i.siemensLogo})]}),Object(G.jsx)(y.a,{}),Object(G.jsxs)(v.a,{children:[Object(G.jsxs)(k.a,{button:!0,component:u.b,to:"/",selected:"/"===I.pathname,children:[Object(G.jsx)(C.a,{children:Object(G.jsx)(E.a,{})}),Object(G.jsx)(N.a,{primary:M("drawer.overviewRouteName")})]}),Object(G.jsxs)(k.a,{button:!0,component:u.b,to:"/elevation",selected:"/elevation"===I.pathname,children:[Object(G.jsx)(C.a,{children:Object(G.jsx)(Va.a,{})}),Object(G.jsx)(N.a,{primary:M("drawer.elevationRouteName")})]}),Object(G.jsxs)(k.a,{button:!0,component:u.b,to:"/events",selected:"/events"===I.pathname,children:[Object(G.jsx)(C.a,{children:Object(G.jsx)(V.a,{})}),Object(G.jsx)(N.a,{primary:M("drawer.eventsRouteName")})]}),Object(G.jsxs)(k.a,{button:!0,component:u.b,to:"/powermonitor",selected:"/powermonitor"===I.pathname,children:[Object(G.jsx)(C.a,{children:Object(G.jsx)(Za.a,{})}),Object(G.jsx)(N.a,{primary:M("drawer.powermonitorRouteName")})]}),Object(G.jsxs)(k.a,{button:!0,component:u.b,to:"/reports",selected:"/reports"===I.pathname,children:[Object(G.jsx)(C.a,{children:Object(G.jsx)(Wa.a,{})}),Object(G.jsx)(N.a,{primary:M("drawer.reportsRouteName")})]}),Object(G.jsx)(y.a,{}),Object(G.jsxs)(k.a,{button:!0,onClick:function(){return F(za(!0))},children:[Object(G.jsx)(C.a,{children:Object(G.jsx)(A.a,{})}),Object(G.jsx)(N.a,{primary:M("drawer.languageSelectionName")})]}),Object(G.jsxs)(k.a,{button:!0,onClick:function(){n()},children:[Object(G.jsx)(C.a,{children:"dark"===Z.palette.type?Object(G.jsx)(Ya.a,{}):Object(G.jsx)(Ka.a,{})}),Object(G.jsx)(N.a,{primary:"dark"===Z.palette.type?M("drawer.toggleLightMode"):M("drawer.toggleDarkMode")})]})]})]}),Object(G.jsx)("main",{className:i.content,children:Object(G.jsx)(Ea,{})}),Object(G.jsxs)(P.a,{showLabels:!1,className:i.bottomNavi,value:w,children:[Object(G.jsx)(H.a,{className:i.bottomNaviElement,value:"/",icon:Object(G.jsx)(E.a,{}),component:u.b,to:"/"}),Object(G.jsx)(H.a,{className:i.bottomNaviElement,value:"/elevation",icon:Object(G.jsx)(Va.a,{}),component:u.b,to:"/elevation"}),Object(G.jsx)(H.a,{className:i.bottomNaviElement,value:"/events",icon:Object(G.jsx)(V.a,{}),component:u.b,to:"/events"}),Object(G.jsx)(H.a,{className:i.bottomNaviElement,value:"/powermonitor",icon:Object(G.jsx)(Za.a,{}),component:u.b,to:"/powermonitor"}),Object(G.jsx)(H.a,{className:i.bottomNaviElement,value:"/reports",icon:Object(G.jsx)(Wa.a,{}),component:u.b,to:"/reports"}),Object(G.jsx)(H.a,{className:i.bottomNaviElement,icon:Object(G.jsx)(A.a,{}),onClick:function(){return F(za(!0))}})]})]})})},bn=a(179),mn=a(114),jn=a(225),gn={order:["querystring","cookie","localStorage","navigator","htmlTag","path","subdomain"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,caches:["localStorage","cookie"],excludeCacheFor:["cimode"],htmlTag:document.documentElement,checkWhitelist:!0,checkForSimilarInWhitelist:!1,cookieOptions:{path:"/"}};bn.a.use(jn.a).use(mn.e).init({resources:{en:{translation:{drawer:{overviewRouteName:"System topology",elevationRouteName:"Elevation",eventsRouteName:"Events",powermonitorRouteName:"Load monitoring",reportsRouteName:"Reports",languageSelectionName:"Language",toggleDarkMode:"Night mode",toggleLightMode:"Day mode"},languageDialog:{label:"Choose application language",polishLanguage:"Polish",englishLanguage:"English"},eventsPage:{title:"Events",dateFromLabel:"From",dateToLabel:"To",severity:"Severity",time:"Time",event:"Event",switchboard:"Switchboard",device:"Device",allDevices:"All",refreshButton:"Refresh",startDate:"Start date",endDate:"End date"},powermonitorPage:{loadMonitoringTab:"Load monitoring",settingsTab:"Settings",energyUsage:"Energy consumption [kWh]",warningThreshold:"Warning threshold",alarmThreshold:"Alarm threshold",transformersLosses:"Transformers power loss",loadMonitorActive:"Load monitoring enabled",sendEventsActive:"Sending events enabled",sendEmailsActive:"Sending emails enabled",notificationsActive:"Notifications enabled",saveButton:"Save",resetButton:"Reset",predictedPower:"Predicted power",current15minInterval:"Current 15-min interval",tableValueColumn:"Value",tableTimeColumn:"Time",mailList:"Mail list",addAddressButton:"Add address",notifications:"Notifications",notificationsRegister:"Subscribe",notificationsDeregister:"Unsubscribe",energyUsageLabel:"Energy consumption",predictedUsageLabel:"Predicted consumption",emailAddress:"Email address",language:"Language",addEmailLabel:"Add email address",confirm:"Confirm",cancel:"Cancel",powermonitorInactive:"Powermonitor is inactive"},overviewPage:{switchboard:"Switchboard"},elevationPage:{title:"Elevation"},reportsPage:{title:"Reports",monthlyEnergyUsage:"Monthly Energy consumption",energyUsageProfile:"Energy consumption profile",powers15min:"Power demand",infeedParameters:"Infeed parameters",outgoingFeederParameters:"Outfeed parameters",chooseMonth:"Choose month",exportToPDF:"PDF Export",exportToCSV:"CSV Export",activeEnergyUsage:"Active Energy consumption",groupName:"Group name",totalValue:"Total",activeEnergyImport:"Active energy",reactiveEnergyExport:"Reactive energy export",reactiveEnergyImport:"Reactive energy import",totalActiveEnergyImport:"Total Active energy import [kWh]",totalReactiveEnergyImport:"Total Reactive energy import [kvar]",totalReactiveEnergyExport:"Total Reactive energy export [kvar]",averageActivePower15Min:"Average active power 15-min",alarmThreshold:"Alarm threshold",warningThreshold:"Warning threshold",powerExceedings:"Power exceedings",tableColumnTime:"Time",tableColumnPower:"Power [kW]",tableColumnExceeding:"Exceeding [kW]",tableColumnAlarmWarning:"Alarm/warning",alarm:"Alarm",warning:"Warning",outfeedAverageActivePower:"Outfeed average active power 15-min",othersDataTitle:"Other",transformerChoice:"Choose transformer",energyChoice:"Energy",genericParameterTitle:"Parameter",averageValue:"Average value",maxValue:"Max value",minValue:"Min value",currentParametersTitle:"Current parameters",voltageParametersTitle:"Voltage parameters",powerSupplyFrom:"Power supply from:",reactiveImportPowerFactor:"Reactive Import Power Factor",reactiveExportPowerFactor:"Reactive Export Power Factor",powerFactorChartTitle:"Power Factor characteristics",maxCurrent:"Max current",avgCurrent:"Average current",currentFlows:"Current flows",totalTHD:"Total THD",currentTHDInPhase:"Current distortion of outfeeds in",switchboardChoice:"Choose switchboard",outfeedChoice:"Choose outfeed",singleOutfeedParameters:"Parameters of",maximum:"Max",average:"Average"},datePicker:{cancelButton:"Cancel"},deviceDataDialog:{overviewTab:"Overview",currentTab:"Current",powerTab:"Power",THDITab:"THD I",voltageLNTab:"L-N Voltage",voltageLLTab:"L-L Voltage",THDUTab:"THD U",switchingDeviceStateTitle:"Switching device state",breakerClosed:"Closed",breakerOpen:"Open",breakerTripped:"Tripped",breakerDrawnOut:"Drawn out",lastTripTitle:"Last trip",noTrippingOrAcknowledged:"No tripping operation or last tripping operation acknowledged",current:"Current",power:"Power",activePower:"Active Power",reactivePower:"Reactive Power",apparentPower:"Apparent Power",powerFactor:"Power factor",voltageLL:"L-L Voltage",voltageLN:"L-N Voltage",voltageL1L2:"L1-L2 Voltage",voltageL2L3:"L2-L3 Voltage",voltageL3L1:"L3-L1 Voltage",voltageL1N:"L1-N Voltage",voltageL2N:"L2-N Voltage",voltageL3N:"L3-N Voltage",generatorReady:"Ready",generatorStopped:"Stop",generatorState:"Generator state",showChartTooltip:"Show chart",section:"Section",events:"Events",circuitBreaker:"Circuit breaker",activePowerExport:"Active power export",activePowerImport:"Active power import",reactivePowerExport:"Reactive power export",reactivePowerImport:"Reactive power import",exportTitle:"Export"},tableWithSort:{labelRowsPerPage:"Rows per page",labelDisplayedRows:"of"},chart:{timeAxisLabel:"Time",valueAxisLabel:"Value"},svgCompartment:{noConnection:"No conn."}}},pl:{translation:{drawer:{overviewRouteName:"Topologia systemu",elevationRouteName:"Elewacja",eventsRouteName:"Zdarzenia",powermonitorRouteName:"Stra\u017cnik mocy",reportsRouteName:"Raporty",languageSelectionName:"J\u0119zyk",toggleDarkMode:"Tryb nocny",toggleLightMode:"Tryb dzienny"},languageDialog:{label:"Wybierz j\u0119zyk aplikacji",polishLanguage:"Polski",englishLanguage:"Angielski"},eventsPage:{title:"Zdarzenia",dateFromLabel:"Od",dateToLabel:"Do",severity:"Wa\u017cno\u015b\u0107",time:"Czas",event:"Zdarzenie",switchboard:"Rozdzielnica",device:"Urz\u0105dzenie",allDevices:"Wszystko",refreshButton:"Od\u015bwie\u017c",startDate:"Data pocz\u0105tkowa",endDate:"Data ko\u0144cowa"},powermonitorPage:{loadMonitoringTab:"Stra\u017cnik mocy",settingsTab:"Ustawienia",energyUsage:"Zu\u017cycie energii [kWh]",warningThreshold:"Pr\xf3g ostrze\u017cenia",alarmThreshold:"Pr\xf3g alarmowy",transformersLosses:"Straty mocy na transformatorach",loadMonitorActive:"Stra\u017cnik mocy w\u0142\u0105czony",sendEventsActive:"Wysy\u0142anie zdarze\u0144 w\u0142\u0105czone",sendEmailsActive:"Wysy\u0142anie emaili w\u0142\u0105czone",notificationsActive:"Powiadomienia w\u0142\u0105czone",saveButton:"Zapisz",resetButton:"Resetuj",predictedPower:"Przewidywana moc",current15minInterval:"Aktualny okres 15-min",tableValueColumn:"Warto\u015b\u0107",tableTimeColumn:"Czas",mailList:"Lista mailowa",addAddressButton:"Dodaj adres",notifications:"Powiadomienia",notificationsRegister:"Subskrybuj",notificationsDeregister:"Wyrejestruj",energyUsageLabel:"Zu\u017cycie energii",predictedUsageLabel:"Przewidywane zu\u017cycie",emailAddress:"Adres email",language:"J\u0119zyk",addEmailLabel:"Dodaj adres email",confirm:"Potwierd\u017a",cancel:"Anuluj",powermonitorInactive:"Stra\u017cnik mocy nieaktywny"},overviewPage:{switchboard:"Rozdzielnica"},elevationPage:{title:"Elewacja"},reportsPage:{title:"Raporty",monthlyEnergyUsage:"Miesi\u0119czne zu\u017cycie energii",energyUsageProfile:"Profil zu\u017cycia energii",powers15min:"Moce 15-minutowe",infeedParameters:"Parametry zasilania",outgoingFeederParameters:"Parametry odbior\xf3w",chooseMonth:"Wybierz miesi\u0105c",exportToPDF:"Eksport PDF",exportToCSV:"Eksport CSV",activeEnergyUsage:"Zu\u017cycie energii czynnej",groupName:"Nazwa grupy",totalValue:"Razem",activeEnergyImport:"Energia czynna",reactiveEnergyExport:"Energia bierna pojemno\u015bciowa",reactiveEnergyImport:"Energia bierna indukcyjna",totalActiveEnergyImport:"Ca\u0142o\u015bciowe zu\u017cycie energii czynnej [kWh]",totalReactiveEnergyImport:"Ca\u0142o\u015bciowe zu\u017cycie energii biernej indukcyjnej [kvar]",totalReactiveEnergyExport:"Ca\u0142o\u015bciowe oddanie energii biernej pojemno\u015bciowej [kvar]",averageActivePower15Min:"Przebieg \u015bredniej mocy 15-minutowej",alarmThreshold:"Granica alarmu",warningThreshold:"Granica ostrze\u017cenia",powerExceedings:"Przekroczenia mocy",tableColumnTime:"Czas",tableColumnPower:"Moc [kW]",tableColumnExceeding:"Przekroczenie [kW]",tableColumnAlarmWarning:"Alarm/ostrze\u017cenie",alarm:"Alarm",warning:"Ostrze\u017cenie",outfeedAverageActivePower:"Przebieg \u015bredniej mocy 15-minutowej odbior\xf3w",othersDataTitle:"Pozosta\u0142e",transformerChoice:"Wybierz transformator",energyChoice:"Energia",genericParameterTitle:"Parametr",averageValue:"Warto\u015b\u0107 \u015brednia",maxValue:"Warto\u015b\u0107 maksymalna",minValue:"Warto\u015b\u0107 minimalna",currentParametersTitle:"Parametry pr\u0105du",voltageParametersTitle:"Parametry napi\u0119cia",powerSupplyFrom:"Zasilanie z:",reactiveImportPowerFactor:"Wsp\xf3\u0142czynnik mocy biernej indukcyjnej",reactiveExportPowerFactor:"Wsp\xf3\u0142czynnik mocy biernej pojemno\u015bciowej",powerFactorChartTitle:"Przebieg wsp\xf3\u0142czynnika mocy",maxCurrent:"Pr\u0105d maksymalny",avgCurrent:"Pr\u0105d \u015bredni",currentFlows:"Przep\u0142yw pr\u0105d\xf3w",totalTHD:"Ca\u0142kowite odkszta\u0142cenia zasilania",currentTHDInPhase:"Odkszta\u0142cenie pr\u0105du odbior\xf3w w fazie",switchboardChoice:"Wybierz rozdzielnic\u0119",outfeedChoice:"Wybierz odbi\xf3r",singleOutfeedParameters:"Parametry odbioru",maximum:"Maks.",average:"\u015arednie"},datePicker:{cancelButton:"Anuluj"},deviceDataDialog:{overviewTab:"Przegl\u0105d",currentTab:"Pr\u0105d",powerTab:"Moc",THDITab:"THD I",voltageLNTab:"Napi\u0119cie L-N",voltageLLTab:"Napi\u0119cie L-L",THDUTab:"THD U",switchingDeviceStateTitle:"Stan wy\u0142\u0105cznika",breakerClosed:"Za\u0142\u0105czony",breakerOpen:"Wy\u0142\u0105czony",breakerTripped:"Wyzwolony",breakerDrawnOut:"Wysuni\u0119ty",lastTripTitle:"Ostatnie wyzwolenie",noTrippingOrAcknowledged:"Brak operacji wyzwolenia lub ostatnie wyzwolenie potwierdzone",current:"Pr\u0105d",power:"Moc",activePower:"Moc czynna",reactivePower:"Moc bierna",apparentPower:"Moc pozorna",powerFactor:"Wsp\xf3\u0142czynnik mocy",voltageLL:"Napi\u0119cie L-L",voltageLN:"Napi\u0119cie L-N",voltageL1L2:"Napi\u0119cie L1-L2",voltageL2L3:"Napi\u0119cie L2-L3",voltageL3L1:"Napi\u0119cie L3-L1",voltageL1N:"Napi\u0119cie L1-N",voltageL2N:"Napi\u0119cie L2-N",voltageL3N:"Napi\u0119cie L3-N",generatorReady:"Gotowy",generatorStopped:"Stop",generatorState:"Stan generatora",showChartTooltip:"Poka\u017c wykres",section:"Sekcja",events:"Zdarzenia",circuitBreaker:"Wy\u0142\u0105cznik",activePowerExport:"Moc czynna oddana do sieci",activePowerImport:"Moc czynna pobrana z sieci",reactivePowerExport:"Moc bierna pojemno\u015bciowa",reactivePowerImport:"Moc bierna indukcyjna",exportTitle:"Eksportuj"},tableWithSort:{labelRowsPerPage:"Wierszy na stron\u0119",labelDisplayedRows:"z"},chart:{timeAxisLabel:"Czas",valueAxisLabel:"Warto\u015b\u0107"},svgCompartment:{noConnection:"Brak po\u0142."}}}},detection:gn,fallbackLng:"en",keySeparator:".",interpolation:{escapeValue:!1}});bn.a;var pn={},hn={open:!1},fn={open:!1,deviceName:"",deviceType:"",breakerName:"",sectionName:"",assetID:"",switchboardAssetID:"",dateFrom:new Date},xn={open:!1},vn={switchboards:[]},On={diagrams:[]},yn={},Dn={},wn={},Ln={groups:[]},Tn={assets:{},dateFrom:Object(xa.a)(new Date).toISOString(),dateTo:Object(xa.a)(Object(va.a)(new Date,{months:1})).toISOString()},_n={infeeds:void 0,outfeeds:void 0,warningThreshold:void 0,alarmThreshold:void 0,transformerLosses:void 0},kn={appId:"",userId:"",plantName:""},Cn={appId:"",plantId:"",sampleTime:0,serviceType:"",enabled:!1,tenant:"",assetIds:[],powerLosses:0,alertLimit:0,warningLimit:0,mailingList:[],interval:0,id:""},Nn=Object(m.b)({universalTabs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(se.a)(Object(se.a)({},e),{},Object(j.a)({},t.name,t.index));default:return e}},languageDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ua:return Object(se.a)(Object(se.a)({},e),{},{open:t.open});default:return e}},deviceDataDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(se.a)(Object(se.a)({},e),{},{open:t.open,deviceName:t.deviceName,deviceType:t.deviceType,breakerName:t.breakerName,sectionName:t.sectionName,assetID:t.assetID,switchboardAssetID:t.switchboardAssetID});case W:return Object(se.a)(Object(se.a)({},e),{},{dateFrom:t.dateFrom});default:return e}},deviceDataDialogElevationDataSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tn:return Object(se.a)(Object(se.a)({},e),{},Object(j.a)({},t.assetID,Object(se.a)(Object(se.a)({},e[t.assetID]),t.parameters)));default:return e}},backdrop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ut:return Object(se.a)(Object(se.a)({},e),{},{open:t.open});default:return e}},elevation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rn:return Object(se.a)(Object(se.a)({},e),{},{switchboards:t.elevation});default:return e}},overview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nn:return Object(se.a)(Object(se.a)({},e),{},{diagrams:t.diagrams});default:return e}},systemTopologyData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case en:return Object(se.a)(Object(se.a)({},e),{},Object(j.a)({},t.assetID,Object(se.a)(Object(se.a)({},e[t.assetID]),t.parameters)));default:return e}},events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ft:return Object(se.a)(Object(se.a)({},e),{},Object(j.a)({},t.switchboardName,t.events));default:return e}},reports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cn:return Object(se.a)(Object(se.a)({},e),{},{groups:t.reportsStructure});default:return e}},commonReports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pa:return Object(se.a)(Object(se.a)({},e),{},{assets:Object(se.a)({},t.assetData)});case ha:return Object(se.a)(Object(se.a)({},e),{},{dateFrom:t.dateFrom,dateTo:t.dateTo});default:return e}},powerDemandTab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case on:return Object(se.a)(Object(se.a)({},e),t.powerDemandStructure);default:return e}},userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case sn:return Object(se.a)(Object(se.a)({},e),{},{appId:t.appId,userId:t.userId,plantName:t.plantName});default:return e}},powermonitor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lt:return Object(se.a)(Object(se.a)({},e),{},{appId:t.config.appId,plantId:t.config.plantId,sampleTime:t.config.sampleTime,serviceType:t.config.serviceType,enabled:t.config.enabled,tenant:t.config.tenant,assetIds:t.config.assetIds,powerLosses:t.config.powerLosses,alertLimit:t.config.alertLimit,warningLimit:t.config.warningLimit,mailingList:t.config.mailingList,interval:t.config.interval,id:t.config.id});default:return e}}}),In=a(834),An=a(821),Sn=a(144),Pn=Object(p.a)({avatar:{backgroundColor:Sn.a[100],color:Sn.a[600]},title:{textAlign:"center"}}),Hn=function(){var e=Pn(),t=Object(R.a)(),a=t.t,n=t.i18n,r=Object(b.c)((function(e){return e.languageDialog.open})),c=Object(b.b)(),i=function(e){c(za(!1)),n.changeLanguage(e)};return Object(G.jsxs)(Qe.a,{onClose:function(){return c(za(!1))},"aria-labelledby":"simple-dialog-title",open:r,fullWidth:!0,maxWidth:"sm",children:[Object(G.jsx)(at.a,{className:e.title,id:"simple-dialog-title",children:a("languageDialog.label")}),Object(G.jsxs)(v.a,{children:[Object(G.jsxs)(k.a,{button:!0,onClick:function(){return i("pl")},children:[Object(G.jsx)(An.a,{children:Object(G.jsx)(In.a,{className:e.avatar,children:"PL"})}),Object(G.jsx)(N.a,{primary:a("languageDialog.polishLanguage")})]}),Object(G.jsxs)(k.a,{button:!0,onClick:function(){return i("en")},children:[Object(G.jsx)(An.a,{children:Object(G.jsx)(In.a,{className:e.avatar,children:"EN"})}),Object(G.jsx)(N.a,{primary:a("languageDialog.englishLanguage")})]})]})]})},Mn=a(252),En=a(813),Fn=Object(p.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Vn=function(){var e=Fn(),t=Object(b.c)((function(e){return e.backdrop.open}));return Object(G.jsx)(Mn.a,{className:e.backdrop,open:t,children:Object(G.jsx)(En.a,{color:"inherit"})})},Rn=a(812),Zn=a(227),Bn=a.n(Zn),Wn=a(746),Un=Object(p.a)((function(e){return Object(h.a)({timePickersContainer:{marginTop:e.spacing(2),paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})})),zn=function(){var e=Un(),t=Object(R.a)().t,a=c.a.useState([{x:0,y:0}]),n=Object(s.a)(a,2),i=n[0],o=n[1],l=c.a.useState([{x:0,y:0}]),d=Object(s.a)(l,2),u=d[0],m=d[1],j=c.a.useState([{x:0,y:0}]),g=Object(s.a)(j,2),p=g[0],h=g[1],f=Object(b.c)((function(e){return e.deviceDataDialog.assetID})),x=Object(b.c)((function(e){return e.deviceDataDialog.dateFrom})),v=Object(b.b)();return Object(r.useEffect)((function(){x&&Ia(f,1,new Date(new Date(x.setHours(0,0,0,0))).toISOString(),new Date(new Date(x.setHours(23,59,59,999))).toISOString(),"Current_L1,Current_L2,Current_L3").then((function(e){var t=[],a=[],n=[];e.forEach((function(e){t.push({x:new Date(e._time).valueOf(),y:e.Current_L1}),a.push({x:new Date(e._time).valueOf(),y:e.Current_L2}),n.push({x:new Date(e._time).valueOf(),y:e.Current_L3})})),o(t),m(a),h(n)}))}),[x,f]),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{container:!0,spacing:2,children:Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:[{label:"".concat(t("deviceDataDialog.current")," L1 [A]"),backgroundColor:ie(0),borderColor:ie(0),fill:!1,lineTension:0,data:i,pointRadius:0},{label:"".concat(t("deviceDataDialog.current")," L2 [A]"),backgroundColor:ie(1),borderColor:ie(1),fill:!1,lineTension:0,data:u,pointRadius:0},{label:"".concat(t("deviceDataDialog.current")," L3 [A]"),backgroundColor:ie(2),borderColor:ie(2),fill:!1,lineTension:0,data:p,pointRadius:0}]}})})}),Object(G.jsx)(Z.a,{container:!0,spacing:2,className:e.timePickersContainer,children:Object(G.jsx)(Z.a,{item:!0,xs:12,md:6,children:Object(G.jsx)(ht.a,{variant:"static",autoOk:!0,label:t("eventsPage.dateFromLabel"),value:x,onChange:function(e){return v(z(e))},fullWidth:!0,disableFuture:!0})})})]})},Gn=a(94),Xn=a.n(Gn),Jn=a(838),Kn=function(e){var t=e.x,a=e.y,n=e.closed,r=e.name,i=e.sectionName,o=e.outgoingFeederName,s=e.bottomSection,l=e.topSection,d=ve();return Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("line",{x1:t,y1:a,x2:t,y2:a+fe,className:d.lineStyle}),Object(G.jsx)("line",{x1:t,y1:a+.75*fe,x2:t,y2:a+1.25*fe,className:d.lineStyle,transform:"rotate(45 ".concat(t," ").concat(a+fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+.75*fe,x2:t,y2:a+1.25*fe,className:d.lineStyle,transform:"rotate(-45 ".concat(t," ").concat(a+fe,")")}),Object(G.jsx)("line",{x1:t,y1:a+fe,x2:t,y2:a+2*fe,transform:!1===n?"rotate(-45 ".concat(t," ").concat(a+2*fe,")"):"rotate(0 ".concat(t," ").concat(a+2*fe,")"),className:d.lineStyle}),Object(G.jsx)("line",{x1:t,y1:a+2*fe,x2:t,y2:a+3*fe,className:d.lineStyle}),l?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("text",{x:t,y:a-1,className:d.overviewTabSVGTextsCentralAnchor,children:i}),Object(G.jsx)("line",{x1:t-fe,y1:a,x2:t+fe,y2:a,className:d.lineStyle}),Object(G.jsx)("text",{x:t,y:a+3.2*fe,className:d.overviewTabSVGTextsCentralAnchor,children:o})]}):null,s?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("text",{x:t,y:a-1,className:d.overviewTabSVGTextsCentralAnchor,children:o}),Object(G.jsx)("text",{x:t,y:a+3.2*fe,className:d.overviewTabSVGTextsCentralAnchor,children:i}),Object(G.jsx)("line",{x1:t-fe,y1:a+3*fe,x2:t+fe,y2:a+3*fe,className:d.lineStyle})]}):null,Object(G.jsxs)("text",{x:t,y:a+1.5*fe,className:d.overviewTabSVGTextsCentralLeftAnchor,children:["\xa0\xa0",r]})]})},qn=function(e){var t=e.x,a=e.y,n=e.name,r=e.voltageApplied,i=ve();return Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("line",{x1:t,y1:a,x2:t,y2:a+.5*fe,className:r?i.lineStyleVoltageApplied:i.lineStyle}),Object(G.jsx)("circle",{cx:t,cy:a+.5*fe+xe,r:xe,className:r?i.circleStyleVoltageApplied:i.circleStyle}),Object(G.jsx)("circle",{cx:t,cy:a+.5*fe+2*xe,r:xe,className:r?i.circleStyleVoltageApplied:i.circleStyle}),Object(G.jsxs)("text",{x:t,y:a,className:i.overviewTabSVGTextsCentralLeftAnchor,children:["\xa0\xa0",n]})]})},Yn=function(e){var t=e.x,a=e.y,n=e.name,r=e.voltageApplied,i=ve();return Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)("circle",{cx:t,cy:a+xe,r:xe,className:r?i.circleStyleVoltageApplied:i.circleStyle}),Object(G.jsx)("text",{x:t,y:a+xe,className:i.generatorSymbolTextStyle,children:"G"}),Object(G.jsxs)("text",{x:t+xe,y:a,className:i.overviewTabSVGTextsCentralLeftAnchor,children:["\xa0\xa0",n]})]})},$n=Object(p.a)((function(e){var t;return Object(h.a)({masonryLayout:(t={columnGap:10,webkitColumnGap:10,width:"100%"},Object(j.a)(t,"".concat(e.breakpoints.down("xl")),{columnCount:3,webkitColumnCount:3}),Object(j.a)(t,"".concat(e.breakpoints.down("lg")),{columnCount:2,webkitColumnCount:2}),Object(j.a)(t,"".concat(e.breakpoints.down("md")),{columnCount:1,webkitColumnCount:1}),t),masonryLayoutPanel:{breakInside:"avoid",WebkitColumnBreakInside:"avoid",padding:"5px"},overviewTabSVGMaxHeight:{maxHeight:"600px",boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%), 0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%)"},warning:{color:"orange"},info:{color:"#2196f3"},error:{color:"red"}})})),Qn=function(){var e,t,a,i,o,s,l,d,u,m,j,g,p,h,f,x,v,O,y,w=$n(),L=Object(R.a)(),T=L.t,_=L.i18n,k=Object(b.c)((function(e){return e.deviceDataDialog.deviceType})),C=Object(b.c)((function(e){return e.deviceDataDialog.deviceName})),N=Object(b.c)((function(e){return e.deviceDataDialog.breakerName})),I=Object(b.c)((function(e){return e.deviceDataDialog.sectionName})),A=Object(b.c)((function(e){return e.deviceDataDialog.assetID})),S=Object(b.c)((function(e){return e.deviceDataDialog.switchboardAssetID})),P=Object(b.c)((function(e){return e.systemTopologyData})),H=Object(b.c)((function(e){return e.events})),M=Object(b.b)(),E=function(e){switch(e){case 20:return Object(G.jsx)(It.a,{className:w.error});case 30:return Object(G.jsx)(_t.a,{className:w.warning});case 40:default:return Object(G.jsx)(Ct.a,{className:w.info})}};Object(r.useEffect)((function(){H[S]||(M(bt(!0)),Pt(S,new Date((new Date).setMonth((new Date).getMonth()-1)).toISOString(),(new Date).toISOString()).then((function(e){e._embedded&&e._embedded.events&&S?(M(xt(S,e._embedded.events)),M(bt(!1))):(M(xt(S,[])),M(bt(!1)))})).catch((function(e){console.log(e),M(bt(!1))})))}),[M,H,S]);var F=Object(G.jsx)("div",{className:w.masonryLayoutPanel,children:Object(G.jsx)(Lt,{defaultOrderColumnIndex:2,columns:[T("eventsPage.severity"),T("eventsPage.event"),T("eventsPage.time")],rows:H[S]?H[S].filter((function(e){return e.source===A})).map((function(e){return[E(e.severity),"pl"===_.language?JSON.parse(e.description).pl:JSON.parse(e.description).en,new Date(Date.parse(e.timestamp))]})):[[]]})}),V=Object(G.jsx)("div",{className:w.masonryLayoutPanel,children:Object(G.jsx)(Ce,{columns:[T("deviceDataDialog.current"),Object(G.jsx)(Jn.a,{title:T("deviceDataDialog.showChartTooltip"),placement:"left",children:Object(G.jsx)(D.a,{"aria-label":"delete",size:"small",onClick:function(){return M(ne("TransformerDeviceDetails",3))},children:Object(G.jsx)(Xn.a,{})})})],rows:[["".concat(T("deviceDataDialog.current")," L1"),"".concat((null===(e=P[A])||void 0===e?void 0:e.Current_L1)||0," A")],["".concat(T("deviceDataDialog.current")," L2"),"".concat((null===(t=P[A])||void 0===t?void 0:t.Current_L2)||0," A")],["".concat(T("deviceDataDialog.current")," L3"),"".concat((null===(a=P[A])||void 0===a?void 0:a.Current_L3)||0," A")]],small:!0})}),B=Object(G.jsx)("div",{className:w.masonryLayoutPanel,children:Object(G.jsx)(Ce,{columns:[T("deviceDataDialog.power"),Object(G.jsx)(Jn.a,{title:T("deviceDataDialog.showChartTooltip"),placement:"left",children:Object(G.jsx)(D.a,{"aria-label":"delete",size:"small",onClick:function(){return M(ne("TransformerDeviceDetails",4))},children:Object(G.jsx)(Xn.a,{})})})],rows:[[T("deviceDataDialog.activePowerImport"),"".concat((null===(i=P[A])||void 0===i?void 0:i.Active_Power_Import)||0," kW")],[T("deviceDataDialog.activePowerExport"),"".concat((null===(o=P[A])||void 0===o?void 0:o.Active_Power_Export)||0," kW")],[T("deviceDataDialog.reactivePowerImport"),"".concat((null===(s=P[A])||void 0===s?void 0:s.Reactive_Power_Import)||0," kvar")],[T("deviceDataDialog.reactivePowerExport"),"".concat((null===(l=P[A])||void 0===l?void 0:l.Reactive_Power_Import)||0," kvar")],[T("deviceDataDialog.powerFactor"),"".concat(P[A]?he(P[A].Active_Power_Import,P[A].Reactive_Power_Import):0," PF")]],small:!0})}),W=Object(G.jsx)("div",{className:w.masonryLayoutPanel,children:Object(G.jsx)(Ce,{columns:["THD I",Object(G.jsx)(Jn.a,{title:T("deviceDataDialog.showChartTooltip"),placement:"left",children:Object(G.jsx)(D.a,{"aria-label":"delete",size:"small",onClick:function(){return M(ne("TransformerDeviceDetails",6))},children:Object(G.jsx)(Xn.a,{})})})],rows:[["THD I L1","".concat((null===(d=P[A])||void 0===d?void 0:d.THD_I_L1)||0," %")],["THD I L2","".concat((null===(u=P[A])||void 0===u?void 0:u.THD_I_L2)||0," %")],["THD I L3","".concat((null===(m=P[A])||void 0===m?void 0:m.THD_I_L3)||0," %")]],small:!0})}),U=Object(G.jsx)("div",{className:w.masonryLayoutPanel,children:Object(G.jsx)(Ce,{columns:["THD U",Object(G.jsx)(Jn.a,{title:T("deviceDataDialog.showChartTooltip"),placement:"left",children:Object(G.jsx)(D.a,{"aria-label":"delete",size:"small",onClick:function(){return M(ne("TransformerDeviceDetails",5))},children:Object(G.jsx)(Xn.a,{})})})],rows:[["THD U L1","".concat((null===(j=P[A])||void 0===j?void 0:j.THD_U_L1)||0," %")],["THD U L2","".concat((null===(g=P[A])||void 0===g?void 0:g.THD_U_L2)||0," %")],["THD U L3","".concat((null===(p=P[A])||void 0===p?void 0:p.THD_U_L3)||0," %")]],small:!0})}),z=Object(G.jsx)("div",{className:w.masonryLayoutPanel,children:Object(G.jsx)(Ce,{columns:[T("deviceDataDialog.voltageLL"),Object(G.jsx)(Jn.a,{title:T("deviceDataDialog.showChartTooltip"),placement:"left",children:Object(G.jsx)(D.a,{"aria-label":"delete",size:"small",onClick:function(){return M(ne("TransformerDeviceDetails",2))},children:Object(G.jsx)(Xn.a,{})})})],rows:[[T("deviceDataDialog.voltageL1L2"),"".concat((null===(h=P[A])||void 0===h?void 0:h.Voltage_L1_L2)||0," V")],[T("deviceDataDialog.voltageL2L3"),"".concat((null===(f=P[A])||void 0===f?void 0:f.Voltage_L2_L3)||0," V")],[T("deviceDataDialog.voltageL3L1"),"".concat((null===(x=P[A])||void 0===x?void 0:x.Voltage_L3_L1)||0," V")]],small:!0})}),X=Object(G.jsx)("div",{className:w.masonryLayoutPanel,children:Object(G.jsx)(Ce,{columns:[T("deviceDataDialog.voltageLN"),Object(G.jsx)(Jn.a,{title:T("deviceDataDialog.showChartTooltip"),placement:"left",children:Object(G.jsx)(D.a,{"aria-label":"delete",size:"small",onClick:function(){return M(ne("TransformerDeviceDetails",1))},children:Object(G.jsx)(Xn.a,{})})})],rows:[[T("deviceDataDialog.voltageL1N"),"".concat((null===(v=P[A])||void 0===v?void 0:v.Voltage_L1_N)||0," V")],[T("deviceDataDialog.voltageL2N"),"".concat((null===(O=P[A])||void 0===O?void 0:O.Voltage_L2_N)||0," V")],[T("deviceDataDialog.voltageL3N"),"".concat((null===(y=P[A])||void 0===y?void 0:y.Voltage_L3_N)||0," V")]],small:!0})});return Object(G.jsxs)(Z.a,{container:!0,justify:"center",alignItems:"flex-start",spacing:2,children:[Object(G.jsxs)(Z.a,{container:!0,spacing:1,item:!0,xs:12,sm:12,md:4,children:[Object(G.jsx)(Z.a,{item:!0,xs:12,children:function(){var e,t,a,r,c;switch(k){case n.circuitBreaker:return Object(G.jsx)("svg",{width:"100%",viewBox:"0 -2 16 24",className:w.overviewTabSVGMaxHeight,children:Object(G.jsx)(Kn,{x:8,y:0,closed:pe((null===(e=P[A])||void 0===e?void 0:e.Breaker_State)||0).closed,sectionName:I,outgoingFeederName:C,name:N,topSection:!0})});case n.transformer:return Object(G.jsxs)("svg",{width:"100%",viewBox:"0 -2 16 36",className:w.overviewTabSVGMaxHeight,children:[Object(G.jsx)(qn,{x:8,y:0,name:C}),Object(G.jsx)(Kn,{x:8,y:12,closed:pe((null===(t=P[A])||void 0===t?void 0:t.Breaker_State)||0).closed,name:N,sectionName:I,bottomSection:!0})]});case n.generator:return Object(G.jsxs)("svg",{width:"100%",viewBox:"0 -2 16 32",className:w.overviewTabSVGMaxHeight,children:[Object(G.jsx)(Yn,{x:8,y:0,name:C}),Object(G.jsx)(Kn,{x:8,y:6,closed:pe((null===(a=P[A])||void 0===a?void 0:a.Breaker_State)||0).closed,name:N,sectionName:I,bottomSection:!0})]});case n.infeedBreaker:return Object(G.jsx)("svg",{width:"100%",viewBox:"0 -2 16 24",className:w.overviewTabSVGMaxHeight,children:Object(G.jsx)(Kn,{x:8,y:0,closed:pe((null===(r=P[A])||void 0===r?void 0:r.Breaker_State)||0).closed,sectionName:I,outgoingFeederName:C,name:N,bottomSection:!0})});case n.couplingBreaker:return Object(G.jsx)("svg",{width:"100%",viewBox:"0 -2 16 24",className:w.overviewTabSVGMaxHeight,children:Object(G.jsx)(Kn,{x:8,y:0,closed:pe((null===(c=P[A])||void 0===c?void 0:c.Breaker_State)||0).closed,sectionName:"",outgoingFeederName:"",name:N,topSection:!0,bottomSection:!0})});default:return null}}()}),H[S]?Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(He.a,{variant:"h5",children:T("deviceDataDialog.events")})}),Object(G.jsx)(Z.a,{item:!0,xs:12,children:F})]}):null]}),Object(G.jsxs)(Z.a,{container:!0,spacing:1,item:!0,xs:12,sm:12,md:8,children:[function(){var e,t=pe((null===(e=P[A])||void 0===e?void 0:e.Breaker_State)||0);return t.drawnOut?Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsxs)(Me.a,{severity:"error",children:[Object(G.jsx)(Ee.a,{children:T("deviceDataDialog.breakerDrawnOut")}),T("deviceDataDialog.switchingDeviceStateTitle")]})}):t.tripped?Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsxs)(Me.a,{severity:"error",children:[Object(G.jsx)(Ee.a,{children:T("deviceDataDialog.breakerTripped")}),T("deviceDataDialog.switchingDeviceStateTitle")]})}):t.closed?Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsxs)(Me.a,{severity:"success",children:[Object(G.jsx)(Ee.a,{children:T("deviceDataDialog.breakerClosed")}),T("deviceDataDialog.switchingDeviceStateTitle")]})}):Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsxs)(Me.a,{severity:"warning",children:[Object(G.jsx)(Ee.a,{children:T("deviceDataDialog.breakerOpen")}),T("deviceDataDialog.switchingDeviceStateTitle")]})})}(),Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsxs)("div",{className:w.masonryLayout,children:[V,B,W,k===n.transformer||k===n.generator?U:null,k===n.transformer||k===n.generator?z:null,k===n.transformer||k===n.generator?X:null]})})]})]})},er=Object(p.a)((function(e){return Object(h.a)({timePickersContainer:{marginTop:e.spacing(2),paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})})),tr=function(){var e=er(),t=Object(R.a)().t,a=c.a.useState([{x:0,y:0}]),n=Object(s.a)(a,2),i=n[0],o=n[1],l=c.a.useState([{x:0,y:0}]),d=Object(s.a)(l,2),u=d[0],m=d[1],j=c.a.useState([{x:0,y:0}]),g=Object(s.a)(j,2),p=g[0],h=g[1],f=c.a.useState([{x:0,y:0}]),x=Object(s.a)(f,2),v=x[0],O=x[1],y=Object(b.c)((function(e){return e.deviceDataDialog.assetID})),D=Object(b.c)((function(e){return e.deviceDataDialog.dateFrom})),w=Object(b.b)();return Object(r.useEffect)((function(){D&&Ia(y,15,new Date(new Date(D.setHours(0,0,0,0))).toISOString(),new Date(new Date(D.setHours(23,59,59,999))).toISOString(),"Active_Power_Export,Active_Power_Import,Reactive_Power_Export,Reactive_Power_Import").then((function(e){var t=[],a=[],n=[],r=[];e.forEach((function(e){t.push({x:new Date(e._time).valueOf(),y:e.Active_Power_Export}),a.push({x:new Date(e._time).valueOf(),y:e.Reactive_Power_Export}),n.push({x:new Date(e._time).valueOf(),y:e.Active_Power_Import}),r.push({x:new Date(e._time).valueOf(),y:e.Reactive_Power_Import})})),o(t),m(a),h(n),O(r)}))}),[D,y]),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{container:!0,spacing:2,children:Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:[{label:"".concat(t("deviceDataDialog.activePowerExport")," [kW]"),backgroundColor:ie(0),borderColor:ie(0),fill:!1,lineTension:0,data:i,pointRadius:0},{label:"".concat(t("deviceDataDialog.activePowerImport")," [kW]"),backgroundColor:ie(1),borderColor:ie(1),fill:!1,lineTension:0,data:p,pointRadius:0},{label:"".concat(t("deviceDataDialog.reactivePowerExport")," [kvar]"),backgroundColor:ie(2),borderColor:ie(2),fill:!1,lineTension:0,data:u,pointRadius:0},{label:"".concat(t("deviceDataDialog.reactivePowerImport")," [kvar]"),backgroundColor:ie(3),borderColor:ie(3),fill:!1,lineTension:0,data:v,pointRadius:0}]}})})}),Object(G.jsx)(Z.a,{container:!0,spacing:2,className:e.timePickersContainer,children:Object(G.jsx)(Z.a,{item:!0,xs:12,md:6,children:Object(G.jsx)(ht.a,{variant:"static",autoOk:!0,label:t("eventsPage.dateFromLabel"),value:D,onChange:function(e){return w(z(e))},fullWidth:!0,disableFuture:!0})})})]})},ar=Object(p.a)((function(e){return Object(h.a)({timePickersContainer:{marginTop:e.spacing(2),paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})})),nr=function(){var e=ar(),t=Object(R.a)().t,a=c.a.useState([{x:0,y:0}]),n=Object(s.a)(a,2),i=n[0],o=n[1],l=c.a.useState([{x:0,y:0}]),d=Object(s.a)(l,2),u=d[0],m=d[1],j=c.a.useState([{x:0,y:0}]),g=Object(s.a)(j,2),p=g[0],h=g[1],f=Object(b.c)((function(e){return e.deviceDataDialog.assetID})),x=Object(b.c)((function(e){return e.deviceDataDialog.dateFrom})),v=Object(b.b)();return Object(r.useEffect)((function(){x&&Ia(f,1,new Date(new Date(x.setHours(0,0,0,0))).toISOString(),new Date(new Date(x.setHours(23,59,59,999))).toISOString(),"THD_I_L1,THD_I_L2,THD_I_L3").then((function(e){var t=[],a=[],n=[];e.forEach((function(e){t.push({x:new Date(e._time).valueOf(),y:e.THD_I_L1}),a.push({x:new Date(e._time).valueOf(),y:e.THD_I_L2}),n.push({x:new Date(e._time).valueOf(),y:e.THD_I_L3})})),o(t),m(a),h(n)}))}),[x,f]),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{container:!0,spacing:2,children:Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:[{label:"THD I L1 [%]",backgroundColor:ie(0),borderColor:ie(0),fill:!1,lineTension:0,data:i,pointRadius:0},{label:"THD I L2 [%]",backgroundColor:ie(1),borderColor:ie(1),fill:!1,lineTension:0,data:u,pointRadius:0},{label:"THD I L3 [%]",backgroundColor:ie(2),borderColor:ie(2),fill:!1,lineTension:0,data:p,pointRadius:0}]}})})}),Object(G.jsx)(Z.a,{container:!0,spacing:2,className:e.timePickersContainer,children:Object(G.jsx)(Z.a,{item:!0,xs:12,md:6,children:Object(G.jsx)(ht.a,{variant:"static",autoOk:!0,label:t("eventsPage.dateFromLabel"),value:x,onChange:function(e){return v(z(e))},fullWidth:!0,disableFuture:!0})})})]})},rr=function(){var e=Object(R.a)().t;return Object(G.jsx)(ge,{name:"BreakerDeviceDetails",tabs:[{label:e("deviceDataDialog.overviewTab"),content:Object(G.jsx)(Qn,{})},{label:e("deviceDataDialog.currentTab"),content:Object(G.jsx)(zn,{})},{label:e("deviceDataDialog.powerTab"),content:Object(G.jsx)(tr,{})},{label:e("deviceDataDialog.THDITab"),content:Object(G.jsx)(nr,{})}]})},cr=Object(p.a)((function(e){return Object(h.a)({timePickersContainer:{marginTop:e.spacing(2),paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})})),ir=function(){var e=cr(),t=Object(R.a)().t,a=c.a.useState([{x:0,y:0}]),n=Object(s.a)(a,2),i=n[0],o=n[1],l=c.a.useState([{x:0,y:0}]),d=Object(s.a)(l,2),u=d[0],m=d[1],j=c.a.useState([{x:0,y:0}]),g=Object(s.a)(j,2),p=g[0],h=g[1],f=Object(b.c)((function(e){return e.deviceDataDialog.assetID})),x=Object(b.c)((function(e){return e.deviceDataDialog.dateFrom})),v=Object(b.b)();return Object(r.useEffect)((function(){x&&Ia(f,1,new Date(new Date(x.setHours(0,0,0,0))).toISOString(),new Date(new Date(x.setHours(23,59,59,999))).toISOString(),"THD_U_L1,THD_U_L2,THD_U_L3").then((function(e){var t=[],a=[],n=[];e.forEach((function(e){t.push({x:new Date(e._time).valueOf(),y:e.THD_U_L1}),a.push({x:new Date(e._time).valueOf(),y:e.THD_U_L2}),n.push({x:new Date(e._time).valueOf(),y:e.THD_U_L3})})),o(t),m(a),h(n)}))}),[x,f]),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{container:!0,spacing:2,children:Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:[{label:"THD U L1 [%]",backgroundColor:ie(0),borderColor:ie(0),fill:!1,lineTension:0,data:i,pointRadius:0},{label:"THD U L2 [%]",backgroundColor:ie(1),borderColor:ie(1),fill:!1,lineTension:0,data:u,pointRadius:0},{label:"THD U L3 [%]",backgroundColor:ie(2),borderColor:ie(2),fill:!1,lineTension:0,data:p,pointRadius:0}]}})})}),Object(G.jsx)(Z.a,{container:!0,spacing:2,className:e.timePickersContainer,children:Object(G.jsx)(Z.a,{item:!0,xs:12,md:6,children:Object(G.jsx)(ht.a,{variant:"static",autoOk:!0,label:t("eventsPage.dateFromLabel"),value:x,onChange:function(e){return v(z(e))},fullWidth:!0,disableFuture:!0})})})]})},or=Object(p.a)((function(e){return Object(h.a)({timePickersContainer:{marginTop:e.spacing(2),paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})})),sr=function(){var e=or(),t=Object(R.a)().t,a=c.a.useState([{x:0,y:0}]),n=Object(s.a)(a,2),i=n[0],o=n[1],l=c.a.useState([{x:0,y:0}]),d=Object(s.a)(l,2),u=d[0],m=d[1],j=c.a.useState([{x:0,y:0}]),g=Object(s.a)(j,2),p=g[0],h=g[1],f=Object(b.c)((function(e){return e.deviceDataDialog.assetID})),x=Object(b.c)((function(e){return e.deviceDataDialog.dateFrom})),v=Object(b.b)();return Object(r.useEffect)((function(){x&&Ia(f,1,new Date(new Date(x.setHours(0,0,0,0))).toISOString(),new Date(new Date(x.setHours(23,59,59,999))).toISOString(),"Voltage_L1_N,Voltage_L2_N,Voltage_L3_N").then((function(e){var t=[],a=[],n=[];e.forEach((function(e){t.push({x:new Date(e._time).valueOf(),y:e.Voltage_L1_N}),a.push({x:new Date(e._time).valueOf(),y:e.Voltage_L2_N}),n.push({x:new Date(e._time).valueOf(),y:e.Voltage_L3_N})})),o(t),m(a),h(n)}))}),[x,f]),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{container:!0,spacing:2,children:Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:[{label:"".concat(t("deviceDataDialog.voltageL1N")," [V]"),backgroundColor:ie(0),borderColor:ie(0),fill:!1,lineTension:0,data:i,pointRadius:0},{label:"".concat(t("deviceDataDialog.voltageL2N")," [V]"),backgroundColor:ie(1),borderColor:ie(1),fill:!1,lineTension:0,data:u,pointRadius:0},{label:"".concat(t("deviceDataDialog.voltageL3N")," [V]"),backgroundColor:ie(2),borderColor:ie(2),fill:!1,lineTension:0,data:p,pointRadius:0}]}})})}),Object(G.jsx)(Z.a,{container:!0,spacing:2,className:e.timePickersContainer,children:Object(G.jsx)(Z.a,{item:!0,xs:12,md:6,children:Object(G.jsx)(ht.a,{variant:"static",autoOk:!0,label:t("eventsPage.dateFromLabel"),value:x,onChange:function(e){return v(z(e))},fullWidth:!0,disableFuture:!0})})})]})},lr=Object(p.a)((function(e){return Object(h.a)({timePickersContainer:{marginTop:e.spacing(2),paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})})),dr=function(){var e=lr(),t=Object(R.a)().t,a=c.a.useState([{x:0,y:0}]),n=Object(s.a)(a,2),i=n[0],o=n[1],l=c.a.useState([{x:0,y:0}]),d=Object(s.a)(l,2),u=d[0],m=d[1],j=c.a.useState([{x:0,y:0}]),g=Object(s.a)(j,2),p=g[0],h=g[1],f=Object(b.c)((function(e){return e.deviceDataDialog.assetID})),x=Object(b.c)((function(e){return e.deviceDataDialog.dateFrom})),v=Object(b.b)();return Object(r.useEffect)((function(){x&&Ia(f,1,new Date(new Date(x.setHours(0,0,0,0))).toISOString(),new Date(new Date(x.setHours(23,59,59,999))).toISOString(),"Voltage_L1_L2,Voltage_L2_L3,Voltage_L3_L1").then((function(e){var t=[],a=[],n=[];e.forEach((function(e){t.push({x:new Date(e._time).valueOf(),y:e.Voltage_L1_L2}),a.push({x:new Date(e._time).valueOf(),y:e.Voltage_L2_L3}),n.push({x:new Date(e._time).valueOf(),y:e.Voltage_L3_L1})})),o(t),m(a),h(n)}))}),[x,f]),Object(G.jsxs)(c.a.Fragment,{children:[Object(G.jsx)(Z.a,{container:!0,spacing:2,children:Object(G.jsx)(Z.a,{item:!0,xs:12,children:Object(G.jsx)(Pe,{data:{datasets:[{label:"".concat(t("deviceDataDialog.voltageL1L2")," [V]"),backgroundColor:ie(0),borderColor:ie(0),fill:!1,lineTension:0,data:i,pointRadius:0},{label:"".concat(t("deviceDataDialog.voltageL2L3")," [V]"),backgroundColor:ie(1),borderColor:ie(1),fill:!1,lineTension:0,data:u,pointRadius:0},{label:"".concat(t("deviceDataDialog.voltageL3L1")," [V]"),backgroundColor:ie(2),borderColor:ie(2),fill:!1,lineTension:0,data:p,pointRadius:0}]}})})}),Object(G.jsx)(Z.a,{container:!0,spacing:2,className:e.timePickersContainer,children:Object(G.jsx)(Z.a,{item:!0,xs:12,md:6,children:Object(G.jsx)(ht.a,{variant:"static",autoOk:!0,label:t("eventsPage.dateFromLabel"),value:x,onChange:function(e){return v(z(e))},fullWidth:!0,disableFuture:!0})})})]})},ur=function(){var e=Object(R.a)().t;return Object(G.jsx)(ge,{name:"TransformerDeviceDetails",tabs:[{label:e("deviceDataDialog.overviewTab"),content:Object(G.jsx)(Qn,{})},{label:e("deviceDataDialog.voltageLNTab"),content:Object(G.jsx)(sr,{})},{label:e("deviceDataDialog.voltageLLTab"),content:Object(G.jsx)(dr,{})},{label:e("deviceDataDialog.currentTab"),content:Object(G.jsx)(zn,{})},{label:e("deviceDataDialog.powerTab"),content:Object(G.jsx)(tr,{})},{label:e("deviceDataDialog.THDUTab"),content:Object(G.jsx)(ir,{})},{label:e("deviceDataDialog.THDITab"),content:Object(G.jsx)(nr,{})}]})},br=Object(p.a)((function(e){return Object(h.a)({appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}})})),mr=c.a.forwardRef((function(e,t){return Object(G.jsx)(Wn.a,Object(se.a)({direction:"up",ref:t},e))})),jr=function(){var e=br(),t=Object(b.c)((function(e){return e.deviceDataDialog.open})),a=Object(b.c)((function(e){return e.deviceDataDialog.deviceName})),r=Object(b.c)((function(e){return e.deviceDataDialog.deviceType})),c=Object(b.c)((function(e){return e.deviceDataDialog.breakerName})),i=Object(b.c)((function(e){return e.deviceDataDialog.sectionName})),o=Object(b.c)((function(e){return e.deviceDataDialog.assetID})),s=Object(b.c)((function(e){return e.deviceDataDialog.switchboardAssetID})),l=Object(b.b)(),d=Object(R.a)().t;return Object(G.jsxs)(Qe.a,{fullScreen:!0,open:t,onClose:function(){return l(U({open:!1,deviceName:a,deviceType:r,breakerName:c,sectionName:i,assetID:o,switchboardAssetID:s}))},TransitionComponent:mr,children:[Object(G.jsx)(le.a,{className:e.appBar,children:Object(G.jsxs)(Rn.a,{children:[Object(G.jsx)(D.a,{edge:"start",color:"inherit",onClick:function(){return l(U({open:!1,deviceName:a,deviceType:r,breakerName:c,sectionName:i,assetID:o,switchboardAssetID:s}))},"aria-label":"close",children:Object(G.jsx)(Bn.a,{})}),Object(G.jsx)(He.a,{variant:"h6",className:e.title,children:r===n.circuitBreaker||r===n.infeedBreaker||r===n.couplingBreaker?"".concat(d("deviceDataDialog.circuitBreaker")," ").concat(c):a}),Object(G.jsx)(Je.a,{color:"inherit",onClick:function(){return ma()},children:d("deviceDataDialog.exportTitle")})]})}),function(){switch(r){case n.circuitBreaker:case n.infeedBreaker:case n.couplingBreaker:return Object(G.jsx)(rr,{});case n.generator:case n.transformer:return Object(G.jsx)(ur,{});default:return null}}()]})},gr=a(46),pr=a(228),hr=Object(m.c)(Nn),fr=Object(l.a)({palette:{type:"light",primary:{light:q.light3,main:q.light1,dark:q.dark3,contrastText:"#fff"},secondary:{light:Q.light4,main:Q.light2,dark:Q.dark3,contrastText:"#fff"}}}),xr=Object(l.a)({palette:{type:"dark",primary:{light:$.light3,main:$.dark6,dark:$.dark3,contrastText:"#fff"},secondary:{light:Y.light6,main:Y.light3,dark:Y.dark4,contrastText:"#fff"}}}),vr=function(){var e=Object(R.a)().i18n,t=c.a.useState("dark"===localStorage.getItem("theme")),a=Object(s.a)(t,2),n=a[0],r=a[1];return Object(G.jsx)(c.a.Fragment,{children:Object(G.jsx)(gr.a,{utils:pr.a,locale:"pl"===e.language?Ae.pl:Ae.enUS,children:Object(G.jsx)(d.a,{theme:n?xr:fr,children:Object(G.jsxs)(b.a,{store:hr,children:[Object(G.jsx)(u.a,{children:Object(G.jsx)(un,{onThemeChange:function(){!0===n?(r(!1),localStorage.setItem("theme","light")):(r(!0),localStorage.setItem("theme","dark"))}})}),Object(G.jsx)(Hn,{}),Object(G.jsx)(jr,{}),Object(G.jsx)(Vn,{})]})})})})},Or=function(e){e&&e instanceof Function&&a.e(5).then(a.bind(null,1213)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},yr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Dr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(G.jsx)(vr,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");yr?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Dr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Dr(t,e)}))}}(),Or(),function(){var e="".concat("","/sw1.js");"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register(e).then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)}),(function(e){console.log("ServiceWorker registration failed: ",e)}))}))}()}},[[742,1,2]]]);
//# sourceMappingURL=main.37ada969.chunk.js.map